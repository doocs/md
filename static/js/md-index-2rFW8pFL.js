import{_ as __vitePreload,h as highlightActiveLineGutter,a as highlightSpecialChars,b as history,f as foldGutter,d as drawSelection,c as dropCursor,E as EditorState,i as indentOnInput,s as syntaxHighlighting,e as bracketMatching,g as closeBrackets,j as autocompletion,r as rectangularSelection,k as crosshairCursor,l as highlightActiveLine,m as highlightSelectionMatches,n as indentationMarkers,o as keymap,p as closeBracketsKeymap,q as defaultKeymap,t as searchKeymap,u as historyKeymap,v as foldKeymap,w as completionKeymap,x as lintKeymap,y as acceptCompletion,z as indentWithTab,A as defaultHighlightStyle,B as css$1,C as EditorView,D as undo,F as redo,G as javascript$1,H as markdown$1,P as Prec,I as placeholder,J as EditorSelection,K as languages,L as markdownLanguage,M as vsCodeDark,N as vsCodeLight,O as Compartment,S as StateEffect,Q as StateField,R as Decoration}from"./md-codemirror-Cyh9cxzF.js";import{Q as k,R as DOMPurify,U as defineComponent,V as ref,W as onMounted,X as createBlock,Y as openBlock,Z as withCtx,_ as createElementBlock,$ as createCommentVNode,a0 as unref,a1 as createBaseVNode,a2 as Transition,a3 as mergeProps,a4 as Toaster_default,a5 as deflateSync,a6 as cloneDeep,a7 as toMerged,a8 as frontMatter,a9 as readingTime,aa as axios,ab as watch,ac as customRef,ad as B,ae as juice,af as defineStore,ag as useDark,ah as onBeforeUnmount,ai as useToggle,aj as computed,ak as reactive,al as storeToRefs,am as toDisplayString,an as Se,ao as renderSlot,ap as normalizeProps,aq as guardReactiveProps,ar as Tv,as as twMerge,at as clsx,au as createVNode,av as kv,aw as Ov,ax as Av,ay as normalizeClass,az as O,aA as cva,aB as Nv,aC as Mv,aD as Fv,aE as Vv,aF as nu,aG as $u,aH as Pu,aI as Xl,aJ as X,aK as Iv,aL as reactiveOmit,aM as useForwardPropsEmits,aN as RadioGroupRoot_default,aO as Vh,aP as useForwardProps,aQ as RadioGroupItem_default,aR as RadioGroupIndicator_default,aS as Circle,aT as useVModel,aU as withDirectives,aV as vModelText,aW as isRef,aX as useAttrs,aY as vModelDynamic,aZ as Ot,a_ as Bu,a$ as toast,b0 as toTypedSchema,b1 as create$3,b2 as create$6,b3 as createTextVNode,b4 as Form,b5 as Field,b6 as toRaw,b7 as gy,b8 as Cy,b9 as Plus,ba as by,bb as wy,bc as Minus,bd as Fragment,be as renderList,bf as Cg,bg as useTemplateRef,bh as onUnmounted,bi as _g,bj as Ay,bk as normalizeStyle,bl as Ry,bm as gg,bn as bg,bo as Ky,bp as Xy,bq as qy,br as Yy,bs as Check,bt as Jy,bu as tg,bv as ChevronDown,bw as eg,bx as ChevronUp,by as Hy,bz as ng,bA as ag,bB as Wy,bC as jy,bD as Qy,bE as wg,bF as xg,bG as create$7,bH as useFileDialog,bI as withModifiers,bJ as CloudUpload,bK as markRaw,bL as Re,bM as Iu,bN as vShow,bO as PenLine,bP as List,bQ as throttle,bR as ArrowUpFromLine,bS as rm,bT as um,bU as dm,bV as vm,bW as fm,bX as im,bY as v4,bZ as onBeforeMount,b_ as toPng,b$ as Rv,c0 as ap,c1 as uh,c2 as fh,c3 as ch,c4 as vh,c5 as dh,c6 as resolveComponent,c7 as ChevronRight,c8 as Ellipsis,c9 as SquarePlus,ca as History,cb as Trash2,cc as Ch,cd as hh,ce as gh,cf as wh,cg as ou,ch as Hg,ci as Wg,cj as Ug,ck as qg,cl as jg,cm as withKeys,cn as ArrowUpNarrowWide,co as ChevronsDownUp,cp as ChevronsUpDown,cq as nextTick,cr as Eye,cs as EyeOff,ct as Info,cu as Image,cv as Settings,cw as MessageCircle,cx as LoaderCircle,cy as Download,cz as Copy,cA as RefreshCcw,cB as vModelCheckbox,cC as Expand,cD as Sun,cE as Moon,cF as Wv,cG as jv,cH as Gh,cI as Yh,cJ as Xh,cK as qh,cL as Uh,cM as sy,cN as ry,cO as ty,cP as ay,cQ as iy,cR as toRefs,cS as Rh,cT as Oh,cU as kh,cV as Ah,cW as ey,cX as Jh,cY as Undo2,cZ as Redo2,c_ as Table,c$ as ContactRound,d0 as ClipboardPaste,d1 as Upload,d2 as FileCode,d3 as FileText,d4 as FileCog,d5 as Cs,d6 as Ss,d7 as _s,d8 as ws,d9 as useClipboard,da as Menu,db as SlidersHorizontal,dc as Palette,dd as SquarePen,de as resolveDynamicComponent,df as Pause,dg as Send,dh as WandSparkles,di as Settings2,dj as Bot,dk as GripVertical,dl as SplitterResizeHandle_default,dm as SplitterGroup_default,dn as Replace,dp as ReplaceAll,dq as useDebounceFn,dr as qiniu,ds as Buffer,dt as COS,du as OSS,dv as CryptoJS,dw as S3Client,dx as getSignedUrl,dy as PutObjectCommand,dz as upload,dA as SplitterPanel_default,dB as Pen,dC as imageCompression,dD as createApp,dE as createPinia}from"./md-vendor_.pnpm-jVxgGqJl.js";import{y as yaml,x as xml,w as wasm,v as vbnet,t as typescript,s as swift,b as sql,d as shell,e as scss,r as rust,f as ruby,h as r,p as pythonRepl,i as python,j as plaintext,k as phpTemplate,l as php,m as perl,o as objectivec,n as markdown,q as makefile,u as lua,z as less,A as kotlin,B as json,C as javascript,D as java,E as ini,F as graphql,G as go,H as diff,I as css,J as csharp,K as cpp,L as c,M as bash,N as HighlightJS}from"./md-hljs-DWhwSlIE.js";import{s as standaloneExports,p as parserPostcss,a as parserBabel,b as parserMarkdown}from"./md-prettier-gvAZAwbV.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&a(l)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function a(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();function ucfirst(t){return t.slice(0,1).toUpperCase()+t.slice(1).toLowerCase()}async function initializeMermaid(){typeof window<"u"&&window.mermaid?window.mermaid.initialize({startOnLoad:!1}):(await __vitePreload(()=>import("mermaid"),[])).default.initialize({startOnLoad:!1})}const COMMON_LANGUAGES={bash,c,cpp,csharp,css,diff,go,graphql,ini,java,javascript,json,kotlin,less,lua,makefile,markdown,objectivec,perl,php,"php-template":phpTemplate,plaintext,python,"python-repl":pythonRepl,r,ruby,rust,scss,shell,sql,swift,typescript,vbnet,wasm,xml,yaml},HLJS_VERSION="11.11.1",HLJS_CDN_BASE=`https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/${HLJS_VERSION}`,loadingLanguages=new Map;function grammarUrlFor(t){return`${HLJS_CDN_BASE}/es/languages/${t}.min.js`}async function loadAndRegisterLanguage(t,e){if(e.getLanguage(t))return;if(loadingLanguages.has(t)){await loadingLanguages.get(t);return}const o=(async()=>{try{const a=await import(grammarUrlFor(t));e.registerLanguage(t,a.default)}catch(a){throw console.warn(`Failed to load language: ${t}`,a),a}finally{loadingLanguages.delete(t)}})();loadingLanguages.set(t,o),await o}function formatHighlightedCode(t,e=!1){let o=t;return o=o.replace(/(<span[^>]*>[^<]*<\/span>)(\s+)(<span[^>]*>[^<]*<\/span>)/g,(a,n,s,l)=>n+l.replace(/^(<span[^>]*>)/,`$1${s}`)),o=o.replace(/(\s+)(<span[^>]*>)/g,(a,n,s)=>s.replace(/^(<span[^>]*>)/,`$1${n}`)),o=o.replace(/\t/g,"    "),e?o=o.replace(/\r\n/g,"<br/>").replace(/\n/g,"<br/>").replace(/(>[^<]+)|(^[^<]+)/g,a=>a.replace(/\s/g,"&nbsp;")):o=o.replace(/(>[^<]+)|(^[^<]+)/g,a=>a.replace(/\s/g,"&nbsp;")),o}function highlightAndFormatCode(t,e,o,a){let n="";if(a){const l=t.replace(/\r\n/g,`
`).split(`
`).map(p=>{const b=o.highlight(p,{language:e}).value,h=formatHighlightedCode(b,!1);return h===""?"&nbsp;":h}),i=l.map((p,b)=>`<section style="padding:0 10px 0 0;line-height:1.75">${b+1}</section>`).join(""),f=`<div style="white-space:pre;min-width:max-content;line-height:1.75">${l.join("<br/>")}</div>`;n=`
      <section style="display:flex;align-items:flex-start;overflow-x:hidden;overflow-y:auto;width:100%;max-width:100%;padding:0;box-sizing:border-box">
        <section class="line-numbers" style="text-align:right;padding:8px 0;border-right:1px solid rgba(0,0,0,0.04);user-select:none;background:var(--code-bg,transparent);">${i}</section>
        <section class="code-scroll" style="flex:1 1 auto;overflow-x:auto;overflow-y:visible;padding:8px;min-width:0;box-sizing:border-box">${f}</section>
      </section>
    `}else{const s=o.highlight(t,{language:e}).value;n=formatHighlightedCode(s,!0)}return n}function highlightCodeBlock(t,e,o){const a=t.getAttribute("data-raw-code"),n=t.getAttribute("data-show-line-number")==="true";if(!a)return;const s=a.replace(/&quot;/g,'"'),l=highlightAndFormatCode(s,e,o,n);t.innerHTML=l,t.removeAttribute("data-language-pending"),t.removeAttribute("data-raw-code"),t.removeAttribute("data-show-line-number")}function highlightPendingBlocks(t,e=document){e.querySelectorAll("code[data-language-pending]").forEach(a=>{const n=a.getAttribute("data-language-pending");n&&(t.getLanguage(n)?highlightCodeBlock(a,n,t):loadAndRegisterLanguage(n,t).then(()=>{highlightCodeBlock(a,n,t)}).catch(()=>{a.removeAttribute("data-language-pending"),a.removeAttribute("data-raw-code"),a.removeAttribute("data-show-line-number")}))})}function renderMarkdown(t,e){const{markdownContent:o,readingTime:a}=e.parseFrontMatterAndContent(t);let n=k.parse(o);return n=DOMPurify.sanitize(n,{ADD_TAGS:["mp-common-profile"]}),{html:n,readingTime:a}}function postProcessHtml(t,e,o){let a=t;return a=o.buildReadingTime(e)+a,a=a.replace(/(style=".*?)"/,'$1;margin-top: 0"'),a+=o.buildFootnotes(),a+=o.buildAddition(),a+=`
    <style>
      .hljs.code__pre > .mac-sign {
        display: ${o.getOpts().isMacCodeBlock?"flex":"none"};
      }
    </style>
  `,a+=`
    <style>
      .code__pre {
        padding: 0 !important;
      }

      .hljs.code__pre code {
        display: -webkit-box;
        padding: 0.5em 1em 1em;
        overflow-x: auto;
        text-indent: 0;
      }
      h2 strong {
        color: inherit !important;
      }
    </style>
  `,o.createContainer(a)}function customizeTheme(t,e){const o=JSON.parse(JSON.stringify(t)),{fontSize:a,color:n}=e;if(a)for(let s=1;s<=6;s++){const l=o.block[`h${s}`]["font-size"];o.block[`h${s}`]["font-size"]=`${a*Number.parseFloat(l)}px`}return n&&(o.base["--md-primary-color"]=n),o}function customCssWithTemplate(t,e,o){const a=customizeTheme(o,{color:e}),n=(i,d,f)=>{f.forEach(u=>{d[u]&&(i[u]=Object.assign(i[u]||{},d[u]))})},s=["container","h1","h2","h3","h4","h5","h6","code","code_pre","p","hr","blockquote","blockquote_note","blockquote_tip","blockquote_important","blockquote_warning","blockquote_caution","blockquote_p","blockquote_p_note","blockquote_p_tip","blockquote_p_important","blockquote_p_warning","blockquote_p_caution","blockquote_title","blockquote_title_note","blockquote_title_tip","blockquote_title_important","blockquote_title_warning","blockquote_title_caution","image","ul","ol","block_katex"],l=["listitem","codespan","link","wx_link","strong","table","thead","th","td","footnote","figcaption","em","inline_katex"];return n(a.block,t,s),n(a.inline,t,l),a}function getStyleString(t){return Object.entries(t??{}).map(([e,o])=>`${e}: ${o}`).join("; ")}const _hoisted_1$w={key:0,class:"loading"},_sfc_main$1U=defineComponent({__name:"AppSplash",setup(t){const e=ref(!0);return onMounted(()=>{setTimeout(()=>{e.value=!1},100)}),(o,a)=>(openBlock(),createBlock(Transition,{name:"fade"},{default:withCtx(()=>[unref(e)?(openBlock(),createElementBlock("div",_hoisted_1$w,[...a[0]||(a[0]=[createBaseVNode("strong",null,"致力于让 Markdown 编辑更简单",-1)])])):createCommentVNode("",!0)]),_:1}))}}),_export_sfc=(t,e)=>{const o=t.__vccOpts||t;for(const[a,n]of e)o[a]=n;return o},__unplugin_components_0$1=_export_sfc(_sfc_main$1U,[["__scopeId","data-v-8d32b142"]]),_sfc_main$1T=defineComponent({__name:"Sonner",props:{id:{},invert:{type:Boolean},theme:{},position:{},closeButtonPosition:{},hotkey:{},richColors:{type:Boolean},expand:{type:Boolean},duration:{},gap:{},visibleToasts:{},closeButton:{type:Boolean},toastOptions:{},class:{},style:{},offset:{},mobileOffset:{},dir:{},swipeDirections:{},icons:{},containerAriaLabel:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(Toaster_default),mergeProps({class:"toaster group"},e),null,16))}});function markedAlert(t={}){const{className:e="markdown-alert",variants:o=[],withoutStyle:a=!1}=t,n=resolveVariants(o);function s(i,d,f=!1){const{styles:u}=t;return{className:e,variant:i,icon:d.icon,title:d.title??ucfirst(i),titleClassName:`${e}-title`,fromContainer:f,wrapperStyle:{...u?.blockquote,...u?.[`blockquote_${i}`]},titleStyle:{...u?.blockquote_title,...u?.[`blockquote_title_${i}`]},contentStyle:{...u?.blockquote_p,...u?.[`blockquote_p_${i}`]}}}function l(i){const{meta:d,tokens:f=[]}=i;let u=this.parser.parse(f);u=u.replace(/<p .*?>/g,`<p style="${getStyleString(d.contentStyle)}">`);let p=`<blockquote class="${d.className} ${d.className}-${d.variant}" style="${getStyleString(d.wrapperStyle)}">
`;return p+=`<p class="${d.titleClassName}" style="${getStyleString(d.titleStyle)}">`,a||(p+=d.icon.replace("<svg",`<svg style="fill: ${d.titleStyle?.color??"inherit"}"`)),p+=d.title,p+=`</p>
`,p+=u,p+=`</blockquote>
`,p}return{walkTokens(i){if(i.type!=="blockquote")return;const d=n.find(({type:f})=>new RegExp(createSyntaxPattern(f),"i").test(i.text));if(d){const{type:f}=d,u=new RegExp(createSyntaxPattern(f),"i");Object.assign(i,{type:"alert",meta:s(f,d)});const p=i.tokens?.[0];if(p.raw?.replace(u,"").trim()){const h=p.tokens[0];Object.assign(h,{raw:h.raw.replace(u,""),text:h.text.replace(u,"")}),p.tokens[1]?.type==="br"&&p.tokens.splice(1,1)}else i.tokens?.shift()}},extensions:[{name:"alert",level:"block",renderer:l},{name:"alertContainer",level:"block",start(i){return i.match(/^:::/)?.index},tokenizer(i,d){const f=/^:::\s*(\w+)\s*\n([\s\S]*?)\n:::/.exec(i);if(f){const[u,p,b]=f,h=n.find(_=>_.type===p);return h?{type:"alert",raw:u,text:b.trim(),tokens:this.lexer.blockTokens(b.trim()),meta:s(p,h,!0)}:void 0}},renderer:l}]}}const defaultAlertVariant=[{type:"note",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"info",icon:'<svg class="octicon octicon-info" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8Zm8-6.5a6.5 6.5 0 1 0 0 13 6.5 6.5 0 0 0 0-13ZM6.5 7.75A.75.75 0 0 1 7.25 7h1a.75.75 0 0 1 .75.75v2.75h.25a.75.75 0 0 1 0 1.5h-2a.75.75 0 0 1 0-1.5h.25v-2h-.25a.75.75 0 0 1-.75-.75ZM8 6a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'},{type:"tip",icon:'<svg class="octicon octicon-light-bulb" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M8 1.5c-2.363 0-4 1.69-4 3.75 0 .984.424 1.625.984 2.304l.214.253c.223.264.47.556.673.848.284.411.537.896.621 1.49a.75.75 0 0 1-1.484.211c-.04-.282-.163-.547-.37-.847a8.456 8.456 0 0 0-.542-.68c-.084-.1-.173-.205-.268-.32C3.201 7.75 2.5 6.766 2.5 5.25 2.5 2.31 4.863 0 8 0s5.5 2.31 5.5 5.25c0 1.516-.701 2.5-1.328 3.259-.095.115-.184.22-.268.319-.207.245-.383.453-.541.681-.208.3-.33.565-.37.847a.751.751 0 0 1-1.485-.212c.084-.593.337-1.078.621-1.489.203-.292.45-.584.673-.848.075-.088.147-.173.213-.253.561-.679.985-1.32.985-2.304 0-2.06-1.637-3.75-4-3.75ZM5.75 12h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1 0-1.5ZM6 15.25a.75.75 0 0 1 .75-.75h2.5a.75.75 0 0 1 0 1.5h-2.5a.75.75 0 0 1-.75-.75Z"></path></svg>'},{type:"important",icon:'<svg class="octicon octicon-report" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M0 1.75C0 .784.784 0 1.75 0h12.5C15.216 0 16 .784 16 1.75v9.5A1.75 1.75 0 0 1 14.25 13H8.06l-2.573 2.573A1.458 1.458 0 0 1 3 14.543V13H1.75A1.75 1.75 0 0 1 0 11.25Zm1.75-.25a.25.25 0 0 0-.25.25v9.5c0 .138.112.25.25.25h2a.75.75 0 0 1 .75.75v2.19l2.72-2.72a.749.749 0 0 1 .53-.22h6.5a.25.25 0 0 0 .25-.25v-9.5a.25.25 0 0 0-.25-.25Zm7 2.25v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 9a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"warning",icon:'<svg class="octicon octicon-alert" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M6.457 1.047c.659-1.234 2.427-1.234 3.086 0l6.082 11.378A1.75 1.75 0 0 1 14.082 15H1.918a1.75 1.75 0 0 1-1.543-2.575Zm1.763.707a.25.25 0 0 0-.44 0L1.698 13.132a.25.25 0 0 0 .22.368h12.164a.25.25 0 0 0 .22-.368Zm.53 3.996v2.5a.75.75 0 0 1-1.5 0v-2.5a.75.75 0 0 1 1.5 0ZM9 11a1 1 0 1 1-2 0 1 1 0 0 1 2 0Z"></path></svg>'},{type:"caution",icon:'<svg class="octicon octicon-stop" style="margin-right: 0.25em;" viewBox="0 0 16 16" width="16" height="16" aria-hidden="true"><path d="M4.47.22A.749.749 0 0 1 5 0h6c.199 0 .389.079.53.22l4.25 4.25c.141.14.22.331.22.53v6a.749.749 0 0 1-.22.53l-4.25 4.25A.749.749 0 0 1 11 16H5a.749.749 0 0 1-.53-.22L.22 11.53A.749.749 0 0 1 0 11V5c0-.199.079-.389.22-.53Zm.84 1.28L1.5 5.31v5.38l3.81 3.81h5.38l3.81-3.81V5.31L10.69 1.5ZM8 4a.75.75 0 0 1 .75.75v3.5a.75.75 0 0 1-1.5 0v-3.5A.75.75 0 0 1 8 4Zm0 8a1 1 0 1 1 0-2 1 1 0 0 1 0 2Z"></path></svg>'}];function resolveVariants(t){return t.length?Object.values([...defaultAlertVariant,...t].reduce((e,o)=>(e[o.type]=o,e),{})):defaultAlertVariant}function createSyntaxPattern(t){return`^(?:\\[!${t}])\\s*?
*`}const fnMap=new Map;function markedFootnotes(){return{extensions:[{name:"footnoteDef",level:"block",start(t){return fnMap.clear(),t.match(/^\[\^/)?.index},tokenizer(t){const e=t.match(/^\[\^(.*)\]:(.*)/);if(e){const[o,a,n]=e,s=fnMap.size+1;return fnMap.set(a,{index:s,text:n}),{type:"footnoteDef",raw:o,fnId:a,index:s,text:n}}},renderer(t){const{index:e,text:o,fnId:a}=t,n=`
                <code>${e}.</code> 
                <span>${o}</span> 
                    <a id="fnDef-${a}" href="#fnRef-${a}" style="color: var(--md-primary-color);">↩︎</a>
                <br>`;return e===1?`
            <p style="font-size: 80%;margin: 0.5em 8px;word-break:break-all;">${n}`:e===fnMap.size?`${n}</p>`:n}},{name:"footnoteRef",level:"inline",start(t){return t.match(/\[\^/)?.index},tokenizer(t){const e=t.match(/^\[\^(.*?)\]/);if(e){const[o,a]=e;if(fnMap.has(a))return{type:"footnoteRef",raw:o,fnId:a}}},renderer(t){const{fnId:e}=t,{index:o}=fnMap.get(e);return`<sup style="color: var(--md-primary-color);">
                    <a href="#fnDef-${e}" id="fnRef-${e}">[${o}]</a>
                </sup>`}}]}}const inlineRule=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1(?=[\s?!.,:？！。，：]|$)/,inlineRuleNonStandard=/^(\${1,2})(?!\$)((?:\\.|[^\\\n])*?(?:\\.|[^\\\n$]))\1/,blockRule=/^\s{0,3}(\${1,2})[ \t]*\n([\s\S]+?)\n\s{0,3}\1[ \t]*(?:\n|$)/,inlineLatexRule=/^\\\(([^\\]*(?:\\.[^\\]*)*?)\\\)/,blockLatexRule=/^\\\[([^\\]*(?:\\.[^\\]*)*?)\\\]/;function createRenderer(t,e,o,a=!0){return n=>{window.MathJax.texReset();const l=window.MathJax.tex2svg(n.text,{display:t}).firstChild,i=l.style["min-width"]||l.getAttribute("width");return l.removeAttribute("width"),a&&(l.style.display="initial",l.style.setProperty("max-width","300vw","important"),l.style.flexShrink="0",l.style.width=i),t?`<section ${o}>${l.outerHTML}</section>`:`<span ${e}>${l.outerHTML}</span>`}}function inlineKatex(t,e){const o=t&&t.nonStandard,a=o?inlineRuleNonStandard:inlineRule;return{name:"inlineKatex",level:"inline",start(n){let s,l=n;for(;l;){if(s=l.indexOf("$"),s===-1)return;if((o?s>-1:s===0||l.charAt(s-1)===" ")&&l.substring(s).match(a))return s;l=l.substring(s+1).replace(/^\$+/,"")}},tokenizer(n){const s=n.match(a);if(s)return{type:"inlineKatex",raw:s[0],text:s[2].trim(),displayMode:s[1].length===2}},renderer:e}}function blockKatex(t,e){return{name:"blockKatex",level:"block",tokenizer(o){const a=o.match(blockRule);if(a)return{type:"blockKatex",raw:a[0],text:a[2].trim(),displayMode:a[1].length===2}},renderer:e}}function inlineLatexKatex(t,e){return{name:"inlineLatexKatex",level:"inline",start(o){const a=o.indexOf("\\(");return a!==-1?a:void 0},tokenizer(o){const a=o.match(inlineLatexRule);if(a)return{type:"inlineLatexKatex",raw:a[0],text:a[1].trim(),displayMode:!1}},renderer:e}}function blockLatexKatex(t,e){return{name:"blockLatexKatex",level:"block",start(o){const a=o.indexOf("\\[");return a!==-1?a:void 0},tokenizer(o){const a=o.match(blockLatexRule);if(a)return{type:"blockLatexKatex",raw:a[0],text:a[1].trim(),displayMode:!0}},renderer:e}}function MDKatex(t,e,o,a=!0){return{extensions:[inlineKatex(t,createRenderer(!1,e,o,a)),blockKatex(t,createRenderer(!0,e,o,a)),inlineLatexKatex(t,createRenderer(!1,e,o,a)),blockLatexKatex(t,createRenderer(!0,e,o,a))]}}function markedMarkup(t={}){const{styles:e}=t;return{extensions:[{name:"markup_highlight",level:"inline",start(o){return o.match(/==(?!=)/)?.index},tokenizer(o){const n=/^==((?:[^=]|=(?!=))+)==/.exec(o);if(n)return{type:"markup_highlight",raw:n[0],text:n[1]}},renderer(o){return`<span class="markup-highlight" style="${getStyleString(e?.markup_highlight??{})}">${o.text}</span>`}},{name:"markup_underline",level:"inline",start(o){return o.match(/\+\+(?!\+)/)?.index},tokenizer(o){const n=/^\+\+((?:[^+]|\+(?!\+))+)\+\+/.exec(o);if(n)return{type:"markup_underline",raw:n[0],text:n[1]}},renderer(o){return`<span class="markup-underline" style="${getStyleString(e?.markup_underline??{})}">${o.text}</span>`}},{name:"markup_wavyline",level:"inline",start(o){return o.match(/~(?!~)/)?.index},tokenizer(o){const n=/^~([^~\n]+)~(?!~)/.exec(o);if(n)return{type:"markup_wavyline",raw:n[0],text:n[1]}},renderer(o){return`<span class="markup-wavyline" style="${getStyleString(e?.markup_wavyline??{})}">${o.text}</span>`}}]}}function encode6bit(t){return t<10?String.fromCharCode(48+t):(t-=10,t<26?String.fromCharCode(65+t):(t-=26,t<26?String.fromCharCode(97+t):(t-=26,t===0?"-":t===1?"_":"?")))}function append3bytes(t,e,o){const a=t>>2,n=(t&3)<<4|e>>4,s=(e&15)<<2|o>>6,l=o&63;let i="";return i+=encode6bit(a&63),i+=encode6bit(n&63),i+=encode6bit(s&63),i+=encode6bit(l&63),i}function encode64(t){let e="";for(let o=0;o<t.length;o+=3)o+2===t.length?e+=append3bytes(t.charCodeAt(o),t.charCodeAt(o+1),0):o+1===t.length?e+=append3bytes(t.charCodeAt(o),0,0):e+=append3bytes(t.charCodeAt(o),t.charCodeAt(o+1),t.charCodeAt(o+2));return e}function performDeflate(t){try{const e=new TextEncoder().encode(t),o=deflateSync(e,{level:9});return String.fromCharCode(...o)}catch(e){return console.warn("Deflate compression failed:",e),t}}function encodePlantUML(t){try{const e=performDeflate(t);return encode64(e)}catch(e){console.warn("PlantUML encoding failed, using fallback:",e);const o=new TextEncoder().encode(t);return`~1${btoa(String.fromCharCode(...o)).replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}`}}function generatePlantUMLUrl(t,e){const o=encodePlantUML(t),a=e.format==="svg"?"svg":"png";return`${e.serverUrl}/${a}/${o}`}function renderPlantUMLDiagram(t,e){const{text:o}=t,a=!o.trim().includes("@start")||!o.trim().includes("@end")?`@startuml
${o.trim()}
@enduml`:o,n=generatePlantUMLUrl(a,e);if(e.inlineSvg&&e.format==="svg"){const s=`plantuml-placeholder-${Math.random().toString(36).slice(2,11)}`;fetchSvgContent(n).then(i=>{const d=document.querySelector(`[data-placeholder="${s}"]`);d&&(d.outerHTML=createPlantUMLHTML(n,e,i))});const l=e.styles.container?Object.entries(e.styles.container).map(([i,d])=>`${i.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${d}`).join("; "):"";return`<div class="${e.className}" style="${l}" data-placeholder="${s}">
      <div style="color: #666; font-style: italic;">正在加载PlantUML图表...</div>
    </div>`}return createPlantUMLHTML(n,e)}async function fetchSvgContent(t){try{const e=await fetch(t);if(!e.ok)throw new Error(`HTTP ${e.status}`);return(await e.text()).replace(/(<svg[^>]*)\swidth="[^"]*"/g,"$1").replace(/(<svg[^>]*)\sheight="[^"]*"/g,"$1").replace(/(<svg[^>]*style="[^"]*?)width:[^;]*;?/g,"$1").replace(/(<svg[^>]*style="[^"]*?)height:[^;]*;?/g,"$1")}catch(e){return console.warn(`Failed to fetch SVG content from ${t}:`,e),'<div style="color: #666; font-style: italic;">PlantUML图表加载失败</div>'}}function createPlantUMLHTML(t,e,o){const a=e.styles.container?Object.entries(e.styles.container).map(([n,s])=>`${n.replace(/([A-Z])/g,"-$1").toLowerCase()}: ${s}`).join("; "):"";return o?`<div class="${e.className}" style="${a}">
      ${o}
    </div>`:`<div class="${e.className}" style="${a}">
    <img src="${t}" alt="PlantUML Diagram" style="max-width: 100%; height: auto;" />
  </div>`}function markedPlantUML(t={}){const e={serverUrl:t.serverUrl||"https://www.plantuml.com/plantuml",format:t.format||"svg",className:t.className||"plantuml-diagram",inlineSvg:t.inlineSvg||!1,styles:{container:{textAlign:"center",margin:"16px 8px",overflowX:"auto",...t.styles?.container}}};return{extensions:[{name:"plantuml",level:"block",start(o){return o.match(/^```plantuml/m)?.index},tokenizer(o){const a=/^```plantuml\r?\n([\s\S]*?)\r?\n```/.exec(o);if(a){const[n,s]=a;return{type:"plantuml",raw:n,text:s.trim()}}},renderer(o){return renderPlantUMLDiagram(o,e)}}],walkTokens(o){o.type==="code"&&o.lang==="plantuml"&&(o.type="plantuml")}}}function markedRuby(){return{extensions:[{name:"ruby",level:"inline",start(t){return t.match(/\[/)?.index},tokenizer(t){let o=/^\[([^\]]+)\]\{([^}]+)\}/.exec(t);if(o)return{type:"ruby",raw:o[0],text:o[1].trim(),ruby:o[2].trim(),format:"basic"};if(o=/^\[([^\]]+)\]\^\(([^)]+)\)/.exec(t),o)return{type:"ruby",raw:o[0],text:o[1].trim(),ruby:o[2].trim(),format:"basic-hat"}},renderer(t){const{text:e,ruby:o,format:a}=t,n=/[・．。-]/g;if(n.test(o)){const l=o.split(n).filter(f=>f.trim()!==""),i=e.split(""),d=[];if(i.length>=l.length){let f=0;for(let u=0;u<l.length;u++){const p=l[u],b=i.length-f,h=l.length-u;let _=1;h===1&&(_=b);const C=i.slice(f,f+_).join("");d.push(`<ruby data-text="${C}" data-ruby="${p}" data-format="${a}">${C}<rp>(</rp><rt>${p}</rt><rp>)</rp></ruby>`),f+=_}f<i.length&&d.push(i.slice(f).join(""))}else for(let f=0;f<i.length;f++){const u=i[f],p=l[f]||"";p?d.push(`<ruby data-text="${u}" data-ruby="${p}" data-format="${a}">${u}<rp>(</rp><rt>${p}</rt><rp>)</rp></ruby>`):d.push(u)}return d.join("")}return`<ruby data-text="${e}" data-ruby="${o}" data-format="${a}">${e}<rp>(</rp><rt>${o}</rt><rp>)</rp></ruby>`}}]}}function markedSlider(t={}){return{extensions:[{name:"horizontalSlider",level:"block",start(e){return e.match(/^<!\[/)?.index},tokenizer(e){const o=/^<(!\[.*?\]\(.*?\)(?:,!\[.*?\]\(.*?\))*)>/,a=e.match(o);if(a)return{type:"horizontalSlider",raw:a[0],text:a[1]}},renderer(e){const{text:o}=e,a=o.match(/!\[(.*?)\]\((.*?)\)/g)||[];return a.length===0?"":`
            <section style="box-sizing: border-box; font-size: 16px;">
              <section data-role="outer" style="font-family: 微软雅黑; font-size: 16px;">
                <section data-role="paragraph" style="margin: 0px auto; box-sizing: border-box; width: 100%;">
                  <section style="margin: 0px auto; text-align: center;">
                    <section style="display: inline-block; width: 100%;">
                      <!-- 微信公众号支持的滑动图片容器 -->
                      <section style="overflow-x: scroll; -webkit-overflow-scrolling: touch; white-space: nowrap; width: 100%; text-align: center;">
                        ${a.map(s=>{const l=s.match(/!\[(.*?)\]/)||[],i=s.match(/\]\((.*?)\)/)||[],d=l[1]||"",f=i[1]||"",{styles:u}=t,p=u?getStyleString(u.image):"";return{src:f,alt:d,imgStyles:p}}).map((s,l)=>`<section style="display: inline-block; width: 100%; margin-right: 0; vertical-align: top;">
                          <img src="${s.src}" alt="${s.alt}" title="${s.alt}" style="${s.imgStyles}; width: 100%; height: auto; border-radius: 4px; vertical-align: top;"/>
                          <p style="margin-top: 5px; font-size: 14px; color: #666; text-align: center; white-space: normal;">${s.alt}</p>
                        </section>`).join("")}
                      </section>
                    </section>
                  </section>
                </section>
              </section>
              <p style="font-size: 14px; color: #999; text-align: center; margin-top: 5px;"><<< 左右滑动看更多 >>></p>
            </section>
          `}}]}}function markedToc(){let t=[],e=!0;return{walkTokens(o){if(e&&(t=[],e=!1),o.type==="heading"){const a=o.text||"",n=o.depth||1,s=t.length;t.push({text:a,depth:n,index:s})}},extensions:[{name:"toc",level:"block",start(o){const a=o.match(/^\s*\[TOC\]\s*$/m);return a?a.index:void 0},tokenizer(o){const a=/^\[TOC\]/.exec(o);if(a)return{type:"toc",raw:a[0]}},renderer(){if(!t.length)return"";let o='<nav class="markdown-toc"><ul class="toc-ul toc-level-1 pl-4 border-l ml-2">',a=1;t.forEach(({text:n,depth:s,index:l})=>{if(s>a)for(let i=a+1;i<=s;i++)o+=`<ul class="toc-ul toc-level-${i} pl-4 border-l ml-2">`;else if(s<a)for(let i=a;i>s;i--)o+="</ul>";o+=`<li class="toc-li toc-level-${s} mb-1"><a class="text-gray-700 hover:text-blue-600 underline transition-colors" href="#${l}">${n}</a></li>`,a=s});for(let n=a;n>1;n--)o+="</ul>";return o+="</ul></nav>",e=!0,o}}]}}Object.entries(COMMON_LANGUAGES).forEach(([t,e])=>{HighlightJS.registerLanguage(t,e)});k.setOptions({breaks:!0});k.use(markedSlider());function buildTheme({theme:t,fonts:e,size:o,isUseIndent:a,isUseJustify:n}){const s=cloneDeep(t),l=toMerged(s.base,{"font-family":e,"font-size":o});a&&(s.block.p={"text-indent":"2em",...s.block.p}),n&&(s.block.p={"text-align":"justify",...s.block.p});const i=d=>Object.fromEntries(Object.entries(d).map(([f,u])=>[f,toMerged(l,u)]));return{...i(s.inline),...i(s.block)}}function escapeHtml(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/`/g,"&#96;")}function buildAddition(){return`
    <style>
      .preview-wrapper pre::before {
        position: absolute;
        top: 0;
        right: 0;
        color: #ccc;
        text-align: center;
        font-size: 0.8em;
        padding: 5px 10px 0;
        line-height: 15px;
        height: 15px;
        font-weight: 600;
      }
    </style>
  `}function getStyles(t,e,o=""){const a=t[e];return a?`style="${getStyleString(a)}${o}"`:""}function buildFootnoteArray(t){return t.map(([e,o,a])=>a===o?`<code style="font-size: 90%; opacity: 0.6;">[${e}]</code>: <i style="word-break: break-all">${o}</i><br/>`:`<code style="font-size: 90%; opacity: 0.6;">[${e}]</code> ${o}: <i style="word-break: break-all">${a}</i><br/>`).join(`
`)}function transform(t,e,o){const a=t.split("-");for(const n of a){if(n==="alt"&&e)return e;if(n==="title"&&o)return o}return""}const macCodeSvg=`
  <svg xmlns="http://www.w3.org/2000/svg" version="1.1" x="0px" y="0px" width="45px" height="13px" viewBox="0 0 450 130">
    <ellipse cx="50" cy="65" rx="50" ry="52" stroke="rgb(220,60,54)" stroke-width="2" fill="rgb(237,108,96)" />
    <ellipse cx="225" cy="65" rx="50" ry="52" stroke="rgb(218,151,33)" stroke-width="2" fill="rgb(247,193,81)" />
    <ellipse cx="400" cy="65" rx="50" ry="52" stroke="rgb(27,161,37)" stroke-width="2" fill="rgb(100,200,86)" />
  </svg>
`.trim();function parseFrontMatterAndContent(t){try{const e=frontMatter(t),o=e.attributes,a=e.body,n=readingTime(a);return{yamlData:o,markdownContent:a,readingTime:n}}catch(e){return console.error("Error parsing front-matter:",e),{yamlData:{},markdownContent:t,readingTime:readingTime(t)}}}function initRenderer(t){const e=[];let o=0,a=buildTheme(t),n=0;const s=[],l=[];function i(){return t}function d(g,w=""){return getStyles(a,g,w)}function f(g,w,x){const m=x??g;return`<${m} ${/^h\d$/.test(m)?'data-heading="true"':""} ${d(g)}>${w}</${m}>`}function u(g,w){const x=e.find(([,,m])=>m===w);return x?x[0]:(e.push([++o,g,w]),o)}function p(g){e.length=0,o=0,b(g)}function b(g){t={...t,...g};const w=JSON.stringify(a);a=buildTheme(t);const x=JSON.stringify(a);w!==x&&(k.use(markedAlert({styles:a})),k.use(MDKatex({nonStandard:!0},d("inline_katex",";line-height: 1;"),d("block_katex",";text-align: center;"))),k.use(markedMarkup({styles:a})))}function h(g){return!t.countStatus||!g.words?"":`
      <blockquote ${d("blockquote")}>
        <p ${d("blockquote_p")}>字数 ${g?.words}，阅读大约需 ${Math.ceil(g?.minutes)} 分钟</p>
      </blockquote>
    `}const _=()=>e.length?f("h4","引用链接")+f("footnotes",buildFootnoteArray(e),"p"):"",C={heading({tokens:g,depth:w}){const x=this.parser.parseInline(g),m=`h${w}`;return f(m,x)},paragraph({tokens:g}){const w=this.parser.parseInline(g),x=w.includes("<figure")&&w.includes("<img"),m=w.trim()==="";return x||m?w:f("p",w)},blockquote({tokens:g}){let w=this.parser.parse(g);return w=w.replace(/<p .*?>/g,`<p ${d("blockquote_p")}>`),f("blockquote",w)},code({text:g,lang:w=""}){if(w.startsWith("mermaid"))return clearTimeout(n),n=setTimeout(async()=>{typeof window<"u"&&window.mermaid?await window.mermaid.run():await(await __vitePreload(()=>import("mermaid"),[])).default.run()},0),`<pre class="mermaid">${g}</pre>`;const x=w.split(" ")[0],m=HighlightJS.getLanguage(x),N=highlightAndFormatCode(g,m?x:"plaintext",HighlightJS,!!t.isShowLineNumber),T=`<span class="mac-sign" style="padding: 10px 14px 0;">${macCodeSvg}</span>`;let M="";if(!m&&x!=="plaintext"){const Q=g.replace(/"/g,"&quot;");M=` data-language-pending="${x}" data-raw-code="${Q}" data-show-line-number="${t.isShowLineNumber}"`}const E=`<code class="language-${w}"${M} ${d("code")}>${N}</code>`;return`<pre class="hljs code__pre" ${d("code_pre")}>${T}${E}</pre>`},codespan({text:g}){const w=escapeHtml(g);return f("codespan",w,"code")},list({ordered:g,items:w,start:x=1}){s.push(g),l.push(Number(x));const m=w.map(G=>this.listitem(G)).join("");return s.pop(),l.pop(),f(g?"ol":"ul",m)},listitem(g){const w=s[s.length-1],x=l[l.length-1];l[l.length-1]=x+1;const m=w?`${x}. `:"• ";let G;try{G=this.parser.parseInline(g.tokens)}catch{G=this.parser.parse(g.tokens).replace(/^<p(?:\s[^>]*)?>([\s\S]*?)<\/p>/,"$1")}return f("listitem",`${m}${G}`,"li")},image({href:g,title:w,text:x}){const m=f("figcaption",transform(t.legend,x,w)),G=d("figure"),N=d("image");return`<figure ${G}><img ${N} src="${g}" title="${w}" alt="${x}"/>${m}</figure>`},link({href:g,title:w,text:x,tokens:m}){const G=this.parser.parseInline(m);if(/^https?:\/\/mp\.weixin\.qq\.com/.test(g))return`<a href="${g}" title="${w||x}" ${d("wx_link")}>${G}</a>`;if(g===x)return G;if(t.citeStatus){const N=u(w||x,g);return`<span ${d("link")}>${G}<sup>[${N}]</sup></span>`}return f("link",G,"span")},strong({tokens:g}){return f("strong",this.parser.parseInline(g))},em({tokens:g}){return f("em",this.parser.parseInline(g),"span")},table({header:g,rows:w}){const x=g.map(G=>{const N=this.parser.parseInline(G.tokens);return f("th",N)}).join(""),m=w.map(G=>{const N=G.map(T=>this.tablecell(T)).join("");return f("tr",N)}).join("");return`
        <section style="max-width: 100%; overflow: auto">
          <table class="preview-table" ${d("table")}>
            <thead ${d("thead")}>${x}</thead>
            <tbody>${m}</tbody>
          </table>
        </section>
      `},tablecell(g){const w=this.parser.parseInline(g.tokens);return f("td",w)},hr(g){return f("hr","")}};return k.use({renderer:C}),k.use(markedMarkup({styles:a})),k.use(markedToc()),k.use(markedSlider({styles:a})),k.use(markedAlert({styles:a})),k.use(MDKatex({nonStandard:!0},d("inline_katex",";line-height: 1;"),d("block_katex",";text-align: center;"))),k.use(markedFootnotes()),k.use(markedPlantUML({inlineSvg:!0})),k.use(markedRuby()),{buildAddition,buildFootnotes:_,setOptions:b,reset:p,parseFrontMatterAndContent,buildReadingTime:h,createContainer(g){return f("container",g,"section")},getOpts:i}}const DEFAULT_SERVICE_ENDPOINT="https://proxy-ai.doocs.org/v1",DEFAULT_SERVICE_TEMPERATURE=1,DEFAULT_SERVICE_MAX_TOKEN=1024,DEFAULT_SERVICE_TYPE="default",DEFAULT_SERVICE_KEY="",serviceOptions=[{value:"default",label:"内置服务",endpoint:DEFAULT_SERVICE_ENDPOINT,models:["Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","THUDM/GLM-Z1-9B-0414","THUDM/GLM-4-9B-0414","internlm/internlm2_5-7b-chat","qwen/qwen3-30b-a3b:free","qwen/qwen3-8b:free","qwen/qwen3-14b:free","qwen/qwen3-32b:free","qwen/qwen3-235b-a22b:free","tngtech/deepseek-r1t-chimera:free","thudm/glm-z1-9b:free","thudm/glm-z1-32b:free","thudm/glm-4-9b:free","thudm/glm-4-32b:free","microsoft/mai-ds-r1:free","arliai/qwq-32b-arliai-rpr-v1:free","nvidia/llama-3.3-nemotron-super-49b-v1:free","nvidia/llama-3.1-nemotron-ultra-253b-v1:free","meta-llama/llama-4-maverick:free","meta-llama/llama-4-scout:free","deepseek/deepseek-v3-base:free","qwen/qwen2.5-vl-3b-instruct:free","qwen/qwen2.5-vl-32b-instruct:free"]},{value:"deepseek",label:"DeepSeek",endpoint:"https://api.deepseek.com/v1",models:["deepseek-chat","deepseek-reasoner"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-4.1","gpt-4.1-mini","gpt-4.1-nano","gpt-4-turbo","gpt-4o","gpt-3.5-turbo"]},{value:"qwen",label:"通义千问",endpoint:"https://dashscope.aliyuncs.com/compatible-mode/v1",models:["qwen-vl-max-2025-04-02","deepseek-v3","deepseek-r1-distill-llama-70b","deepseek-r1-distill-qwen-32b","deepseek-r1-distill-qwen-14b","deepseek-r1-distill-llama-8b","deepseek-r1-distill-qwen-1.5b","deepseek-r1-distill-qwen-7b","deepseek-r1","qwen1.5-7b-chat","qwen-coder-plus-1106","qwen-coder-plus","qwen-coder-plus-latest","qwen2.5-coder-3b-instruct","qwen2.5-coder-0.5b-instruct","qwen2.5-coder-14b-instruct","qwen2.5-coder-32b-instruct","qwen-coder-turbo-0919","qwen2.5-0.5b-instruct","qwen2.5-1.5b-instruct","qwen2.5-3b-instruct","qwen2.5-7b-instruct","qwen2.5-14b-instruct","qwen2.5-32b-instruct","qwen2.5-72b-instruct","qwen2.5-coder-7b-instruct","qwen2.5-math-1.5b-instruct","qwen2.5-math-7b-instruct","qwen2.5-math-72b-instruct","qwen-turbo-0919","qwen-turbo-latest","qwen-plus-0919","qwen-plus-latest","qwen-max-0919","qwen-max-latest","qwen-coder-turbo","qwen-coder-turbo-latest","qwen-math-turbo-0919","qwen-math-turbo","qwen-math-turbo-latest","qwen-math-plus-0919","qwen-math-plus","qwen-math-plus-latest","qwen2-57b-a14b-instruct","qwen2-72b-instruct","qwen2-7b-instruct","qwen2-0.5b-instruct","qwen2-1.5b-instruct","qwen-long","qwen-vl-max","qwen-vl-plus","qwen-max-0428","qwen1.5-110b-chat","qwen-72b-chat","codeqwen1.5-7b-chat","qwen1.5-0.5b-chat","qwen-1.8b-chat","qwen-1.8b-longcontext-chat","qwen-7b-chat","qwen-14b-chat","qwen1.5-14b-chat","qwen1.5-1.8b-chat","qwen1.5-32b-chat","qwen1.5-72b-chat","qwen-max-1201","qwen-max-longcontext","qwen-max-0403","qwen-max-0107","qwen-turbo","qwen-max","qwen-plus"]},{value:"hunyuan",label:"腾讯混元",endpoint:"https://api.hunyuan.cloud.tencent.com/v1",models:["hunyuan-pro","hunyuan-vision","hunyuan-lite","hunyuan-standard","hunyuan-standard-32K","hunyuan-standard-256k","hunyuan-code","hunyuan-role","hunyuan-functioncall","hunyuan-turbo-vision","hunyuan-turbo"]},{value:"doubao",label:"火山方舟",endpoint:"https://ark.cn-beijing.volces.com/api/v3",models:["doubao-1-5-thinking-pro-250415","doubao-1-5-thinking-pro-m-250415","deepseek-r1-250120","deepseek-r1-distill-qwen-32b-250120","deepseek-r1-distill-qwen-7b-250120","deepseek-v3-250324","deepseek-v3-241226","doubao-1-5-vision-pro-250328","doubao-1-5-vision-lite-250315","doubao-1-5-vision-pro-32k-250115","doubao-1-5-ui-tars-250328","doubao-vision-pro-32k-241028","doubao-vision-lite-32k-241015","doubao-1-5-pro-32k-250115","doubao-1-5-pro-256k-250115","doubao-1-5-lite-32k-250115","doubao-pro-4k-240515","doubao-pro-32k-241215","doubao-pro-32k-240828","doubao-pro-32k-240615","doubao-pro-256k-241115","doubao-lite-4k-character-240828","doubao-lite-32k-240828","doubao-lite-32k-character-241015","doubao-lite-128k-240828","moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Qwen/Qwen3-235B-A22B","Qwen/Qwen3-30B-A3B","Qwen/Qwen3-32B","Qwen/Qwen3-14B","Qwen/Qwen3-8B","THUDM/GLM-Z1-32B-0414","THUDM/GLM-4-32B-0414","THUDM/GLM-Z1-Rumination-32B-0414","THUDM/GLM-4-9B-0414","Qwen/QwQ-32B","Pro/deepseek-ai/DeepSeek-R1","Pro/deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1","deepseek-ai/DeepSeek-V3","deepseek-ai/DeepSeek-R1-Distill-Qwen-32B","deepseek-ai/DeepSeek-R1-Distill-Qwen-14B","deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-7B","Pro/deepseek-ai/DeepSeek-R1-Distill-Qwen-1.5B","deepseek-ai/DeepSeek-V2.5","Qwen/Qwen2.5-72B-Instruct-128K","Qwen/Qwen2.5-72B-Instruct","Qwen/Qwen2.5-32B-Instruct","Qwen/Qwen2.5-14B-Instruct","Qwen/Qwen2.5-7B-Instruct","Qwen/Qwen2.5-Coder-32B-Instruct","Qwen/Qwen2.5-Coder-7B-Instruct","Qwen/Qwen2-7B-Instruct","Qwen/QwQ-32B-Preview","TeleAI/TeleChat2","THUDM/glm-4-9b-chat","Vendor-A/Qwen/Qwen2.5-72B-Instruct","internlm/internlm2_5-7b-chat","internlm/internlm2_5-20b-chat","Pro/Qwen/Qwen2.5-7B-Instruct","Pro/Qwen/Qwen2-7B-Instruct","Pro/Qwen/Qwen2-1.5B-Instruct","Pro/THUDM/chatglm3-6b","Pro/THUDM/glm-4-9b-chat"]},{value:"302ai",label:"302.AI",endpoint:" https://api.302.ai/v1",models:["chatgpt-4o-latest","gpt-4o","gpt-4o-mini","gpt-4-turbo","o1-preview","o1-mini","claude-3-5-sonnet-latest","claude-3-5-sonnet-20241022","claude-3-5-haiku-20241022","grok-beta"]},{value:"bigmodel",label:"智谱 AI",endpoint:"https://open.bigmodel.cn/api/paas/v4/",models:["glm-4-plus","glm-4-0520","glm-4","glm-4-air","glm-4-airx","glm-4-long","glm-4-flashx","glm-4-flash"]},{value:"baichuan",label:"百川智能",endpoint:"https://api.baichuan-ai.com/v1",models:["Baichuan4","Baichuan3-Turbo","Baichuan3-Turbo-128k","Baichuan2-Turbo"]},{value:"lingyiwanwu",label:"零一万物",endpoint:"https://api.lingyiwanwu.com/v1",models:["yi-lightning"]},{value:"moonshot",label:"月之暗面",endpoint:"https://api.moonshot.cn/v1",models:["moonshot-v1-8k","moonshot-v1-32k","moonshot-v1-128k"]},{value:"ernie",label:"百度千帆",endpoint:"https://qianfan.baidubce.com/v2",models:["ernie-4.5-turbo-128k","ernie-4.5-turbo-32k","ernie-4.5-8k-preview","ernie-4.0-8k","ernie-4.0-8k-latest","ernie-4.0-8k-preview","ernie-4.0-turbo-128k","ernie-4.0-turbo-8k","ernie-4.0-turbo-8k-latest","ernie-4.0-turbo-8k-preview","ernie-3.5-128k","ernie-3.5-8k","ernie-3.5-8k-preview","ernie-speed-128k","ernie-speed-8k","ernie-speed-pro-128k","ernie-lite-8k","ernie-lite-pro-128k","ernie-tiny-8k","ernie-novel-8k"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];serviceOptions[0].models[0];const imageServiceOptions=[{value:"default",label:"内置服务",endpoint:DEFAULT_SERVICE_ENDPOINT,models:["Kwai-Kolors/Kolors"]},{value:"openai",label:"OpenAI",endpoint:"https://api.openai.com/v1",models:["gpt-image-1","dall-e-3"]},{value:"siliconflow",label:"硅基流动",endpoint:"https://api.siliconflow.cn/v1",models:["Kwai-Kolors/Kolors","Qwen/Qwen-Image"]},{value:"302ai",label:"302.AI",endpoint:"https://api.302.ai/302",models:["302ai-flux-1-srpo","bagel-image","baidu-irag-01","dall-e-3","dall-e-2","doubao-seedream-3-0-t2i-250415","doubao-v2","doubao-v2-l","doubao-v2.1","doubao-v3","doubao-seedream-4-0-250828","flux-kontext-max","flux-kontext-pro","google-v3","google-v3-fast","google-v4-preview","gemini-2.5-flash-image","302-gemini-2.5-flash-image","gpt-image-1","hidream-i1-full","hidream-i1-dev","hidream-i1-fast","higgsfield","ideogram-v1","ideogram-v1-turbo","ideogram-v2","ideogram-v2-turbo","ideogram-v2a","ideogram-v2a-turbo","ideogram-v3-turbo","ideogram-v3-quality","ideogram-v3","kling-v1","kling-v1-5","kling-v2","luma","luma-flash","midjourney-v6","midjourney-v6-1","midjourney-v7","nijijourney-v6","minimaxi-image-01","qwen","qwen-lora","official-qwen-image","official-qwen-image-plus","wan2.2-t2i-flash","wan2.2-t2i-plus","wanx2.1-t2i-turbo","wanx2.1-t2i-plus","wanx2.0-t2i-turbo","wan2.5-t2i-preview","recraft-v3","recraft-20b","stable-v1","stable-sd2","stable-sd3-ultra","stable-sd3","stable-sd3-medium","stable-sd3-large","stable-sd3-turbo","cogview-4-250304","cogview-4"]},{value:"custom",label:"自定义兼容 OpenAI API 的服务",endpoint:"",models:[]}];imageServiceOptions[0].models[0];const githubConfig={username:"bucketio",repoList:Array.from({length:20},(t,e)=>`img${e}`),branch:"main",accessTokenList:["ghp_sqQg5y7XC7Fy8XdoocsmdVEYRiRiTZPvbwzTL4MRjQc","ghp_jB5JXzBjpGbgzdoocsmdogWfSHhfCKGVstozw1cAsPv","ghp_zvy8wkHo259g7doocsmdJnUKOQd1WO1SPzZ9G0O9cJD","ghp_DnCJc2Ms0RVZ1doocsmdiWOAN78FurfSeD1Pv2Y28pO","ghp_EsMYDv9WVjXWP5doocsmd1nnDml2DEP95rOiz44bSo0","ghp_L4isHf01nllOOdoocsmdHBGoDG6jscCA09WV44QDvlg","ghp_qWciwYXHPakAUGdoocsmdBOBZdRcV08JThKey3mBZNJ","ghp_rxkvIO08wVL2DMdoocsmd2jDEhcatp2rfVyhd3A7RiS","ghp_1RvkWKboSxr0yVdoocsmd7OtBCpecYwoV6deh3utifJ","ghp_cduanDnAug60ngdoocsmdF1uDstXUi6S9RMhY1qdada","ghp_q6mxuJIkqAcsCXdoocsmdkkjWvzGlMVRuy5zI0IWNDx","ghp_Pv4npPeJpChKFMTdoocsmdCQneopUcqJrqrjl3vrt9A","ghp_gKMCFqMaQiLTqhjdoocsmd7BJE8RyK6AdRw4b42CutS","ghp_2oShgb33qFlqBmadoocsmdludmuLYxBFY5bao1XrsVo","ghp_eYyd3kxWTZmsV8doocsmdDFbAa7AEGQTJgmOd0GUmtY"]},giteeConfig={username:"filesss",repoList:Array.from({length:20},(t,e)=>`img${e}`),branch:"main",accessTokenList:["ed5fc9866bd6c2fdoocsmddd433f806fd2f399c","5448ffebbbf1151doocsmdc4e337cf814fc8a62","25b05efd2557ca2doocsmd75b5c0835e3395911","11628c7a5aef015doocsmd2eeff9fb9566f0458","cb2f5145ed938dedoocsmdbd063b4ed244eecf8","d8c0b57500672c1doocsmd55f48b866b5ebcd98","78c56eadb88e453doocsmd43ddd95753351771a","03e1a688003948fdoocsmda16fcf41e6f03f1f0","c49121cf4d191fbdoocsmdd6a7877ed537e474a","adfeb2fadcdc4aadoocsmdfe1ee869ac9c968ff","116c94549ca4a0ddoocsmd192653af5c0694616","ecf30ed7f2eb184doocsmd51ea4ec8300371d9e","5837cf2bd5afd93doocsmd73904bed31934949e","b5b7e1c7d57e01fdoocsmd5266f552574297d78","684d55564ffbd0bdoocsmd7d747e5cc23aed6d6","3fc04a9d272ab71doocsmd010c56cb57d88d2ba"]},prefix="MD",isMac=/Mac/i.test(navigator.userAgent),ctrlKey="Mod",ctrlSign=isMac?"⌘":"Ctrl",altSign=isMac?"⌥":"Alt",shiftSign=isMac?"⇧":"Shift",storeLabels={isDark:"深色模式",isEditOnLeft:"左侧编辑",isMacCodeBlock:"Mac 代码块",isShowLineNumber:"代码块行号",isCiteStatus:"微信外链接底部引用状态",isCountStatus:"字数统计状态",isUseIndent:"使用缩进",isUseJustify:"使用两端对齐",isOpenRightSlider:"开启右侧滑块",isOpenPostSlider:"开启右侧发布滑块",showAIToolbox:"AI 工具箱状态",theme:"主题",fontFamily:"字体",fontSize:"字体大小",primaryColor:"自定义主题色",codeBlockTheme:"代码块主题",legend:"图注格式",fontSizeNumber:"字体大小",currentPostId:"当前文章 ID",currentPostIndex:"当前文章索引",posts:"内容列表",cssContentConfig:"自定义 CSS",titleList:"文章标题列表",readingTime:"阅读时间",isShowCssEditor:"显示 CSS 编辑器",isShowInsertFormDialog:"显示插入表单对话框",isShowInsertMpCardDialog:"显示插入公众号名片对话框",isShowUploadImgDialog:"显示上传图片对话框",aiDialogVisible:"AI 对话框可见"},defaultTheme={base:{"--md-primary-color":"#000000","text-align":"left","line-height":"1.75"},block:{container:{},h1:{display:"table",padding:"0 1em","border-bottom":"2px solid var(--md-primary-color)",margin:"2em auto 1em",color:"hsl(var(--foreground))","font-size":"1.2em","font-weight":"bold","text-align":"center"},h2:{display:"table",padding:"0 0.2em",margin:"4em auto 2em",color:"#fff",background:"var(--md-primary-color)","font-size":"1.2em","font-weight":"bold","text-align":"center"},h3:{"padding-left":"8px","border-left":"3px solid var(--md-primary-color)",margin:"2em 8px 0.75em 0",color:"hsl(var(--foreground))","font-size":"1.1em","font-weight":"bold","line-height":"1.2"},h4:{margin:"2em 8px 0.5em",color:"var(--md-primary-color)","font-size":"1em","font-weight":"bold"},h5:{margin:"1.5em 8px 0.5em",color:"var(--md-primary-color)","font-size":"1em","font-weight":"bold"},h6:{margin:"1.5em 8px 0.5em","font-size":"1em",color:"var(--md-primary-color)"},p:{margin:"1.5em 8px","letter-spacing":"0.1em",color:"hsl(var(--foreground))"},blockquote:{"font-style":"normal",padding:"1em","border-left":"4px solid var(--md-primary-color)","border-radius":"6px",color:"rgba(0,0,0,0.5)",background:"var(--blockquote-background)","margin-bottom":"1em"},blockquote_p:{display:"block","font-size":"1em","letter-spacing":"0.1em",color:"hsl(var(--foreground))"},blockquote_note:{},blockquote_tip:{},blockquote_info:{},blockquote_important:{},blockquote_warning:{},blockquote_caution:{},blockquote_title:{display:"flex","align-items":"center",gap:"0.5em","margin-bottom":"0.5em"},blockquote_title_note:{color:"#478be6"},blockquote_title_tip:{color:"#57ab5a"},blockquote_title_info:{color:"#93c5fd"},blockquote_title_important:{color:"#986ee2"},blockquote_title_warning:{color:"#c69026"},blockquote_title_caution:{color:"#e5534b"},blockquote_p_note:{},blockquote_p_tip:{},blockquote_p_info:{},blockquote_p_important:{},blockquote_p_warning:{},blockquote_p_caution:{},code_pre:{"font-size":"90%","overflow-x":"auto","border-radius":"8px",padding:"1em","line-height":"1.5",margin:"10px 8px"},code:{margin:0,"white-space":"nowrap","font-size":"90%","font-family":"Menlo, Operator Mono, Consolas, Monaco, monospace"},image:{display:"block","max-width":"100%",margin:"0.1em auto 0.5em","border-radius":"4px"},ol:{"padding-left":"1em","margin-left":"0",color:"hsl(var(--foreground))"},ul:{"list-style":"circle","padding-left":"1em","margin-left":"0",color:"hsl(var(--foreground))"},footnotes:{margin:"0.5em 8px","font-size":"80%",color:"hsl(var(--foreground))"},figure:{margin:"1.5em 8px",color:"hsl(var(--foreground))"},hr:{"border-style":"solid","border-width":"2px 0 0","border-color":"rgba(0,0,0,0.1)","-webkit-transform-origin":"0 0","-webkit-transform":"scale(1, 0.5)","transform-origin":"0 0",transform:"scale(1, 0.5)",height:"0.4em",margin:"1.5em 0"},block_katex:{"max-width":"100%","overflow-x":"auto","-webkit-overflow-scrolling":"touch",padding:"0.5em 0"}},inline:{listitem:{display:"block",margin:"0.2em 8px",color:"hsl(var(--foreground))"},codespan:{"font-size":"90%",color:"#d14",background:"rgba(27,31,35,.05)",padding:"3px 5px","border-radius":"4px"},em:{"font-style":"italic","font-size":"inherit"},link:{color:"#576b95"},wx_link:{color:"#576b95","text-decoration":"none"},strong:{color:"var(--md-primary-color)","font-weight":"bold","font-size":"inherit"},table:{color:"hsl(var(--foreground))"},thead:{"font-weight":"bold",color:"hsl(var(--foreground))"},th:{border:"1px solid #dfdfdf",padding:"0.25em 0.5em",color:"hsl(var(--foreground))","word-break":"keep-all",background:"rgba(0, 0, 0, 0.05)"},td:{border:"1px solid #dfdfdf",padding:"0.25em 0.5em",color:"hsl(var(--foreground))","word-break":"keep-all"},footnote:{"font-size":"12px",color:"hsl(var(--foreground))"},figcaption:{"text-align":"center",color:"#888","font-size":"0.8em"},inline_katex:{"max-width":"100%","overflow-x":"auto"},markup_highlight:{"background-color":"var(--md-primary-color)",padding:"2px 4px","border-radius":"2px",color:"#fff"},markup_underline:{"text-decoration":"underline","text-decoration-color":"var(--md-primary-color)"},markup_wavyline:{"text-decoration":"underline wavy","text-decoration-color":"var(--md-primary-color)","text-decoration-thickness":"2px"}}},graceTheme=toMerged(defaultTheme,{base:{},block:{container:{},h1:{padding:"0.5em 1em","border-bottom":"2px solid var(--md-primary-color)","font-size":"1.4em","text-shadow":"2px 2px 4px rgba(0,0,0,0.1)"},h2:{padding:"0.3em 1em","border-radius":"8px","font-size":"1.3em","box-shadow":"0 4px 6px rgba(0,0,0,0.1)"},h3:{"padding-left":"12px","font-size":"1.2em","border-left":"4px solid var(--md-primary-color)","border-bottom":"1px dashed var(--md-primary-color)"},h4:{"font-size":"1.1em"},h5:{"font-size":"1em"},h6:{"font-size":"1em"},p:{},blockquote:{"font-style":"italic",padding:"1em 1em 1em 2em","border-left":"4px solid var(--md-primary-color)","border-radius":"6px",color:"rgba(0,0,0,0.6)","box-shadow":"0 4px 6px rgba(0,0,0,0.05)","margin-bottom":"1em"},blockquote_p:{},"markdown-alert":{"font-style":"italic"},code_pre:{"box-shadow":"inset 0 0 10px rgba(0,0,0,0.05)"},code:{"font-family":"'Fira Code', Menlo, Operator Mono, Consolas, Monaco, monospace"},image:{"border-radius":"8px","box-shadow":"0 4px 8px rgba(0,0,0,0.1)"},ol:{"padding-left":"1.5em"},ul:{"list-style":"none","padding-left":"1.5em"},footnotes:{},figure:{},hr:{height:"1px",border:"none",margin:"2em 0",background:"linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,0.1), rgba(0,0,0,0))"}},inline:{listitem:{margin:"0.5em 8px"},codespan:{},em:{},link:{},wx_link:{},strong:{},table:{"border-collapse":"separate","border-spacing":"0","border-radius":"8px",margin:"1em 8px",color:"hsl(var(--foreground))","box-shadow":"0 4px 6px rgba(0,0,0,0.1)",overflow:"hidden"},thead:{color:"#fff"},td:{padding:"0.5em 1em"},footnote:{color:"rgba(0,0,0,0.5)"},figcaption:{}}}),simpleTheme=toMerged(defaultTheme,{base:{},block:{container:{},h1:{padding:"0.5em 1em","font-size":"1.4em","text-shadow":"1px 1px 3px rgba(0,0,0,0.05)"},h2:{padding:"0.3em 1.2em","font-size":"1.3em","border-radius":"8px 24px 8px 24px","box-shadow":"0 2px 6px rgba(0,0,0,0.06)"},h3:{"padding-left":"12px","font-size":"1.2em","border-radius":"6px","line-height":"2.4em","border-left":"4px solid var(--md-primary-color)","border-right":"1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent)","border-bottom":"1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent)","border-top":"1px solid color-mix(in srgb, var(--md-primary-color) 10%, transparent)",background:"color-mix(in srgb, var(--md-primary-color) 8%, transparent)"},h4:{"font-size":"1.1em","border-radius":"6px"},h5:{"border-radius":"6px"},h6:{"border-radius":"6px"},blockquote:{"font-style":"italic",padding:"1em 1em 1em 2em",color:"rgba(0,0,0,0.6)","border-bottom":"0.2px solid rgba(0, 0, 0, 0.04)","border-top":"0.2px solid rgba(0, 0, 0, 0.04)","border-right":"0.2px solid rgba(0, 0, 0, 0.04)"},blockquote_note:{"font-style":"italic"},blockquote_tip:{"font-style":"italic"},blockquote_info:{"font-style":"italic"},blockquote_important:{"font-style":"italic"},blockquote_warning:{"font-style":"italic"},blockquote_caution:{"font-style":"italic"},blockquote_title:{},blockquote_title_note:{},blockquote_title_tip:{},blockquote_title_info:{},blockquote_title_important:{},blockquote_title_warning:{},blockquote_title_caution:{},blockquote_p_note:{},blockquote_p_tip:{},blockquote_p_info:{},blockquote_p_important:{},blockquote_p_warning:{},blockquote_p_caution:{},code_pre:{border:"1px solid rgba(0, 0, 0, 0.04)"},code:{"font-family":"'Fira Code', Menlo, Operator Mono, Consolas, Monaco, monospace"},image:{"border-radius":"8px",border:"1px solid rgba(0, 0, 0, 0.04)"},ol:{"padding-left":"1.5em"},ul:{"list-style":"none","padding-left":"1.5em"},hr:{height:"1px",border:"none",margin:"2em 0",background:"linear-gradient(to right, rgba(0,0,0,0), rgba(0,0,0,0.1), rgba(0,0,0,0))"}},inline:{listitem:{margin:"0.5em 8px"}}}),themeMap={default:defaultTheme,grace:graceTheme,simple:simpleTheme},themeOptions=[{label:"经典",value:"default",desc:""},{label:"优雅",value:"grace",desc:"@brzhang"},{label:"简洁",value:"simple",desc:"@okooo5km"}],fontFamilyOptions=[{label:"无衬线",value:"-apple-system-font,BlinkMacSystemFont, Helvetica Neue, PingFang SC, Hiragino Sans GB , Microsoft YaHei UI , Microsoft YaHei ,Arial,sans-serif",desc:"字体123Abc"},{label:"衬线",value:"Optima-Regular, Optima, PingFangSC-light, PingFangTC-light, 'PingFang SC', Cambria, Cochin, Georgia, Times, 'Times New Roman', serif",desc:"字体123Abc"},{label:"等宽",value:"Menlo, Monaco, 'Courier New', monospace",desc:"字体123Abc"}],fontSizeOptions=[{label:"14px",value:"14px",desc:"更小"},{label:"15px",value:"15px",desc:"稍小"},{label:"16px",value:"16px",desc:"推荐"},{label:"17px",value:"17px",desc:"稍大"},{label:"18px",value:"18px",desc:"更大"}],colorOptions=[{label:"经典蓝",value:"#0F4C81",desc:"稳重冷静"},{label:"翡翠绿",value:"#009874",desc:"自然平衡"},{label:"活力橘",value:"#FA5151",desc:"热情活力"},{label:"柠檬黄",value:"#FECE00",desc:"明亮温暖"},{label:"薰衣紫",value:"#92617E",desc:"优雅神秘"},{label:"天空蓝",value:"#55C9EA",desc:"清爽自由"},{label:"玫瑰金",value:"#B76E79",desc:"奢华现代"},{label:"橄榄绿",value:"#556B2F",desc:"沉稳自然"},{label:"石墨黑",value:"#333333",desc:"内敛极简"},{label:"雾烟灰",value:"#A9A9A9",desc:"柔和低调"},{label:"樱花粉",value:"#FFB7C5",desc:"浪漫甜美"}],widthOptions=[{label:"移动端",value:"w-[375px]",desc:"固定"},{label:"电脑端",value:"w-full",desc:"适应"}],codeBlockUrlPrefix="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/npm/highlightjs/11.11.1/styles/",codeBlockThemeList=["1c-light","a11y-dark","a11y-light","agate","an-old-hope","androidstudio","arduino-light","arta","ascetic","atom-one-dark-reasonable","atom-one-dark","atom-one-light","brown-paper","codepen-embed","color-brewer","dark","default","devibeans","docco","far","felipec","foundation","github-dark-dimmed","github-dark","github","gml","googlecode","gradient-dark","gradient-light","grayscale","hybrid","idea","intellij-light","ir-black","isbl-editor-dark","isbl-editor-light","kimbie-dark","kimbie-light","lightfair","lioshi","magula","mono-blue","monokai-sublime","monokai","night-owl","nnfx-dark","nnfx-light","nord","obsidian","panda-syntax-dark","panda-syntax-light","paraiso-dark","paraiso-light","pojoaque","purebasic","qtcreator-dark","qtcreator-light","rainbow","routeros","school-book","shades-of-purple","srcery","stackoverflow-dark","stackoverflow-light","sunburst","tokyo-night-dark","tokyo-night-light","tomorrow-night-blue","tomorrow-night-bright","vs","vs2015","xcode","xt256"],codeBlockThemeOptions=codeBlockThemeList.map(t=>({label:t,value:`${codeBlockUrlPrefix}${t}.min.css`,desc:""})),legendOptions=[{label:"title 优先",value:"title-alt",desc:""},{label:"alt 优先",value:"alt-title",desc:""},{label:"只显示 title",value:"title",desc:""},{label:"只显示 alt",value:"alt",desc:""},{label:"不显示",value:"none",desc:""}],defaultStyleConfig={isCiteStatus:!1,isMacCodeBlock:!0,isShowLineNumber:!1,isCountStatus:!1,theme:themeOptions[0].value,fontFamily:fontFamilyOptions[0].value,fontSize:fontSizeOptions[2].value,primaryColor:colorOptions[0].value,codeBlockTheme:codeBlockThemeOptions[23].value,legend:legendOptions[3].value};function sanitizeTitle(t){const o=/[\\/:*?"<>|]/g;if(!o.test(t)&&t.length<=100)return t.trim()||"untitled";const a=t.replace(o,"_").trim();return(a.length>100?a.slice(0,100):a)||"untitled"}function removeLeft(t){const e=t.split(`
`),o=e.filter(a=>a.trim()).map(a=>a.match(/(^\s+)?/)[0].length).sort((a,n)=>a-n)[0];return e.map(a=>a.slice(o)).join(`
`)}function checkImage(t){if(!/\.(?:gif|jpe?g|png)$/i.test(t.name))return{ok:!1,msg:"请上传 JPG/PNG/GIF 格式的图片"};const o=10;return t.size>o*1024*1024?{ok:!1,msg:`由于公众号限制，图片大小不能超过 ${o}M`}:{ok:!0,msg:""}}function css2json(t){t=t.replace(/\/\*[\s\S]*?\*\//g,"");const e={},o=a=>a.reduce((n,s)=>{const[l,...i]=s.split(":").map(d=>d.trim());return l&&(n[l]=i.join(":")),n},{});for(;t.includes("{")&&t.includes("}");){const a=t.indexOf("{"),n=t.indexOf("}"),s=t.substring(a+1,n).split(";").map(d=>d.trim()).filter(Boolean),l=t.substring(0,a).split(",").map(d=>d.trim()),i=o(s);l.forEach(d=>{e[d]={...e[d]||{},...i}}),t=t.slice(n+1).trim()}return e}const service=axios.create({baseURL:"",timeout:30*1e3});service.interceptors.request.use(t=>(/^(?:post|put|delete)$/i.test(`${t.method}`)&&t.data&&t.data.upload&&(t.headers["Content-Type"]="multipart/form-data"),t),t=>{Promise.reject(t)});service.interceptors.response.use(t=>t.data?t.data:Promise.reject(t),t=>Promise.reject(t));function downloadFile(t,e,o="text/plain"){if(typeof document>"u")throw new TypeError("downloadFile can only be used in browser environment");const a=document.createElement("a");if(a.download=e,a.style.display="none",t.startsWith("data:"))a.href=t;else if(o==="text/html")a.href=`data:text/html;charset=utf-8,${encodeURIComponent(t)}`;else{const n=new Blob([t],{type:o});a.href=URL.createObjectURL(n)}document.body.appendChild(a),a.click(),document.body.removeChild(a),!t.startsWith("data:")&&o!=="text/html"&&URL.revokeObjectURL(a.href)}function toBase64(t){return new Promise((e,o)=>{const a=new FileReader;a.readAsDataURL(t),a.onload=()=>e(a.result.split(",").pop()),a.onerror=n=>o(n)})}function createTable({data:t,rows:e,cols:o}){let a="";for(let n=0;n<e+2;++n){a+="| ";const s=[];for(let l=0;l<o;++l){const i=n>1?n-1:n;s.push(n===1?"---":t[`k_${i}_${l}`]||"     ")}a+=s.join(" | "),a+=` |
`}return a}async function formatDoc(t,e="markdown"){const o=e==="css"?"css":e==="javascript"?"babel":"markdown",a=e==="css"?[parserPostcss]:e==="javascript"?[parserBabel]:[parserMarkdown,parserBabel];return await standaloneExports.format(t,{parser:o,plugins:a,printWidth:80,tabWidth:2,useTabs:!1,semi:!1,singleQuote:!0,quoteProps:"as-needed",trailingComma:"es5",bracketSpacing:!0,bracketSameLine:!1,arrowParens:"avoid",proseWrap:"preserve",htmlWhitespaceSensitivity:"css",endOfLine:"lf"})}function utf16to8(t){let e="";const o=t.length;for(let a=0;a<o;a++){const n=t.charCodeAt(a);n>=1&&n<=127?e+=t.charAt(a):n>2047?(e+=String.fromCharCode(224|n>>12&15),e+=String.fromCharCode(128|n>>6&63),e+=String.fromCharCode(128|n&63)):(e+=String.fromCharCode(192|n>>6&31),e+=String.fromCharCode(128|n&63))}return e}function utf8to16(t){let e="",o=0;const a=t.length;for(;o<a;){const n=t.charCodeAt(o++);let s,l;switch(n>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:e+=t.charAt(o-1);break;case 12:case 13:s=t.charCodeAt(o++),e+=String.fromCharCode((n&31)<<6|s&63);break;case 14:s=t.charCodeAt(o++),l=t.charCodeAt(o++),e+=String.fromCharCode((n&15)<<12|(s&63)<<6|l&63);break}}return e}const base64EncodeChars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",base64DecodeChars=[-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,62,-1,-1,-1,63,52,53,54,55,56,57,58,59,60,61,-1,-1,-1,-1,-1,-1,-1,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,-1,-1,-1,-1,-1,-1,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,-1,-1,-1,-1,-1];function base64encode(t){let e="",o=0;const a=t.length;for(;o<a;){const n=t.charCodeAt(o++)&255;if(o===a){e+=base64EncodeChars.charAt(n>>2),e+=base64EncodeChars.charAt((n&3)<<4),e+="==";break}const s=t.charCodeAt(o++);if(o===a){e+=base64EncodeChars.charAt(n>>2),e+=base64EncodeChars.charAt((n&3)<<4|(s&240)>>4),e+=base64EncodeChars.charAt((s&15)<<2),e+="=";break}const l=t.charCodeAt(o++);e+=base64EncodeChars.charAt(n>>2),e+=base64EncodeChars.charAt((n&3)<<4|(s&240)>>4),e+=base64EncodeChars.charAt((s&15)<<2|(l&192)>>6),e+=base64EncodeChars.charAt(l&63)}return e}function base64decode(t){let e,o,a,n,s=0;const l=t.length;let i="";for(;s<l;){do e=base64DecodeChars[t.charCodeAt(s++)&255];while(s<l&&e===-1);if(e===-1)break;do o=base64DecodeChars[t.charCodeAt(s++)&255];while(s<l&&o===-1);if(o===-1)break;i+=String.fromCharCode(e<<2|(o&48)>>4);do{if(a=t.charCodeAt(s++)&255,a===61)return i;a=base64DecodeChars[a]}while(s<l&&a===-1);if(a===-1)break;i+=String.fromCharCode((o&15)<<4|(a&60)>>2);do{if(n=t.charCodeAt(s++)&255,n===61)return i;n=base64DecodeChars[n]}while(s<l&&n===-1);if(n===-1)break;i+=String.fromCharCode((a&3)<<6|n)}return i}function safe64(t){return t=t.replace(/\+/g,"-"),t=t.replace(/\//g,"_"),t}const tokenTools=Object.freeze(Object.defineProperty({__proto__:null,base64decode,base64encode,safe64,utf16to8,utf8to16},Symbol.toStringTag,{value:"Module"}));class LocalStorageEngine{async get(e){try{return localStorage.getItem(e)}catch(o){return console.error("[Storage] Failed to get item:",e,o),null}}async set(e,o){try{localStorage.setItem(e,o)}catch(a){throw console.error("[Storage] Failed to set item:",e,a),a}}async remove(e){try{localStorage.removeItem(e)}catch(o){console.error("[Storage] Failed to remove item:",e,o)}}async has(e){try{return localStorage.getItem(e)!==null}catch{return!1}}async clear(){try{localStorage.clear()}catch(e){console.error("[Storage] Failed to clear storage:",e)}}async keys(){try{return Object.keys(localStorage)}catch{return[]}}}class StorageManager{engine=new LocalStorageEngine;setEngine(e){this.engine=e}getEngine(){return this.engine}async get(e){return this.engine.get(e)}async set(e,o){return this.engine.set(e,o)}async getJSON(e,o){const a=await this.engine.get(e);if(!a)return o??null;try{return JSON.parse(a)}catch(n){return console.error("[Storage] Failed to parse JSON for key:",e,n),o??null}}async setJSON(e,o){try{const a=JSON.stringify(o);return this.engine.set(e,a)}catch(a){throw console.error("[Storage] Failed to stringify JSON for key:",e,a),a}}async remove(e){return this.engine.remove(e)}async has(e){return this.engine.has(e)}async clear(){return this.engine.clear()}async keys(){return this.engine.keys()}reactive(e,o){const a=typeof o=="string";let n=o;if(this.engine instanceof LocalStorageEngine)try{const l=localStorage.getItem(e);l!==null&&(n=a?l:this.parseJSON(l,o))}catch(l){console.error("[Storage] Failed to read initial value:",e,l)}const s=ref(n);return this.engine instanceof LocalStorageEngine||(a?this.get(e).then(i=>i!==null?i:null):this.getJSON(e,o)).then(i=>{i!==null&&(s.value=i)}),Promise.resolve().then(()=>{watch(s,l=>{(a?this.set(e,l):this.setJSON(e,l)).catch(d=>{console.error("[Storage] Failed to save reactive data:",e,d)})},{deep:!0})}),s}customReactive(e,o,a){let n=o;return this.getJSON(e,o).then(s=>{const l=s??o;n=a?.get?a.get(l):l}),customRef((s,l)=>({get(){return s(),n},set:i=>{const d=a?.set?a.set(i):i;n=d,l(),this.setJSON(e,d).catch(f=>{console.error("[Storage] Failed to save custom reactive data:",e,f)})}}))}parseJSON(e,o){try{return JSON.parse(e)}catch{return console.warn("[Storage] Failed to parse JSON, using fallback"),o}}}const store=new StorageManager;function addPrefix(t){return`${prefix}__${t}`}function downloadMD(t,e="untitled"){const o=sanitizeTitle(e);downloadFile(t,`${o}.md`,"text/markdown;charset=utf-8")}function setStyles(t){function e(s,l=["width","height","inlineSize","webkitLogicalWidth","webkitLogicalHeight"]){const i=getComputedStyle(s,null);return Object.entries(i).filter(([d])=>{const f=d.replace(/[A-Z]/g,u=>`-${u.toLowerCase()}`);return i.getPropertyValue(f)&&!l.includes(d)}).map(([d,f])=>`${d.replace(/[A-Z]/g,p=>`-${p.toLowerCase()}`)}:${f};`).join("")}switch(!0){case o(t):case a(t):case n(t):t.setAttribute("style",e(t))}t.children.length&&Array.from(t.children).forEach(s=>setStyles(s));function o(s){return s.tagName==="PRE"&&Array.from(s.classList).includes("code__pre")}function a(s){return s==null?!1:s.tagName==="CODE"}function n(s){return s.tagName==="SPAN"&&(a(s.parentElement)||a(s.parentElement.parentElement))}}function processHtmlContent(t){const e=document.querySelector("#output");return setStyles(e),e.innerHTML.replace(/var\(--md-primary-color\)/g,t).replace(/--md-primary-color:.+?;/g,"")}function exportHTML(t,e="untitled"){const a=`<html><head><meta charset="utf-8" /></head><body><div style="width: 750px; margin: auto;">${processHtmlContent(t)}</div></body></html>`;downloadFile(a,`${sanitizeTitle(e)}.html`,"text/html")}async function generatePureHTML(t){const e=new B;return e.use(markedAlert({withoutStyle:!0})),e.use(MDKatex({nonStandard:!0},"","",!1)),await e.parse(t)}async function exportPureHTML(t,e="untitled"){const o=sanitizeTitle(e),a=await generatePureHTML(t);downloadFile(a,`${o}.html`,"text/html")}function exportPDF(t,e="untitled"){const o=processHtmlContent(t),a=sanitizeTitle(e),n=window.open("","_blank");if(!n){console.error("无法打开打印窗口");return}n.document.write(`
    <!DOCTYPE html>
    <html>
    <head>
      <meta charset="utf-8">
      <title>${a}</title>
      <style>
        @page {
          @top-center {
            content: "${a}";
            font-size: 12px;
            color: #666;
          }
          @bottom-left {
            content: "微信 Markdown 编辑器";
            font-size: 10px;
            color: #999;
          }
          @bottom-right {
            content: "第 " counter(page) " 页，共 " counter(pages) " 页";
            font-size: 10px;
            color: #999;
          }
        }

        @media print {
          body { margin: 0; }
        }
      </style>
    </head>
    <body>
      <div style="width: 100%; max-width: 750px; margin: auto;">
        ${o}
      </div>
    </body>
    </html>
  `),n.document.close(),n.onload=()=>{n.print(),n.onafterprint=()=>{n.close()}}}function solveWeChatImage(){const e=document.getElementById("output").getElementsByTagName("img");Array.from(e).forEach(o=>{const a=o.getAttribute("width"),n=o.getAttribute("height");o.removeAttribute("width"),o.removeAttribute("height"),o.style.width=a,o.style.height=n})}async function getHljsStyles(){const t=document.querySelector("#hljs");if(!t)return"";try{return`<style>${await(await fetch(t.href)).text()}</style>`}catch(e){return console.warn("Failed to fetch highlight.js styles:",e),""}}function mergeCss(t){return juice(t,{inlinePseudoElements:!0,preserveImportant:!0})}function modifyHtmlStructure(t){const e=document.createElement("div");return e.innerHTML=t,e.querySelectorAll("li > ul, li > ol").forEach(o=>{o.parentElement.insertAdjacentElement("afterend",o)}),e.innerHTML}function createEmptyNode(){const t=document.createElement("p");return t.style.fontSize="0",t.style.lineHeight="0",t.style.margin="0",t.innerHTML="&nbsp;",t}async function processClipboardContent(t){const e=document.getElementById("output"),o=await getHljsStyles();o&&(e.innerHTML=o+e.innerHTML),e.innerHTML=modifyHtmlStructure(mergeCss(e.innerHTML)),e.innerHTML=e.innerHTML.replace(/([^-])top:(.*?)em/g,"$1transform: translateY($2em)").replace(/hsl\(var\(--foreground\)\)/g,"#3f3f3f").replace(/var\(--blockquote-background\)/g,"#f7f7f7").replace(/var\(--md-primary-color\)/g,t).replace(/--md-primary-color:.+?;/g,"").replace(/<span class="nodeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="nodeLabel"$1>$2</span>').replace(/<span class="edgeLabel"([^>]*)><p[^>]*>(.*?)<\/p><\/span>/g,'<span class="edgeLabel"$1>$2</span>'),solveWeChatImage();const a=createEmptyNode(),n=createEmptyNode();e.insertBefore(a,e.firstChild),e.appendChild(n),e.querySelectorAll(".nodeLabel").forEach(l=>{const i=l.parentElement,d=i.getAttribute("xmlns"),f=i.getAttribute("style"),u=document.createElement("section");u.setAttribute("xmlns",d),u.setAttribute("style",f),u.innerHTML=i.innerHTML;const p=i.parentElement;p.innerHTML="",p.appendChild(u)}),e.innerHTML=e.innerHTML.replace(/<tspan([^>]*)>/g,'<tspan$1 style="fill: #333333 !important; color: #333333 !important; stroke: none !important;">')}const useUIStore=defineStore("ui",()=>{const t=useDark(),e=useToggle(t),o=store.reactive("isEditOnLeft",!0),a=useToggle(o),n=store.reactive("showAIToolbox",!0),s=useToggle(n),l=store.reactive("hasShownAIToolboxHint",!1),i=store.reactive(addPrefix("is_open_right_slider"),!1),d=store.reactive(addPrefix("is_open_post_slider"),!1),f=store.reactive("isMobile",!1),u=store.reactive("isShowCssEditor",!1),p=useToggle(u),b=ref(!1),h=useToggle(b),_=ref(!1),C=useToggle(_),g=ref(!1),w=useToggle(g),x=ref(!1),m=ref(!1),G=ref(!1);function N(E){m.value=E??!m.value}function T(E){G.value=E??!G.value}function M(){f.value=window.innerWidth<=768}return onMounted(()=>{M(),window.addEventListener("resize",M)}),onBeforeUnmount(()=>{window.removeEventListener("resize",M)}),{isDark:t,isEditOnLeft:o,showAIToolbox:n,hasShownAIToolboxHint:l,isOpenRightSlider:i,isOpenPostSlider:d,isMobile:f,isShowCssEditor:u,toggleShowCssEditor:p,isShowInsertFormDialog:b,toggleShowInsertFormDialog:h,isShowInsertMpCardDialog:_,toggleShowInsertMpCardDialog:C,isShowUploadImgDialog:g,toggleShowUploadImgDialog:w,isOpenConfirmDialog:x,aiDialogVisible:m,toggleAIDialog:N,aiImageDialogVisible:G,toggleAIImageDialog:T,toggleDark:e,toggleEditOnLeft:a,toggleAIToolbox:s}}),useThemeStore=defineStore("theme",()=>{const t=store.reactive(addPrefix("theme"),defaultStyleConfig.theme),e=store.reactive("fonts",defaultStyleConfig.fontFamily),o=store.reactive("size",defaultStyleConfig.fontSize),a=store.reactive("color",defaultStyleConfig.primaryColor),n=store.reactive("codeBlockTheme",defaultStyleConfig.codeBlockTheme),s=store.reactive("legend",defaultStyleConfig.legend),l=store.reactive("isMacCodeBlock",defaultStyleConfig.isMacCodeBlock),i=store.reactive("isShowLineNumber",defaultStyleConfig.isShowLineNumber),d=store.reactive("isCiteStatus",defaultStyleConfig.isCiteStatus),f=store.reactive("isCountStatus",defaultStyleConfig.isCountStatus),u=store.reactive(addPrefix("use_indent"),!1),p=store.reactive(addPrefix("use_justify"),!1),b=store.reactive("previewWidth",widthOptions[0].value),h=computed(()=>Number(o.value.replace("px",""))),_=useToggle(l),C=useToggle(i),g=useToggle(d),w=useToggle(f),x=useToggle(u),m=useToggle(p);return{theme:t,fontFamily:e,fontSize:o,fontSizeNumber:h,primaryColor:a,codeBlockTheme:n,legend:s,isMacCodeBlock:l,isShowLineNumber:i,isCiteStatus:d,isCountStatus:f,isUseIndent:u,isUseJustify:p,previewWidth:b,toggleMacCodeBlock:_,toggleShowLineNumber:C,toggleCiteStatus:g,toggleCountStatus:w,toggleUseIndent:x,toggleUseJustify:m,resetStyle:()=>{d.value=defaultStyleConfig.isCiteStatus,l.value=defaultStyleConfig.isMacCodeBlock,i.value=defaultStyleConfig.isShowLineNumber,f.value=defaultStyleConfig.isCountStatus,t.value=defaultStyleConfig.theme,e.value=defaultStyleConfig.fontFamily,o.value=defaultStyleConfig.fontSize,a.value=defaultStyleConfig.primaryColor,n.value=defaultStyleConfig.codeBlockTheme,s.value=defaultStyleConfig.legend,u.value=!1,p.value=!1},updateCodeTheme:()=>{const T=n.value,M=document.querySelector("#hljs");if(M)M.setAttribute("href",T);else{const E=document.createElement("link");E.setAttribute("type","text/css"),E.setAttribute("rel","stylesheet"),E.setAttribute("href",T),E.setAttribute("id","hljs"),document.head.appendChild(E)}}}}),useRenderStore=defineStore("render",()=>{const t=ref(""),e=reactive({chars:0,words:0,minutes:0}),o=ref([]);let a=null;const n=(p,b,h,_,C)=>{const g=Number(_.replace("px","")),w=customCssWithTemplate(css2json(p),C.primaryColor,customizeTheme(b,{fontSize:g,color:C.primaryColor}));return a=initRenderer({theme:w,fonts:h,size:_,isUseIndent:C.isUseIndent,isUseJustify:C.isUseJustify,isMacCodeBlock:C.isMacCodeBlock,isShowLineNumber:C.isShowLineNumber}),a},s=()=>a,l=(p,b,h,_)=>{const C=Number(h.replace("px",""));return customCssWithTemplate(css2json(p),_,customizeTheme(b,{fontSize:C,color:_}))},i=()=>{const p=document.createElement("div");p.innerHTML=t.value;const b=p.querySelectorAll("[data-heading]");o.value=[];let h=0;for(const _ of b)_.setAttribute("id",`${h}`),o.value.push({url:`#${h}`,title:`${_.textContent}`,level:Number(_.tagName.slice(1))}),h++;t.value=p.innerHTML};return{output:t,readingTime:e,titleList:o,initRendererInstance:n,getRenderer:s,render:(p,b)=>{if(!a)throw new Error("Renderer not initialized. Call initRendererInstance first.");a.reset({citeStatus:b.isCiteStatus,legend:b.legend,isUseIndent:b.isUseIndent,isUseJustify:b.isUseJustify,countStatus:b.isCountStatus,isMacCodeBlock:b.isMacCodeBlock,isShowLineNumber:b.isShowLineNumber});const{html:h,readingTime:_}=renderMarkdown(p,a);return e.chars=p.length,e.words=_.words,e.minutes=Math.ceil(_.minutes),t.value=postProcessHtml(h,_,a),i(),t.value},updateTheme:(p,b,h,_,C)=>{if(!a)return;const g=l(p,b,_,C);a.setOptions({theme:g,fonts:h,size:_})},updateCss:p=>{if(!a)return;const b=useThemeStore(),h=b.theme,_=l(p,themeMap[h],b.fontSize,b.primaryColor);a.setOptions({theme:_})},getTheme:l}}),_hoisted_1$v={class:"flex select-none items-center justify-end px-5 py-2 text-xs"},_hoisted_2$o={class:"space-x-2"},_sfc_main$1S=defineComponent({__name:"Footer",setup(t){const e=useRenderStore(),{readingTime:o}=storeToRefs(e);return(a,n)=>(openBlock(),createElementBlock("footer",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$o,[createBaseVNode("span",null,toDisplayString(unref(o).words)+" 个词 ",1),createBaseVNode("span",null,toDisplayString(unref(o).chars)+" 个字符 ",1),createBaseVNode("span",null," 阅读大约需 "+toDisplayString(unref(o).minutes)+" 分钟 ",1)])]))}}),_sfc_main$1R=defineComponent({__name:"AlertDialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Tv),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}});function cn(...t){return twMerge(clsx(t))}const _sfc_main$1Q=defineComponent({__name:"AlertDialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Av),null,{default:withCtx(()=>[createVNode(unref(kv),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80"}),createVNode(unref(Ov),mergeProps(unref(s),{class:unref(cn)("fixed left-1/2 top-1/2 z-200 grid w-full max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1P=defineComponent({__name:"AlertDialogFooter",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1O=defineComponent({__name:"Button",props:{variant:{},size:{},class:{},asChild:{type:Boolean},as:{default:"button"}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(O),{as:t.as,"as-child":t.asChild,class:normalizeClass(unref(cn)(unref(buttonVariants)({variant:t.variant,size:t.size}),e.class))},{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},8,["as","as-child","class"]))}}),buttonVariants=cva("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",xs:"h-7 rounded px-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),_sfc_main$1N=defineComponent({__name:"AlertDialogAction",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Nv),mergeProps(unref(o),{class:unref(cn)(unref(buttonVariants)(),e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1M=defineComponent({__name:"AlertDialogCancel",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Mv),mergeProps(unref(o),{class:unref(cn)(unref(buttonVariants)({variant:"outline"}),"mt-2 sm:mt-0",e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1L=defineComponent({__name:"AlertDialogHeader",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col gap-y-2 text-center sm:text-left",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1K=defineComponent({__name:"AlertDialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Fv),mergeProps(unref(o),{class:unref(cn)("text-sm text-muted-foreground",e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1J=defineComponent({__name:"AlertDialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Vv),mergeProps(unref(o),{class:unref(cn)("text-lg font-semibold",e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1I=defineComponent({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(nu),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$1H=defineComponent({__name:"DialogContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Iv),null,{default:withCtx(()=>[createVNode(unref($u),{class:"data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-200 bg-black/80"}),createVNode(unref(Pu),mergeProps(unref(s),{class:unref(cn)("fixed left-1/2 top-1/2 z-200 grid w-[90vw] max-w-md sm:max-w-lg -translate-x-1/2 -translate-y-1/2 gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default"),createVNode(unref(Xl),{class:"data-[state=open]:bg-accent ring-offset-background data-[state=open]:text-muted-foreground focus:ring-ring absolute right-4 top-4 rounded-sm opacity-70 transition-opacity disabled:pointer-events-none hover:opacity-100 focus:outline-hidden focus:ring-2 focus:ring-offset-2"},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"}),i[0]||(i[0]=createBaseVNode("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1G=defineComponent({__name:"RadioGroup",props:{modelValue:{},defaultValue:{},disabled:{type:Boolean},orientation:{},dir:{},loop:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=e,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(l,i)=>(openBlock(),createBlock(unref(RadioGroupRoot_default),mergeProps({"data-slot":"radio-group",class:unref(cn)("grid gap-3",o.class)},unref(s)),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1F=defineComponent({__name:"Label",props:{for:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Vh),mergeProps(unref(o),{class:unref(cn)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70",e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1E=defineComponent({__name:"RadioGroupItem",props:{id:{},value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},setup(t){const e=t,o=reactiveOmit(e,"class"),a=useForwardProps(o);return(n,s)=>(openBlock(),createBlock(unref(RadioGroupItem_default),mergeProps({"data-slot":"radio-group-item"},unref(a),{class:unref(cn)("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e.class)}),{default:withCtx(()=>[createVNode(unref(RadioGroupIndicator_default),{"data-slot":"radio-group-indicator",class:"relative flex items-center justify-center"},{default:withCtx(()=>[createVNode(unref(Circle),{class:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})]),_:1})]),_:1},16,["class"]))}}),_sfc_main$1D=defineComponent({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},setup(t,{emit:e}){const o=t,n=useVModel(o,"modelValue",e,{passive:!0,defaultValue:o.defaultValue});return(s,l)=>withDirectives((openBlock(),createElementBlock("textarea",{"onUpdate:modelValue":l[0]||(l[0]=i=>isRef(n)?n.value=i:null),class:normalizeClass(unref(cn)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[vModelText,unref(n)]])}}),_hoisted_1$u={class:"min-h-[auto] md:min-h-[64px]"},_hoisted_2$n={class:"flex flex-1 flex-col justify-between"},_hoisted_3$k={class:"min-h-[40px] flex items-center w-full"},_hoisted_4$i={key:0,class:"mt-1 min-h-[20px] md:min-h-[24px] flex items-center text-[12px] text-red-500"},_hoisted_5$g={key:1,class:"mb-[-12px] md:mb-[-24px]"},_sfc_main$1C=defineComponent({__name:"FormItem",props:{label:{},required:{type:Boolean},error:{},width:{}},setup(t){const e=t;return(o,a)=>{const n=_sfc_main$1F;return openBlock(),createElementBlock("div",_hoisted_1$u,[createVNode(n,{class:"mb-4 md:mb-[24px] flex flex-col md:flex-row md:items-center"},{default:withCtx(()=>[createBaseVNode("span",{class:normalizeClass(["mb-1 md:mb-0 md:mr-4 min-h-[auto] md:min-h-[40px] w-full md:w-[150px] flex shrink-0 items-center justify-start md:justify-end font-bold text-sm md:text-base",{required:e.required}])},toDisplayString(e.label),3),createBaseVNode("div",_hoisted_2$n,[createBaseVNode("div",_hoisted_3$k,[renderSlot(o.$slots,"default",{},void 0,!0)]),t.error?(openBlock(),createElementBlock("p",_hoisted_4$i,toDisplayString(t.error),1)):createCommentVNode("",!0),t.error?(openBlock(),createElementBlock("div",_hoisted_5$g)):createCommentVNode("",!0)])]),_:3})])}}}),__unplugin_components_14=_export_sfc(_sfc_main$1C,[["__scopeId","data-v-e65b7ec5"]]),_sfc_main$1B=defineComponent({__name:"Input",props:{defaultValue:{},modelValue:{},class:{}},setup(t,{expose:e,emit:o}){const a=t,s=useVModel(a,"modelValue",o,{passive:!0,defaultValue:a.defaultValue}),l=useAttrs(),i=ref();return e({focus:()=>i.value?.focus(),blur:()=>i.value?.blur(),select:()=>i.value?.select(),setSelectionRange:(d,f)=>i.value?.setSelectionRange(d,f),inputElement:i}),(d,f)=>withDirectives((openBlock(),createElementBlock("input",mergeProps({ref_key:"inputRef",ref:i,"onUpdate:modelValue":f[0]||(f[0]=u=>isRef(s)?s.value=u:null)},unref(l),{class:unref(cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",a.class)}),null,16)),[[vModelDynamic,unref(s)]])}}),_sfc_main$1A=defineComponent({__name:"DialogHeader",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col gap-y-1.5 text-center sm:text-left",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1z=defineComponent({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Bu),mergeProps(unref(a),{class:unref(cn)("text-lg font-semibold leading-none tracking-tight",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),useEditorStore=defineStore("editor",()=>{const t=ref(null);return{editor:t,formatContent:async()=>{if(!t.value)return;const i=await formatDoc(t.value.state.doc.toString());return t.value.dispatch({changes:{from:0,to:t.value.state.doc.length,insert:i}}),i},importContent:i=>{t.value&&t.value.dispatch({changes:{from:0,to:t.value.state.doc.length,insert:i}})},clearContent:()=>{t.value&&(t.value.dispatch({changes:{from:0,to:t.value.state.doc.length,insert:""}}),toast.success("内容已清空"))},getContent:()=>t.value?.state.doc.toString()??"",getSelection:()=>{if(!t.value)return"";const i=t.value.state.selection.main;return t.value.state.doc.sliceString(i.from,i.to)},replaceSelection:i=>{t.value&&t.value.dispatch(t.value.state.replaceSelection(i))}}}),_hoisted_1$t={class:"inline-flex items-center space-x-2 w-20"},_hoisted_2$m={class:"inline-flex items-center space-x-2 w-20"},_hoisted_3$j={class:"inline-flex items-center space-x-2 w-20"},_hoisted_4$h={class:"inline-flex items-center space-x-2 w-20"},_hoisted_5$f={class:"inline-flex items-center space-x-2 w-20"},_sfc_main$1y=defineComponent({__name:"InsertMpCardDialog",setup(t){const e=useEditorStore(),o=useUIStore(),{toggleShowInsertMpCardDialog:a}=o,n=store.reactive(addPrefix("mp-profile"),{id:"",name:"",logo:"",desc:"",serviceType:"1",verify:"0"}),s=toTypedSchema(create$3({id:create$6().required("公众号 ID 不能为空"),name:create$6().required("公众号名称 不能为空"),logo:create$6().optional().url("公众号 Logo 必须是一个有效的 URL"),desc:create$6().optional(),serviceType:create$6().required(),verify:create$6().required()}));function l(d){const f=d.logo||"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/mp-logo.png";return`<section class="mp_profile_iframe_wrp custom_select_card_wrp" nodeleaf="">
  <mp-common-profile class="mpprofile js_uneditable custom_select_card mp_profile_iframe" ${['data-pluginname="mpprofile"',`data-id="${d.id}"`,`data-nickname="${d.name}"`,`data-headimg="${f}"`,d.desc&&`data-signature="${d.desc}"`,`data-service_type="${d.serviceType||"1"}"`,`data-verify_status="${d.verify||"0"}"`].filter(Boolean).join(" ")}></mp-common-profile>
  <br class="ProseMirror-trailingBreak">
</section>`}function i(d){n.value=d;const f=l(d),u=toRaw(e.editor),p=u.state.selection.main;u.dispatch({changes:{from:p.from,to:p.to,insert:`
${f}
`}}),toast.success("公众号名片插入成功"),a(!1)}return(d,f)=>{const u=_sfc_main$1z,p=_sfc_main$1A,b=_sfc_main$1B,h=__unplugin_components_14,_=_sfc_main$1D,C=_sfc_main$1E,g=_sfc_main$1F,w=_sfc_main$1G,x=_sfc_main$1O,m=_sfc_main$1H,G=_sfc_main$1I;return openBlock(),createBlock(G,{open:unref(o).isShowInsertMpCardDialog,"onUpdate:open":f[0]||(f[0]=N=>unref(o).isShowInsertMpCardDialog=N)},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createVNode(p,null,{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[...f[1]||(f[1]=[createTextVNode("插入公众号名片",-1)])]),_:1})]),_:1}),createVNode(unref(Form),{"validation-schema":unref(s),"initial-values":unref(n),onSubmit:i},{default:withCtx(()=>[createVNode(unref(Field),{name:"id"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"公众号 ID",required:"",error:T,width:90},{default:withCtx(()=>[createVNode(b,mergeProps(N,{modelValue:N.value,"onUpdate:modelValue":M=>N.value=M,modelModifiers:{trim:!0},placeholder:"例：MzIxNjA5ODQ0OQ=="}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"name"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"公众号名称",required:"",error:T,width:90},{default:withCtx(()=>[createVNode(b,mergeProps(N,{modelValue:N.value,"onUpdate:modelValue":M=>N.value=M,modelModifiers:{trim:!0},placeholder:"例：Doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"logo"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"公众号 Logo",error:T,width:90},{default:withCtx(()=>[createVNode(b,mergeProps(N,{modelValue:N.value,"onUpdate:modelValue":M=>N.value=M,modelModifiers:{trim:!0},placeholder:"例：https://doocs.com/mp-logo.png"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"desc"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"公众号描述",error:T,width:90},{default:withCtx(()=>[createVNode(_,mergeProps(N,{modelValue:N.value,"onUpdate:modelValue":M=>N.value=M,modelModifiers:{trim:!0},rows:"3",placeholder:"例：GitHub 开源组织 @Doocs 旗下唯一公众号，专注分享技术领域相关知识及行业最新资讯。"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"serviceType"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"公众号类型",required:"",error:T,width:90},{default:withCtx(()=>[createVNode(w,mergeProps({class:"flex gap-5"},N,{"default-value":N.value}),{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$t,[createVNode(C,{id:"option-one",value:"1"}),createVNode(g,{for:"option-one"},{default:withCtx(()=>[...f[2]||(f[2]=[createTextVNode("公众号",-1)])]),_:1})]),createBaseVNode("div",_hoisted_2$m,[createVNode(C,{id:"option-two",value:"2"}),createVNode(g,{for:"option-two"},{default:withCtx(()=>[...f[3]||(f[3]=[createTextVNode("服务号",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"verify"},{default:withCtx(({field:N,errorMessage:T})=>[createVNode(h,{label:"认证",required:"",error:T,width:90},{default:withCtx(()=>[createVNode(w,mergeProps({class:"flex gap-5"},N,{"default-value":N.value}),{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$j,[createVNode(C,{id:"service-type-option-one",value:"0"}),createVNode(g,{for:"service-type-option-one"},{default:withCtx(()=>[...f[4]||(f[4]=[createTextVNode("无",-1)])]),_:1})]),createBaseVNode("div",_hoisted_4$h,[createVNode(C,{id:"service-type-option-two",value:"1"}),createVNode(g,{for:"service-type-option-two"},{default:withCtx(()=>[...f[5]||(f[5]=[createTextVNode("个人",-1)])]),_:1})]),createBaseVNode("div",_hoisted_5$f,[createVNode(C,{id:"service-type-option-three",value:"2"}),createVNode(g,{for:"service-type-option-three"},{default:withCtx(()=>[...f[6]||(f[6]=[createTextVNode("企业",-1)])]),_:1})])]),_:1},16,["default-value"])]),_:2},1032,["error"])]),_:1}),createVNode(h,null,{default:withCtx(()=>[createVNode(x,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://github.com/doocs/md/blob/main/docs/mp-card.md",target:"_blank"},{default:withCtx(()=>[...f[7]||(f[7]=[createTextVNode(" 如何获取公众号 ID？ ",-1)])]),_:1})]),_:1}),createVNode(h,null,{default:withCtx(()=>[createVNode(x,{type:"submit"},{default:withCtx(()=>[...f[8]||(f[8]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1})]),_:1},8,["open"])}}}),_sfc_main$1x=defineComponent({__name:"DialogFooter",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:gap-x-2",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1w=defineComponent({__name:"NumberField",props:{defaultValue:{},modelValue:{},min:{},max:{},step:{},formatOptions:{},locale:{},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(gy),mergeProps(unref(s),{class:unref(cn)("grid gap-1.5",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1v=defineComponent({__name:"NumberFieldContent",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("relative has-data-[slot=increment]:*:data-[slot=input]:pr-5 has-data-[slot=decrement]:*:data-[slot=input]:pl-5",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$1u=defineComponent({__name:"NumberFieldIncrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Cy),mergeProps({"data-slot":"increment"},unref(a),{class:unref(cn)("absolute top-1/2 -translate-y-1/2 right-0 disabled:cursor-not-allowed disabled:opacity-20 p-3",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(Plus),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1t=defineComponent({__name:"NumberFieldInput",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(by),{"data-slot":"input",class:normalizeClass(unref(cn)("flex h-10 w-full rounded-md border border-input bg-background py-2 text-sm text-center ring-offset-background placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e.class))},null,8,["class"]))}}),_sfc_main$1s=defineComponent({__name:"NumberFieldDecrement",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(wy),mergeProps({"data-slot":"decrement"},unref(a),{class:unref(cn)("absolute top-1/2 -translate-y-1/2 left-0 p-3 disabled:cursor-not-allowed disabled:opacity-20",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(Minus),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_hoisted_1$s={class:"space-x-2 flex justify-between"},_hoisted_2$l={class:"space-y-2 border rounded p-2"},_sfc_main$1r=defineComponent({__name:"InsertFormDialog",setup(t){const e=useEditorStore(),o=useUIStore(),{toggleShowInsertFormDialog:a}=o,n=ref(3),s=ref(3),l=ref({});function i(){n.value=3,s.value=3,l.value={}}function d(){const u=createTable({rows:n.value,cols:s.value,data:l.value}),p=toRaw(e.editor),b=p.state.selection.main;p.dispatch({changes:{from:b.from,to:b.to,insert:`
${u}
`}}),i(),a()}function f(u){u||a(!1)}return(u,p)=>{const b=_sfc_main$1z,h=_sfc_main$1A,_=_sfc_main$1F,C=_sfc_main$1s,g=_sfc_main$1t,w=_sfc_main$1u,x=_sfc_main$1v,m=_sfc_main$1w,G=_sfc_main$1B,N=_sfc_main$1O,T=_sfc_main$1x,M=_sfc_main$1H,E=_sfc_main$1I;return openBlock(),createBlock(E,{open:unref(o).isShowInsertFormDialog,"onUpdate:open":f},{default:withCtx(()=>[createVNode(M,null,{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[createVNode(b,null,{default:withCtx(()=>[...p[3]||(p[3]=[createTextVNode("插入表格",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$s,[createVNode(m,{modelValue:unref(n),"onUpdate:modelValue":p[0]||(p[0]=Q=>isRef(n)?n.value=Q:null),min:1,max:100},{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[...p[4]||(p[4]=[createTextVNode("行数",-1)])]),_:1}),createVNode(x,null,{default:withCtx(()=>[createVNode(C),createVNode(g),createVNode(w)]),_:1})]),_:1},8,["modelValue"]),createVNode(m,{modelValue:unref(s),"onUpdate:modelValue":p[1]||(p[1]=Q=>isRef(s)?s.value=Q:null),min:1,max:100},{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[...p[5]||(p[5]=[createTextVNode("列数",-1)])]),_:1}),createVNode(x,null,{default:withCtx(()=>[createVNode(C),createVNode(g),createVNode(w)]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",_hoisted_2$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n)+1,Q=>(openBlock(),createElementBlock("div",{key:Q,class:normalizeClass([{"head-style":Q===1},"space-x-2 flex"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s),K=>(openBlock(),createBlock(G,{key:K,modelValue:unref(l)[`k_${Q-1}_${K-1}`],"onUpdate:modelValue":V=>unref(l)[`k_${Q-1}_${K-1}`]=V,class:normalizeClass({"bg-gray-100 dark:bg-gray-900":Q===1}),placeholder:Q===1?"表头":""},null,8,["modelValue","onUpdate:modelValue","class","placeholder"]))),128))],2))),128))]),createVNode(T,null,{default:withCtx(()=>[createVNode(N,{variant:"outline",onClick:p[2]||(p[2]=Q=>unref(a)(!1))},{default:withCtx(()=>[...p[6]||(p[6]=[createTextVNode(" 取 消 ",-1)])]),_:1}),createVNode(N,{onClick:d},{default:withCtx(()=>[...p[7]||(p[7]=[createTextVNode(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),_sfc_main$1q=defineComponent({__name:"Tabs",props:{defaultValue:{},orientation:{},dir:{},activationMode:{},modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Cg),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),basicSetup=[highlightActiveLineGutter(),highlightSpecialChars(),history(),foldGutter(),drawSelection(),dropCursor(),EditorState.allowMultipleSelections.of(!0),indentOnInput(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),bracketMatching(),closeBrackets(),autocompletion(),rectangularSelection(),crosshairCursor(),highlightActiveLine(),highlightSelectionMatches(),indentationMarkers(),keymap.of([...closeBracketsKeymap,...defaultKeymap,...searchKeymap,...historyKeymap,...foldKeymap,...completionKeymap,...lintKeymap,{key:"Tab",run:acceptCompletion},indentWithTab])];[highlightSpecialChars(),history(),drawSelection(),syntaxHighlighting(defaultHighlightStyle,{fallback:!0}),keymap.of([...defaultKeymap,...historyKeymap])];async function formatCSS(t){const e=t.state.doc.toString(),o=await formatDoc(e,"css");t.dispatch({changes:{from:0,to:t.state.doc.length,insert:o}})}function cssSetup(){return[basicSetup,css$1(),EditorView.lineWrapping,keymap.of([{key:"Shift-Alt-f",run:t=>(formatCSS(t),!0)}])]}function toggleFormat(t,{prefix:e,suffix:o,check:a,afterInsertCursorOffset:n=0}){const s=t.state.selection.main,l=t.state.doc.sliceString(s.from,s.to),i=a?.(l)??!1;let d;if(i)d=l.slice(e.length,l.length-o.length),t.dispatch(t.state.replaceSelection(d));else if(d=`${e}${l}${o}`,t.dispatch(t.state.replaceSelection(d)),n!==0){const u=t.state.selection.main.head+n;t.dispatch({selection:{anchor:u}})}}function applyHeading(t,e){const o=t.state.selection.ranges,a=[],n=`${"#".repeat(e)} `;if(o.forEach(s=>{const l=t.state.doc.lineAt(s.from),i=t.state.doc.lineAt(s.to);for(let d=l.number;d<=i.number;d++){const f=t.state.doc.line(d),p=t.state.doc.sliceString(f.from,f.to).replace(/^#{1,6}\s+/,"").trimStart(),b=n+p;a.push({from:f.from,to:f.to,insert:b})}}),a.length>0){const l=t.state.doc.lineAt(o[0].from).from+n.length;t.dispatch({changes:a,selection:{anchor:l}})}}function formatBold(t){toggleFormat(t,{prefix:"**",suffix:"**",check:e=>e.startsWith("**")&&e.endsWith("**"),afterInsertCursorOffset:-2})}function formatItalic(t){toggleFormat(t,{prefix:"*",suffix:"*",check:e=>e.startsWith("*")&&e.endsWith("*"),afterInsertCursorOffset:-1})}function formatStrikethrough(t){toggleFormat(t,{prefix:"~~",suffix:"~~",check:e=>e.startsWith("~~")&&e.endsWith("~~"),afterInsertCursorOffset:-2})}function formatLink(t){toggleFormat(t,{prefix:"[",suffix:"]()",check:e=>e.startsWith("[")&&e.endsWith("]()"),afterInsertCursorOffset:-1})}function formatCode(t){toggleFormat(t,{prefix:"`",suffix:"`",check:e=>e.startsWith("`")&&e.endsWith("`"),afterInsertCursorOffset:-1})}function formatUnorderedList(t){const e=t.state.selection.main,a=t.state.doc.sliceString(e.from,e.to).split(`
`),s=a.every(l=>l.trim().startsWith("- "))?a.map(l=>l.replace(/^- +/,"")).join(`
`):a.map(l=>`- ${l}`).join(`
`);t.dispatch(t.state.replaceSelection(s))}function formatOrderedList(t){const e=t.state.selection.main,a=t.state.doc.sliceString(e.from,e.to).split(`
`),s=a.every(l=>/^\d+\.\s/.test(l.trim()))?a.map(l=>l.replace(/^\d+\.\s+/,"")).join(`
`):a.map((l,i)=>`${i+1}. ${l}`).join(`
`);t.dispatch(t.state.replaceSelection(s))}function undoAction(t){return undo(t)}function redoAction(t){return redo(t)}async function formatJavaScript(t){const e=t.state.doc.toString(),o=await formatDoc(e,"javascript");t.dispatch({changes:{from:0,to:t.state.doc.length,insert:o}})}function javascriptSetup(){return[basicSetup,javascript$1(),keymap.of([{key:"Shift-Alt-f",run:t=>(formatJavaScript(t),!0)}])]}async function formatMarkdown(t){const e=t.state.doc.toString(),o=await formatDoc(e,"markdown");t.dispatch({changes:{from:0,to:t.state.doc.length,insert:o}})}function insertTabAtCursor(t){const o=t.state.changeByRange(a=>({changes:{from:a.from,to:a.to,insert:"  "},range:EditorSelection.range(a.from+2,a.from+2)}));return t.dispatch(o),!0}function markdownKeymap(t){const{onSearch:e}=t||{};return keymap.of([{key:"Tab",run:insertTabAtCursor},{key:"Mod-z",run:undoAction},{key:"Mod-y",run:redoAction},{key:"Mod-Shift-z",run:redoAction},{key:"Mod-b",run:o=>(formatBold(o),!0)},{key:"Mod-i",run:o=>(formatItalic(o),!0)},{key:"Mod-d",run:o=>(formatStrikethrough(o),!0)},{key:"Mod-k",run:o=>(formatLink(o),!0)},{key:"Mod-e",run:o=>(formatCode(o),!0)},{key:"Mod-h",run:o=>(applyHeading(o,1),!0)},{key:"Mod-1",run:o=>(applyHeading(o,1),!0)},{key:"Mod-2",run:o=>(applyHeading(o,2),!0)},{key:"Mod-3",run:o=>(applyHeading(o,3),!0)},{key:"Mod-4",run:o=>(applyHeading(o,4),!0)},{key:"Mod-5",run:o=>(applyHeading(o,5),!0)},{key:"Mod-6",run:o=>(applyHeading(o,6),!0)},{key:"Mod-u",run:o=>(formatUnorderedList(o),!0)},{key:"Mod-o",run:o=>(formatOrderedList(o),!0)},...e?[{key:"Mod-f",run:o=>(e(o),!0)}]:[],{key:"Shift-Alt-f",run:o=>(formatMarkdown(o),!0)},{key:"Mod-g",run:()=>!0}])}function markdownSetup(t){return[history(),highlightSelectionMatches(),closeBrackets(),indentationMarkers(),markdown$1({base:markdownLanguage,codeLanguages:languages,addKeymap:!0}),Prec.high(markdownKeymap(t)),keymap.of([...defaultKeymap,...historyKeymap,...closeBracketsKeymap]),EditorView.lineWrapping,EditorState.allowMultipleSelections.of(!0),placeholder("开始写作...")]}const customStyles=EditorView.theme({".cm-gutterElement":{display:"flex",justifyContent:"right",alignItems:"center"}});function lightTheme(){return[vsCodeLight,customStyles]}function darkTheme(){return[vsCodeDark,customStyles]}function theme(t){return t?darkTheme():lightTheme()}const _hoisted_1$r={class:"space-y-4 min-w-0"},_hoisted_2$k={class:"h-60 border border-gray-200 dark:border-gray-700 rounded-lg flex flex-col overflow-y-auto"},_sfc_main$1p=defineComponent({__name:"CustomUploadForm",setup(t){const e=store.reactive("formCustomConfig",removeLeft(`
  const { file, util, okCb, errCb } = CUSTOM_ARG
  param = new FormData()
  param.append('file', file)
  util.axios.post('${window.location.origin}/upload', param, {
    headers: { 'Content-Type': 'multipart/form-data' }
  }).then(res => {
    okCb(res.url)
  }).catch(err => {
    errCb(err)
  })
`).trim()),o=useTemplateRef("formCustomTextarea"),a=useUIStore(),{isDark:n}=storeToRefs(a),s=ref(null),l=new Compartment;onMounted(()=>{const d=new EditorView({parent:o.value,extensions:[javascriptSetup(),l.of(theme(n.value))],doc:e.value});s.value=d}),watch(n,d=>{s.value?.dispatch({effects:l.reconfigure(theme(d))})}),onUnmounted(()=>{s.value&&s.value.destroy()});function i(){const d=s.value.state.doc.toString();e.value=d,toast.success("保存成功")}return(d,f)=>{const u=_sfc_main$1O;return openBlock(),createElementBlock("div",_hoisted_1$r,[createBaseVNode("div",_hoisted_2$k,[createBaseVNode("div",{ref_key:"formCustomTextarea",ref:o,class:"flex-1 custom-codemirror"},null,512)]),createVNode(u,{variant:"link",class:"p-0",as:"a",href:"https://github.com/doocs/md/blob/main/docs/custom-upload.md",target:"_blank"},{default:withCtx(()=>[...f[0]||(f[0]=[createTextVNode(" 参数详情？ ",-1)])]),_:1}),createVNode(u,{class:"block",onClick:i},{default:withCtx(()=>[...f[1]||(f[1]=[createTextVNode(" 保存配置 ",-1)])]),_:1})])}}}),__unplugin_components_16=_export_sfc(_sfc_main$1p,[["__scopeId","data-v-72ef3bba"]]),_sfc_main$1o=defineComponent({__name:"TabsContent",props:{value:{},forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(_g),mergeProps({class:unref(cn)("mt-2 ring-offset-background focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e.class)},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$1n=defineComponent({__name:"Progress",props:{modelValue:{},max:{},getValueLabel:{type:Function},asChild:{type:Boolean},as:{}},setup(t){const e=t,o=computed(()=>e.modelValue??0);return(a,n)=>(openBlock(),createBlock(unref(Ry),mergeProps(e,{"model-value":unref(o),class:"relative overflow-hidden bg-blackA9 rounded-full w-full h-4 sm:h-5",style:{transform:"translateZ(0)"}}),{default:withCtx(()=>[createVNode(unref(Ay),{class:"bg-primary rounded-full w-full h-full transition-transform duration-[660ms] ease-[cubic-bezier(0.65, 0, 0.35, 1)]",style:normalizeStyle({transform:`translateX(-${100-(Number(unref(o))||0)}%)`})},null,8,["style"])]),_:1},16,["model-value"]))}}),_sfc_main$1m=defineComponent({__name:"Switch",props:{defaultChecked:{type:Boolean},checked:{type:Boolean},disabled:{type:Boolean},required:{type:Boolean},name:{},id:{},value:{},asChild:{type:Boolean},as:{},class:{}},emits:["update:checked"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(gg),mergeProps(unref(s),{class:unref(cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",o.class)}),{default:withCtx(()=>[createVNode(unref(bg),{class:normalizeClass(unref(cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5"))},{default:withCtx(()=>[renderSlot(l.$slots,"thumb")]),_:3},8,["class"])]),_:3},16,["class"]))}}),_sfc_main$1l=defineComponent({__name:"Select",props:{open:{type:Boolean},defaultOpen:{type:Boolean},defaultValue:{},modelValue:{},dir:{},name:{},autocomplete:{},disabled:{type:Boolean},required:{type:Boolean}},emits:["update:modelValue","update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Ky),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$1k=defineComponent({__name:"SelectGroup",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(Xy),mergeProps({class:unref(cn)("p-1 w-full",e.class)},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$q={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$1j=defineComponent({__name:"SelectItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(qy),mergeProps(unref(a),{class:unref(cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",e.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$q,[createVNode(unref(Yy),null,{default:withCtx(()=>[createVNode(unref(Check),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(Jy),null,{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3})]),_:3},16,["class"]))}}),_sfc_main$1i=defineComponent({__name:"SelectScrollDownButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(tg),mergeProps(unref(a),{class:unref(cn)("flex cursor-default items-center justify-center py-1",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(ChevronDown),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1h=defineComponent({__name:"SelectScrollUpButton",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(eg),mergeProps(unref(a),{class:unref(cn)("flex cursor-default items-center justify-center py-1",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default",{},()=>[createVNode(unref(ChevronUp),{class:"h-4 w-4"})])]),_:3},16,["class"]))}}),_sfc_main$1g=defineComponent({__name:"SelectTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Hy),mergeProps(unref(a),{class:unref(cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-hidden focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:truncate text-start",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default"),createVNode(unref(ng),{"as-child":""},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:"h-4 w-4 shrink-0 opacity-50"})]),_:1})]),_:3},16,["class"]))}}),_sfc_main$1f=defineComponent({__name:"SelectValue",props:{placeholder:{},asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(ag),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$1e=defineComponent({inheritAttrs:!1,__name:"SelectContent",props:{forceMount:{type:Boolean},position:{default:"popper"},bodyLock:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["closeAutoFocus","escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Wy),null,{default:withCtx(()=>[createVNode(unref(jy),mergeProps({...unref(s),...l.$attrs},{class:unref(cn)("relative z-200 max-h-96 min-w-32 overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t.position==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",o.class)}),{default:withCtx(()=>[createVNode(unref(_sfc_main$1h)),createVNode(unref(Qy),{class:normalizeClass(unref(cn)("p-1",t.position==="popper"&&"h-(--radix-select-trigger-height) w-full min-w-(--radix-select-trigger-width)"))},{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},8,["class"]),createVNode(unref(_sfc_main$1i))]),_:3},16,["class"])]),_:3}))}}),_sfc_main$1d=defineComponent({__name:"TabsList",props:{loop:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(wg),mergeProps(unref(o),{class:unref(cn)("inline-flex items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e.class)}),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$p={class:"truncate"},_sfc_main$1c=defineComponent({__name:"TabsTrigger",props:{value:{},disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(xg),mergeProps(unref(a),{class:unref(cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-xs",e.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$p,[renderSlot(n.$slots,"default")])]),_:3},16,["class"]))}}),_hoisted_1$o={key:0,class:"absolute left-0 right-0 h-full w-full flex items-center justify-center bg-white dark:bg-black"},_hoisted_2$j=["src"],_hoisted_3$i={class:"flex flex-col items-start"},_hoisted_4$g={class:"flex flex-col items-start"},_sfc_main$1b=defineComponent({__name:"UploadImgDialog",emits:["uploadImage"],setup(t,{emit:e}){const o=e,a=useUIStore(),n=toTypedSchema(create$3({repo:create$6().required("GitHub 仓库不能为空"),branch:create$6().optional(),accessToken:create$6().required("GitHub Token 不能为空")})),s=store.reactive("githubConfig",{repo:"",branch:"",accessToken:""});async function l(D){Object.assign(s.value,D),toast.success("保存成功")}const i=toTypedSchema(create$3({accessKeyId:create$6().required("AccessKey ID 不能为空"),accessKeySecret:create$6().required("AccessKey Secret 不能为空"),bucket:create$6().required("Bucket 不能为空"),region:create$6().required("Region 不能为空"),useSSL:create$7().required(),cdnHost:create$6().optional(),path:create$6().optional()})),d=store.reactive("aliOSSConfig",{accessKeyId:"",accessKeySecret:"",bucket:"",region:"",useSSL:!0,cdnHost:"",path:""});async function f(D){Object.assign(d.value,D),toast.success("保存成功")}const u=toTypedSchema(create$3({secretId:create$6().required("Secret ID 不能为空"),secretKey:create$6().required("Secret Key 不能为空"),bucket:create$6().required("Bucket 不能为空"),region:create$6().required("Region 不能为空"),cdnHost:create$6().optional(),path:create$6().optional()})),p=store.reactive("txCOSConfig",{secretId:"",secretKey:"",bucket:"",region:"",cdnHost:"",path:""});async function b(D){Object.assign(p.value,D),toast.success("保存成功")}const h=toTypedSchema(create$3({accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空"),bucket:create$6().required("Bucket 不能为空"),domain:create$6().required("Bucket 对应域名不能为空"),region:create$6().optional(),path:create$6().optional()})),_=store.reactive("qiniuConfig",{accessKey:"",secretKey:"",bucket:"",domain:"",region:"",path:""});async function C(D){Object.assign(_.value,D),toast.success("保存成功")}const g=toTypedSchema(create$3({endpoint:create$6().required("Endpoint 不能为空"),port:create$6().optional(),useSSL:create$7().required(),bucket:create$6().required("Bucket 不能为空"),accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空")})),w=store.reactive("minioConfig",{endpoint:"",port:"",useSSL:!0,bucket:"",accessKey:"",secretKey:""});async function x(D){Object.assign(w.value,D),toast.success("保存成功")}const m=toTypedSchema(create$3({token:create$6().required("Bot Token 不能为空"),chatId:create$6().required("Chat ID 不能为空")})),G=store.reactive("telegramConfig",{token:"",chatId:""});async function N(D){Object.assign(G.value,D),toast.success("保存成功")}const M=!window.location.protocol.startsWith("http"),E=computed(()=>!M&&!0),Q=computed(()=>E.value?"如：http://proxy.example.com":"可不填"),K=computed(()=>toTypedSchema(create$3({proxyOrigin:E.value?create$6().required("代理域名不能为空"):create$6().optional(),appID:create$6().required("AppID 不能为空"),appsecret:create$6().required("AppSecret 不能为空")}))),V=store.reactive("mpConfig",{proxyOrigin:"",appID:"",appsecret:""});async function y(D){Object.assign(V.value,D),toast.success("保存成功")}const A=toTypedSchema(create$3({accountId:create$6().required("Account ID 不能为空"),accessKey:create$6().required("AccessKey 不能为空"),secretKey:create$6().required("SecretKey 不能为空"),bucket:create$6().required("Bucket 不能为空"),domain:create$6().required("Bucket 对应域名不能为空"),path:create$6().optional()})),H=store.reactive("r2Config",{accountId:"",accessKey:"",secretKey:"",bucket:"",domain:"",path:""});async function ae(D){Object.assign(H.value,D),toast.success("保存成功")}const ee=computed(()=>toTypedSchema(create$3({bucket:create$6().required("Bucket 不能为空"),operator:create$6().required("操作员 不能为空"),password:create$6().required("密码 不能为空"),domain:create$6().required("CDN 域名不能为空"),path:create$6().optional()}))),U=store.reactive("upyunConfig",{bucket:"",operator:"",password:"",domain:"",path:""});async function j(D){Object.assign(U.value,D),toast.success("保存成功")}const ue=toTypedSchema(create$3({cloudName:create$6().required("Cloud Name 不能为空"),apiKey:create$6().required("API Key 不能为空"),apiSecret:create$6().optional(),uploadPreset:create$6().when("apiSecret",{is:D=>!D||D.length===0,then:D=>D.required("未填写 apiSecret 时必须提供上传预设名"),otherwise:D=>D.optional()}),folder:create$6().optional(),domain:create$6().optional()})),re=store.reactive("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""});async function J(D){Object.assign(re.value,D),toast.success("保存成功")}const L=[{value:"default",label:"默认"},{value:"github",label:"GitHub"},{value:"aliOSS",label:"阿里云"},{value:"txCOS",label:"腾讯云"},{value:"qiniu",label:"七牛云"},{value:"minio",label:"MinIO"},{value:"mp",label:"公众号图床"},{value:"r2",label:"Cloudflare R2"},{value:"upyun",label:"又拍云"},{value:"telegram",label:"Telegram"},{value:"cloudinary",label:"Cloudinary"},{value:"formCustom",label:"自定义代码"}],oe=store.reactive("imgHost","default"),S=store.reactive("useCompression",!1),I=ref("upload");async function Z(){toast.success("图床已切换")}async function me(){}async function ie(D){const $=checkImage(D);if(!$.ok)return toast.error($.msg),!1;const le=oe.value||"default",pe=await store.get(`${le}Config`);return le==="default"||pe?!0:(toast.error(`请先配置 ${le} 图床参数`),!1)}const te=ref(!1),{open:Y,reset:R,onChange:W}=useFileDialog({accept:"image/*"});W(async D=>{if(D==null)return;const $=D[0];await ie($)&&P($),R()});async function se(D){te.value=!1,D.stopPropagation();const $=Array.from(D.dataTransfer.files)[0];await ie($)&&P($)}const fe=ref(0),ne=ref("");function P(D){fe.value=0;const $=setInterval(()=>{const pe=fe.value+1;pe>=100||(fe.value=pe)},100);o("uploadImage",D,(pe,ce)=>{clearInterval($),fe.value=100,ce&&(ne.value=`data:image/png;base64,${ce}`),setTimeout(()=>{fe.value=0,ne.value=""},1e3)},!0)}return(D,$)=>{const le=_sfc_main$1z,pe=_sfc_main$1A,ce=_sfc_main$1c,he=_sfc_main$1d,_e=_sfc_main$1f,we=_sfc_main$1g,ve=_sfc_main$1j,xe=_sfc_main$1e,Ce=_sfc_main$1l,ye=_sfc_main$1F,Ne=_sfc_main$1m,ke=_sfc_main$1n,be=_sfc_main$1o,de=_sfc_main$1B,F=__unplugin_components_14,ge=_sfc_main$1O,Ee=__unplugin_components_16,Be=_sfc_main$1q,Te=_sfc_main$1H,Ve=_sfc_main$1I;return openBlock(),createBlock(Ve,{open:unref(a).isShowUploadImgDialog,"onUpdate:open":$[8]||($[8]=v=>unref(a).isShowUploadImgDialog=v)},{default:withCtx(()=>[createVNode(Te,{class:"md:max-w-max max-h-[90vh] overflow-y-auto",onPointerDownOutside:$[7]||($[7]=v=>v.preventDefault())},{default:withCtx(()=>[createVNode(pe,null,{default:withCtx(()=>[createVNode(le,null,{default:withCtx(()=>[...$[9]||($[9]=[createTextVNode("本地上传",-1)])]),_:1})]),_:1}),createVNode(Be,{modelValue:unref(I),"onUpdate:modelValue":$[6]||($[6]=v=>isRef(I)?I.value=v:null),class:"w-full md:w-max"},{default:withCtx(()=>[createVNode(he,{class:"grid w-full overflow-x-auto grid-cols-3 md:grid-cols-none md:flex md:flex-wrap gap-1"},{default:withCtx(()=>[createVNode(ce,{value:"upload",class:"text-xs md:text-sm whitespace-nowrap"},{default:withCtx(()=>[...$[10]||($[10]=[createTextVNode(" 选择上传 ",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(L.filter(v=>v.value!=="default"),v=>(openBlock(),createBlock(ce,{key:v.value,value:v.value,class:"text-xs md:text-sm whitespace-nowrap"},{default:withCtx(()=>[createTextVNode(toDisplayString(v.label),1)]),_:2},1032,["value"]))),128))]),_:1}),createVNode(be,{value:"upload"},{default:withCtx(()=>[createVNode(ye,null,{default:withCtx(()=>[$[11]||($[11]=createBaseVNode("span",{class:"my-4 block"}," 图床 ",-1)),createVNode(Ce,{modelValue:unref(oe),"onUpdate:modelValue":[$[0]||($[0]=v=>isRef(oe)?oe.value=v:null),Z]},{default:withCtx(()=>[createVNode(we,null,{default:withCtx(()=>[createVNode(_e,{placeholder:"请选择"})]),_:1}),createVNode(xe,{class:"max-h-64 md:max-h-96"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(L,v=>createVNode(ve,{key:v.value,label:v.label,value:v.value},{default:withCtx(()=>[createTextVNode(toDisplayString(v.label),1)]),_:2},1032,["label","value"])),64))]),_:1})]),_:1},8,["modelValue"])]),_:1}),createVNode(ye,{label:"UseCompression"},{default:withCtx(()=>[$[12]||($[12]=createBaseVNode("span",{class:"my-4 block"}," 开启图片压缩 ",-1)),createVNode(Ne,{checked:unref(S),"onUpdate:checked":[$[1]||($[1]=v=>isRef(S)?S.value=v:null),me],name:"UseCompression"},null,8,["checked"])]),_:1}),createBaseVNode("div",{class:normalizeClass(["bg-clip-padding mt-4 h-50 relative flex flex-col cursor-pointer items-center justify-evenly border-2 rounded border-dashed transition-colors hover:border-gray-700 hover:bg-gray-400/50 dark:hover:border-gray-200 dark:hover:bg-gray-500/50",{"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":unref(te)}]),onClick:$[3]||($[3]=v=>unref(Y)()),onDrop:withModifiers(se,["prevent"]),onDragover:$[4]||($[4]=withModifiers(v=>te.value=!0,["prevent"])),onDragleave:$[5]||($[5]=withModifiers(v=>te.value=!1,["prevent"]))},[createVNode(ke,{modelValue:unref(fe),"onUpdate:modelValue":$[2]||($[2]=v=>isRef(fe)?fe.value=v:null),class:"absolute left-0 right-0 rounded-none",style:{top:"-24px",height:"2px"}},null,8,["modelValue"]),createVNode(unref(CloudUpload),{class:"size-16 md:size-20"}),$[13]||($[13]=createBaseVNode("p",{class:"text-center text-sm md:text-base px-4"},[createTextVNode(" 将图片拖到此处，或 "),createBaseVNode("strong",null,"点击上传")],-1)),unref(ne)?(openBlock(),createElementBlock("div",_hoisted_1$o,[createBaseVNode("img",{src:unref(ne),class:"max-h-40 object-contain"},null,8,_hoisted_2$j)])):createCommentVNode("",!0)],34)]),_:1}),createVNode(be,{value:"github"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(n),"initial-values":unref(s),onSubmit:l},{default:withCtx(()=>[createVNode(unref(Field),{name:"repo"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"GitHub 仓库",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：github.com/yanglbme/resource"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"branch"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"分支",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：release，可不填，默认 master"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessToken"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Token",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如：cc1d0c1426d0fd0902bd2d7184b14da61b8abc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://docs.github.com/en/github/authenticating-to-github/creating-a-personal-access-token",target:"_blank"},{default:withCtx(()=>[...$[14]||($[14]=[createTextVNode(" 如何获取 GitHub Token？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[15]||($[15]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"aliOSS"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(i),"initial-values":unref(d),onSubmit:f},{default:withCtx(()=>[createVNode(unref(Field),{name:"accessKeyId"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccessKey ID",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：LTAI4GdoocsmdoxUf13ylbaNHk"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKeySecret"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccessKey Secret",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如：cc1d0c142doocs0902bd2d7md4b14da6ylbabc46"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket 所在区域",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：oss-cn-shenzhen"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"useSSL",type:"boolean"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"UseSSL",required:"",error:z},{default:withCtx(()=>[createVNode(Ne,{checked:v.value,name:v.name,"onUpdate:checked":v.onChange,onBlur:v.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"cdnHost"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"自定义 CDN 域名",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://help.aliyun.com/document_detail/31883.html",target:"_blank"},{default:withCtx(()=>[...$[16]||($[16]=[createTextVNode(" 如何使用阿里云 OSS？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[17]||($[17]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"txCOS"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(u),"initial-values":unref(p),onSubmit:b},{default:withCtx(()=>[createVNode(unref(Field),{name:"secretId"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"SecretId",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：AKIDnQp1w3DOOCSs8F5MDp9tdoocsmdUPonW3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如：ukLmdtEJ9271f3DOocsMDsCXdS3YlbW0"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：doocs-3212520134"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket 所在区域",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：ap-guangzhou"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"cdnHost"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"自定义 CDN 域名",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：https://imagecdn.alidaodao.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：img，可不填，默认根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://cloud.tencent.com/document/product/436/38484",target:"_blank"},{default:withCtx(()=>[...$[18]||($[18]=[createTextVNode(" 如何使用腾讯云 COS？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[19]||($[19]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"qiniu"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(h),"initial-values":unref(_),onSubmit:C},{default:withCtx(()=>[createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：6DD3VaLJ_SQgOdoocsyTV_YWaDmdnL2n8EGx7kG"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如：qgZa5qrvDOOcsmdKStD1oCjZ9nB7MDvJUs_34SIm"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket 对应域名",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：https://images.123ylb.cn"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"region"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储区域",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：z2，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developer.qiniu.com/kodo",target:"_blank"},{default:withCtx(()=>[...$[20]||($[20]=[createTextVNode(" 如何使用七牛云 Kodo？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[21]||($[21]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"minio"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(g),"initial-values":unref(w),onSubmit:x},{default:withCtx(()=>[createVNode(unref(Field),{name:"endpoint"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Endpoint",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：play.min.io"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"port"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Port",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"number",placeholder:"如：9000，可不填，http 默认为 80，https 默认为 443"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"useSSL",type:"boolean"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"UseSSL",required:"",error:z},{default:withCtx(()=>[createVNode(Ne,{checked:v.value,name:v.name,"onUpdate:checked":v.onChange,onBlur:v.onBlur},null,8,["checked","name","onUpdate:checked","onBlur"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：doocs"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：zhangsan"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：asdasdasd"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0",as:"a",href:"http://docs.minio.org.cn/docs/master/minio-client-complete-guide",target:"_blank"},{default:withCtx(()=>[...$[22]||($[22]=[createTextVNode(" 如何使用 MinIO？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[23]||($[23]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"mp"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(K),"initial-values":unref(V),onSubmit:y},{default:withCtx(()=>[unref(E)?(openBlock(),createBlock(unref(Field),{key:0,name:"proxyOrigin"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"代理域名",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:unref(Q)}),null,16,["modelValue","onUpdate:modelValue","placeholder"])]),_:2},1032,["error"])]),_:1})):createCommentVNode("",!0),createVNode(unref(Field),{name:"appID"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"appID",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：wx6e1234567890efa3"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"appsecret"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"appsecret",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：d9f1abcdef01234567890abcdef82397"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_3$i,[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.weixin.qq.com/doc/offiaccount/Getting_Started/Getting_Started_Guide.html",target:"_blank"},{default:withCtx(()=>[...$[24]||($[24]=[createTextVNode(" 如何开启公众号开发者模式并获取应用账号密钥？ ",-1)])]),_:1}),createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://md-pages.doocs.org/tutorial/",target:"_blank"},{default:withCtx(()=>[...$[25]||($[25]=[createTextVNode(" 如何在浏览器插件中使用公众号图床？ ",-1)])]),_:1})])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[26]||($[26]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"r2"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(A),"initial-values":unref(H),onSubmit:ae},{default:withCtx(()=>[createVNode(unref(Field),{name:"accountId"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccountId",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如: 0030f123e55a57546f4c281c564e560",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"accessKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"AccessKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如: 358090b3a12824a6b0787gae7ad0fc72"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"secretKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"SecretKey",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：md"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"域名",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：https://oss.example.com"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createBaseVNode("div",_hoisted_4$g,[createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/api/s3/api/",target:"_blank"},{default:withCtx(()=>[...$[27]||($[27]=[createTextVNode(" 如何使用 S3 API 操作 Cloudflare R2？ ",-1)])]),_:1}),createVNode(ge,{variant:"link",class:"p-0 h-auto text-left whitespace-normal",as:"a",href:"https://developers.cloudflare.com/r2/buckets/cors/",target:"_blank"},{default:withCtx(()=>[...$[28]||($[28]=[createTextVNode(" 如何设置跨域(CORS)？ ",-1)])]),_:1})])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[29]||($[29]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"upyun"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(ee),"initial-values":unref(U),onSubmit:j},{default:withCtx(()=>[createVNode(unref(Field),{name:"bucket"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bucket",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如: md",class:"w-full min-w-0 md:min-w-[350px]"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"operator"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"操作员",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如: operator"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"password"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"操作员密码",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"如: c1c4dbcb0b6b785ac6633422a06dff3dac055fe74fe40xj1b5c5fcf1bf128010"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"域名",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：http://xxx.test.upcdn.net"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"path"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"存储路径",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：img，可不填，默认为根目录"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0",as:"a",href:"https://help.upyun.com/",target:"_blank"},{default:withCtx(()=>[...$[30]||($[30]=[createTextVNode(" 如何使用 又拍云？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[31]||($[31]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"telegram"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(m),"initial-values":unref(G),onSubmit:N},{default:withCtx(()=>[createVNode(unref(Field),{name:"token"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Bot Token",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：123456789:ABCdefGHIjkl-MNOPqrSTUvwxYZ"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"chatId"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Chat ID",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：-1001234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0",as:"a",href:"https://github.com/doocs/md/blob/main/docs/telegram-usage.md",target:"_blank"},{default:withCtx(()=>[...$[32]||($[32]=[createTextVNode(" 如何使用 Telegram？ ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[33]||($[33]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"cloudinary"},{default:withCtx(()=>[createVNode(unref(Form),{"validation-schema":unref(ue),"initial-values":unref(re),onSubmit:J},{default:withCtx(()=>[createVNode(unref(Field),{name:"cloudName"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Cloud Name",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：demo"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"apiKey"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"API Key",required:"",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：1234567890"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"apiSecret"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"API Secret",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,type:"password",placeholder:"用于签名上传，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"uploadPreset"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Upload Preset",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"unsigned 时必填，signed 时可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"folder"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"Folder",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：blog/image，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(unref(Field),{name:"domain"},{default:withCtx(({field:v,errorMessage:z})=>[createVNode(F,{label:"自定义域名 / CDN",error:z},{default:withCtx(()=>[createVNode(de,mergeProps(v,{modelValue:v.value,"onUpdate:modelValue":q=>v.value=q,placeholder:"如：https://cdn.example.com，可不填"}),null,16,["modelValue","onUpdate:modelValue"])]),_:2},1032,["error"])]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{variant:"link",class:"p-0",as:"a",href:"https://cloudinary.com/documentation/upload_images",target:"_blank"},{default:withCtx(()=>[...$[34]||($[34]=[createTextVNode(" Cloudinary 使用文档 ",-1)])]),_:1})]),_:1}),createVNode(F,null,{default:withCtx(()=>[createVNode(ge,{type:"submit"},{default:withCtx(()=>[...$[35]||($[35]=[createTextVNode(" 保存配置 ",-1)])]),_:1})]),_:1})]),_:1},8,["validation-schema","initial-values"])]),_:1}),createVNode(be,{value:"formCustom",class:"grid"},{default:withCtx(()=>[createVNode(Ee)]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"])}}}),DEFAULT_CSS_CONTENT=`/**
 * 按 Alt/Option + Shift + F 可格式化
 * 如需使用主题色，请使用 var(--md-primary-color) 代替颜色值
 * 如：color: var(--md-primary-color);
 *
 * 召集令：如果你有好看的主题样式，欢迎分享，让更多人能够使用到你的主题。
 * 提交区：https://github.com/doocs/md/discussions/426
 */
/* 顶层容器样式 */
container {
}
/* 一级标题样式 */
h1 {
}
/* 二级标题样式 */
h2 {
}
/* 三级标题样式 */
h3 {
}
/* 四级标题样式 */
h4 {
}
/* 五级标题样式 */
h5 {
}
/* 六级标题样式 */
h6 {
}
/* 图片样式 */
image {
}
/* 引用样式 */
blockquote {
}
/* 引用段落样式 */
blockquote_p {
}
/* 段落样式 */
p {
}
/* 分割线样式 */
hr {
}
/* 行内代码样式 */
codespan {
}
/* 斜体样式 */
em {
}
/* 粗体样式 */
strong {
}
/* 链接样式 */
link {
}
/* 微信链接样式 */
wx_link {
}
/* 有序列表样式 */
ol {
}
/* 无序列表样式 */
ul {
}
/* 列表项样式 */
listitem {
}
/* 代码块样式 */
code {
}
/* 代码块外层样式 */
code_pre {
}
/* 行内公式样式 */
inline_katex {
}
/* 公式块样式 */
block_katex {
}
/* 表格样式 */
table {
}
/* 表格头样式 */
thead{
}
/* 表格标题格样式 */
th {
}
/* 表格内容格样式 */
td {
}

/* GFM note 样式 */
blockquote_note {
}
/* GFM tip 样式 */
blockquote_tip {
}
/* GFM info 样式 */
blockquote_info {
}
/* GFM important 样式 */
blockquote_important {
}
/* GFM warning 样式 */
blockquote_warning {
}
/* GFM caution 样式 */
blockquote_caution {
}
/* GFM 通用标题 */
blockquote_title {
}
/* GFM note 标题 */
blockquote_title_note {
}
/* GFM tip 标题 */
blockquote_title_tip {
}
/* GFM info 标题 */
blockquote_title_info {
}
/* GFM important 标题 */
blockquote_title_important {
}
/* GFM warning 标题 */
blockquote_title_warning {
}
/* GFM caution 标题 */
blockquote_title_caution {
}
/* GFM note 段落样式 */
blockquote_p_note {
}
/* GFM tip 段落样式 */
blockquote_p_tip {
}
/* GFM info 段落样式 */
blockquote_p_info {
}
/* GFM important 段落样式 */
blockquote_p_important {
}
/* GFM warning 段落样式 */
blockquote_p_warning {
}
/* GFM caution 段落样式 */
blockquote_p_caution {
}
`,useCssEditorStore=defineStore("cssEditor",()=>{const t=useDark(),e=ref(null),o=ref(null),a=store.reactive("__css_content",DEFAULT_CSS_CONTENT),n=store.reactive(addPrefix("css_content_config"),{active:"方案1",tabs:[{title:"方案1",name:"方案1",content:a.value||DEFAULT_CSS_CONTENT}]}),s=()=>n.value.tabs.find(g=>g.name===n.value.active),l=()=>s().content,i=g=>{e.value&&e.value.dispatch({changes:{from:0,to:e.value.state.doc.length,insert:g}})};let d=null;const f=g=>{d=g},u=g=>{n.value.active=g;const w=n.value.tabs.find(x=>x.name===g).content;i(w),d&&d(w)},p=g=>{const w=s();w.title=g,w.name=g,n.value.active=g},b=g=>{n.value.tabs.push({name:g,title:g,content:DEFAULT_CSS_CONTENT}),n.value.active=g,i(DEFAULT_CSS_CONTENT),d&&d(DEFAULT_CSS_CONTENT)},h=g=>n.value.tabs.every(({name:w})=>w!==g),_=()=>{n.value={active:"方案 1",tabs:[{title:"方案 1",name:"方案 1",content:DEFAULT_CSS_CONTENT}]},e.value&&e.value.dispatch({changes:{from:0,to:e.value.state.doc.length,insert:DEFAULT_CSS_CONTENT}})},C=g=>{const w=document.querySelector("#cssEditor");if(!w)return;w.value=s().content;const x=document.createElement("div");w.parentNode?.replaceChild(x,w),o.value=new Compartment;const m=EditorState.create({doc:s().content,extensions:[cssSetup(),o.value.of(theme(t.value)),EditorView.updateListener.of(G=>{if(G.docChanged){const N=G.state.doc.toString();s().content=N,g(N)}})]});e.value=markRaw(new EditorView({state:m,parent:x}))};return watch(t,()=>{e.value&&o.value&&e.value.dispatch({effects:o.value.reconfigure(theme(t.value))})}),onMounted(()=>{a.value=""}),{cssEditor:e,cssContentConfig:n,getCurrentTab:s,getCurrentTabContent:l,setCssEditorValue:i,setOnTabChangedCallback:f,tabChanged:u,renameTab:p,addCssContentTab:b,validatorTabName:h,resetCssConfig:_,initCssEditor:C}}),_hoisted_1$n={key:0,class:"sticky top-0 z-10 flex items-center justify-between -mx-4 px-4 py-3 border-b mb-4 bg-background"},_hoisted_2$i={class:"space-y-2"},_hoisted_3$h={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_4$f={class:"space-y-2"},_hoisted_5$e={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_6$c={class:"space-y-2"},_hoisted_7$9={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_8$8={class:"space-y-2"},_hoisted_9$6={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_10$2={class:"space-y-2"},_hoisted_11$2={class:"space-y-2"},_hoisted_12$2={class:"space-y-2"},_hoisted_13$2={class:"grid grid-cols-3 justify-items-center gap-2"},_hoisted_14$2={class:"space-y-2"},_hoisted_15$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_16$2={class:"space-y-2"},_hoisted_17$2={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_18$2={class:"space-y-2"},_hoisted_19$1={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_20$1={class:"space-y-2"},_hoisted_21$1={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_22$1={class:"space-y-2"},_hoisted_23$1={class:"grid grid-cols-5 justify-items-center gap-2"},_hoisted_24$1={class:"space-y-2"},_sfc_main$1a=defineComponent({__name:"RightSlider",setup(t){const e=useThemeStore(),{theme:o,fontFamily:a,fontSize:n,primaryColor:s,codeBlockTheme:l,legend:i,isMacCodeBlock:d,isShowLineNumber:f,isCiteStatus:u,isUseIndent:p,isUseJustify:b}=storeToRefs(e),h=useUIStore(),{isMobile:_,isOpenRightSlider:C,isDark:g}=storeToRefs(h),w=useEditorStore(),x=useRenderStore(),m=useCssEditorStore();function G(){e.updateCodeTheme();const oe=w.getContent();x.render(oe,{isCiteStatus:e.isCiteStatus,legend:e.legend,isUseIndent:e.isUseIndent,isUseJustify:e.isUseJustify,isCountStatus:e.isCountStatus,isMacCodeBlock:e.isMacCodeBlock,isShowLineNumber:e.isShowLineNumber})}function N(oe){e.theme=oe,x.updateTheme(m.getCurrentTabContent(),themeMap[oe],e.fontFamily,e.fontSize,e.primaryColor),G()}function T(oe){e.fontFamily=oe,x.updateTheme(m.getCurrentTabContent(),themeMap[e.theme],oe,e.fontSize,e.primaryColor),G()}function M(oe){e.fontSize=oe,x.updateTheme(m.getCurrentTabContent(),themeMap[e.theme],e.fontFamily,oe,e.primaryColor),G()}function E(oe){e.primaryColor=oe,x.updateTheme(m.getCurrentTabContent(),themeMap[e.theme],e.fontFamily,e.fontSize,oe),G()}function Q(oe){e.codeBlockTheme=oe,G()}function K(oe){e.legend=oe,G()}function V(){e.isMacCodeBlock=!e.isMacCodeBlock,G()}function y(){e.isShowLineNumber=!e.isShowLineNumber,G()}function A(){e.isCiteStatus=!e.isCiteStatus,G()}function H(){e.isUseIndent=!e.isUseIndent,G()}function ae(){e.isUseJustify=!e.isUseJustify,G()}function ee(){h.isOpenConfirmDialog=!0}const U=ref(!1);watch(C,()=>{_.value&&(U.value=!0)}),watch(_,()=>{U.value=!1});const j=ref(!1),ue=ref("");watch(j,()=>{j.value&&(ue.value="")});const re=useTemplateRef("pickColorsContainer"),J=ref("rgb"),L=ref(["rgb","hex","hsl","hsv"]);return(oe,S)=>{const I=_sfc_main$1O,Z=_sfc_main$1f,me=_sfc_main$1g,ie=_sfc_main$1j,te=_sfc_main$1e,Y=_sfc_main$1l;return openBlock(),createElementBlock(Fragment,null,[unref(_)&&unref(C)?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:S[0]||(S[0]=R=>C.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["overflow-hidden mobile-right-drawer",{"fixed top-0 right-0 w-full h-full z-55 bg-background border-l shadow-lg":unref(_),animate:unref(_)&&unref(U),"border-l-2 order-2 border-gray/20 bg-white transition-width duration-300 dark:bg-[#191919]":!unref(_),"w-100":!unref(_)&&unref(C),"w-0 border-l-0":!unref(_)&&!unref(C)}]),style:normalizeStyle({transform:unref(_)?unref(C)?"translateX(0)":"translateX(100%)":"none"})},[createBaseVNode("div",{class:normalizeClass(["space-y-4 h-full overflow-auto p-4",{"pt-0":unref(_),"transition-transform":!unref(_),"translate-x-0":!unref(_)&&unref(C),"translate-x-full":!unref(_)&&!unref(C)}])},[unref(_)?(openBlock(),createElementBlock("div",_hoisted_1$n,[S[14]||(S[14]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 样式设置 ",-1)),createVNode(I,{variant:"ghost",size:"sm",onClick:S[1]||(S[1]=R=>C.value=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$i,[S[15]||(S[15]=createBaseVNode("h2",null,"主题",-1)),createBaseVNode("div",_hoisted_3$h,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(themeOptions),({label:R,value:W})=>(openBlock(),createBlock(I,{key:W,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(o)===W}]),variant:"outline",onClick:se=>N(W)},{default:withCtx(()=>[createTextVNode(toDisplayString(R),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_4$f,[S[16]||(S[16]=createBaseVNode("h2",null,"字体",-1)),createBaseVNode("div",_hoisted_5$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fontFamilyOptions),({label:R,value:W})=>(openBlock(),createBlock(I,{key:W,variant:"outline",class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(a)===W}]),onClick:se=>T(W)},{default:withCtx(()=>[createTextVNode(toDisplayString(R),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_6$c,[S[17]||(S[17]=createBaseVNode("h2",null,"字号",-1)),createBaseVNode("div",_hoisted_7$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(fontSizeOptions),({value:R,desc:W})=>(openBlock(),createBlock(I,{key:R,variant:"outline",class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(n)===R}]),onClick:se=>M(R)},{default:withCtx(()=>[createTextVNode(toDisplayString(W),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_8$8,[S[18]||(S[18]=createBaseVNode("h2",null,"主题色",-1)),createBaseVNode("div",_hoisted_9$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(colorOptions),({label:R,value:W})=>(openBlock(),createBlock(I,{key:W,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(s)===W}]),variant:"outline",onClick:se=>E(W)},{default:withCtx(()=>[createBaseVNode("span",{class:"mr-2 inline-block h-4 w-4 rounded-full",style:normalizeStyle({background:W})},null,4),createTextVNode(" "+toDisplayString(R),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_10$2,[S[19]||(S[19]=createBaseVNode("h2",null,"自定义主题色",-1)),createBaseVNode("div",{ref_key:"pickColorsContainer",ref:re},[unref(re)?(openBlock(),createBlock(unref(Re),{key:0,value:unref(s),"onUpdate:value":S[2]||(S[2]=R=>isRef(s)?s.value=R:null),"show-alpha":"",format:unref(J),"format-options":unref(L),theme:unref(g)?"dark":"light","popup-container":unref(re),onChange:E},null,8,["value","format","format-options","theme","popup-container"])):createCommentVNode("",!0)],512)]),createBaseVNode("div",_hoisted_11$2,[S[20]||(S[20]=createBaseVNode("h2",null,"代码块主题",-1)),createBaseVNode("div",null,[createVNode(Y,{modelValue:unref(l),"onUpdate:modelValue":[S[3]||(S[3]=R=>isRef(l)?l.value=R:null),Q]},{default:withCtx(()=>[createVNode(me,null,{default:withCtx(()=>[createVNode(Z,{placeholder:"Select a code block theme"})]),_:1}),createVNode(te,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(codeBlockThemeOptions),({label:R,value:W})=>(openBlock(),createBlock(ie,{key:R,value:W},{default:withCtx(()=>[createTextVNode(toDisplayString(R),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])])]),createBaseVNode("div",_hoisted_12$2,[S[21]||(S[21]=createBaseVNode("h2",null,"图注格式",-1)),createBaseVNode("div",_hoisted_13$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(legendOptions),({label:R,value:W})=>(openBlock(),createBlock(I,{key:W,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(i)===W}]),variant:"outline",onClick:se=>K(W)},{default:withCtx(()=>[createTextVNode(toDisplayString(R),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_14$2,[S[24]||(S[24]=createBaseVNode("h2",null,"Mac 代码块",-1)),createBaseVNode("div",_hoisted_15$2,[createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(d)}]),variant:"outline",onClick:S[4]||(S[4]=R=>!unref(d)&&V())},{default:withCtx(()=>[...S[22]||(S[22]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(d)}]),variant:"outline",onClick:S[5]||(S[5]=R=>unref(d)&&V())},{default:withCtx(()=>[...S[23]||(S[23]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_16$2,[S[27]||(S[27]=createBaseVNode("h2",null,"代码块行号",-1)),createBaseVNode("div",_hoisted_17$2,[createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(f)}]),variant:"outline",onClick:S[6]||(S[6]=R=>!unref(f)&&y())},{default:withCtx(()=>[...S[25]||(S[25]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(f)}]),variant:"outline",onClick:S[7]||(S[7]=R=>unref(f)&&y())},{default:withCtx(()=>[...S[26]||(S[26]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_18$2,[S[30]||(S[30]=createBaseVNode("h2",null,"微信外链转底部引用",-1)),createBaseVNode("div",_hoisted_19$1,[createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(u)}]),variant:"outline",onClick:S[8]||(S[8]=R=>!unref(u)&&A())},{default:withCtx(()=>[...S[28]||(S[28]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(u)}]),variant:"outline",onClick:S[9]||(S[9]=R=>unref(u)&&A())},{default:withCtx(()=>[...S[29]||(S[29]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_20$1,[S[33]||(S[33]=createBaseVNode("h2",null,"段落首行缩进",-1)),createBaseVNode("div",_hoisted_21$1,[createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(p)}]),variant:"outline",onClick:S[10]||(S[10]=R=>!unref(p)&&H())},{default:withCtx(()=>[...S[31]||(S[31]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(p)}]),variant:"outline",onClick:S[11]||(S[11]=R=>unref(p)&&H())},{default:withCtx(()=>[...S[32]||(S[32]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_22$1,[S[36]||(S[36]=createBaseVNode("h2",null,"段落两端对齐",-1)),createBaseVNode("div",_hoisted_23$1,[createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(b)}]),variant:"outline",onClick:S[12]||(S[12]=R=>!unref(b)&&ae())},{default:withCtx(()=>[...S[34]||(S[34]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(I,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(b)}]),variant:"outline",onClick:S[13]||(S[13]=R=>unref(b)&&ae())},{default:withCtx(()=>[...S[35]||(S[35]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_24$1,[S[38]||(S[38]=createBaseVNode("h2",null,"样式配置",-1)),createVNode(I,{variant:"destructive",onClick:ee},{default:withCtx(()=>[...S[37]||(S[37]=[createTextVNode(" 重置 ",-1)])]),_:1})])],2)],6)],64)}}}),__unplugin_components_7=_export_sfc(_sfc_main$1a,[["__scopeId","data-v-d2b4520b"]]),_sfc_main$19=defineComponent({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Iu),mergeProps(unref(a),{class:unref(cn)("text-sm text-muted-foreground",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$m={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},_sfc_main$18=defineComponent({__name:"CssEditor",setup(t){const e=useCssEditorStore(),o=useUIStore(),a=useRenderStore(),n=useEditorStore(),s=useThemeStore(),{isMobile:l}=storeToRefs(o),{cssContentConfig:i}=storeToRefs(e),d=ref(!1);watch(()=>o.isShowCssEditor,()=>{l.value&&(d.value=!0)}),watch(()=>l.value,()=>{d.value=!1});const f=ref(!1),u=ref(""),p=ref(["",i.value.active]);function b(M){u.value=M,f.value=!0}function h(){if(!u.value.trim()){toast.error("新建失败，方案名不可为空");return}if(!e.validatorTabName(u.value)){toast.error("不能与现有方案重名");return}e.renameTab(u.value),f.value=!1,toast.success("修改成功")}const _=ref(!1),C=ref("");function g(){if(!C.value.trim()){toast.error("新建失败，方案名不可为空");return}if(!e.validatorTabName(C.value)){toast.error("不能与现有方案重名");return}e.addCssContentTab(C.value),_.value=!1,i.value.active=C.value,p.value=[p.value[1],C.value],toast.success("新建成功")}const w=ref(!1),x=ref("");function m(M){x.value=M,w.value=!0}function G(){const M=i.value.tabs;if(M.length===1){toast.warning("至少保留一个方案");return}let E=i.value.active;E===x.value&&M.forEach((Q,K)=>{if(Q.name===x.value){const V=M[K+1]||M[K-1];V&&(E=V.name)}}),e.tabChanged(E),i.value.tabs=M.filter(Q=>Q.name!==x.value),toast.success("删除成功")}function N(){C.value=`方案${i.value.tabs.length+1}`,_.value=!0}function T(M){if(M==="add"){i.value.active=p.value[1],N();return}p.value=[p.value[1],M],e.tabChanged(M)}return onMounted(()=>{const M=E=>{a.updateCss(E),s.updateCodeTheme();const Q=n.getContent();a.render(Q,{isCiteStatus:s.isCiteStatus,legend:s.legend,isUseIndent:s.isUseIndent,isUseJustify:s.isUseJustify,isCountStatus:s.isCountStatus,isMacCodeBlock:s.isMacCodeBlock,isShowLineNumber:s.isShowLineNumber})};e.setOnTabChangedCallback(M),e.initCssEditor(M)}),(M,E)=>{const Q=_sfc_main$1O,K=_sfc_main$1c,V=_sfc_main$1d,y=_sfc_main$1q,A=_sfc_main$1z,H=_sfc_main$19,ae=_sfc_main$1A,ee=_sfc_main$1B,U=_sfc_main$1x,j=_sfc_main$1H,ue=_sfc_main$1I,re=_sfc_main$1J,J=_sfc_main$1K,L=_sfc_main$1L,oe=_sfc_main$1M,S=_sfc_main$1N,I=_sfc_main$1P,Z=_sfc_main$1Q,me=_sfc_main$1R;return openBlock(),createElementBlock(Fragment,null,[unref(l)&&unref(o).isShowCssEditor?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:E[0]||(E[0]=ie=>unref(o).isShowCssEditor=!1)})):createCommentVNode("",!0),createVNode(Transition,{"enter-active-class":"bounceInRight"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:normalizeClass(["cssEditor-wrapper h-full flex flex-col mobile-css-editor overflow-y-auto",{"fixed top-0 right-0 w-full h-full z-100 bg-background border-l shadow-lg":unref(l),animate:unref(l)&&unref(d),"border-l-2 flex-1 order-2 border-gray/50":!unref(l)}]),style:normalizeStyle({transform:unref(l)?unref(o).isShowCssEditor?"translateX(0)":"translateX(100%)":"none"})},[unref(l)?(openBlock(),createElementBlock("div",_hoisted_1$m,[E[11]||(E[11]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 自定义 CSS ",-1)),createVNode(Q,{variant:"ghost",size:"sm",onClick:E[1]||(E[1]=ie=>unref(o).isShowCssEditor=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createVNode(y,{modelValue:unref(i).active,"onUpdate:modelValue":[E[2]||(E[2]=ie=>unref(i).active=ie),T]},{default:withCtx(()=>[createVNode(V,{class:"w-full overflow-x-auto"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(i).tabs,ie=>(openBlock(),createBlock(K,{key:ie.name,value:ie.name,class:"flex-1"},{default:withCtx(()=>[createTextVNode(toDisplayString(ie.title)+" ",1),withDirectives(createVNode(unref(PenLine),{class:"inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:te=>b(ie.name)},null,8,["onClick"]),[[vShow,unref(i).active===ie.name]]),withDirectives(createVNode(unref(X),{class:"inline size-4 rounded-full p-0.5 transition-color hover:bg-gray-200 dark:hover:bg-gray-600",onClick:withModifiers(te=>m(ie.name),["self"])},null,8,["onClick"]),[[vShow,unref(i).active===ie.name]])]),_:2},1032,["value"]))),128)),createVNode(K,{value:"add"},{default:withCtx(()=>[createVNode(unref(Plus),{class:"h-5 w-5"})]),_:1})]),_:1})]),_:1},8,["modelValue"]),E[24]||(E[24]=createBaseVNode("textarea",{id:"cssEditor",type:"textarea",placeholder:"Your custom css here."},null,-1)),createVNode(ue,{open:unref(_),"onUpdate:open":E[6]||(E[6]=ie=>isRef(_)?_.value=ie:null)},{default:withCtx(()=>[createVNode(j,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[createVNode(A,null,{default:withCtx(()=>[...E[12]||(E[12]=[createTextVNode("新建自定义 CSS",-1)])]),_:1}),createVNode(H,null,{default:withCtx(()=>[...E[13]||(E[13]=[createTextVNode(" 请输入方案名称 ",-1)])]),_:1})]),_:1}),createVNode(ee,{modelValue:unref(C),"onUpdate:modelValue":E[3]||(E[3]=ie=>isRef(C)?C.value=ie:null)},null,8,["modelValue"]),createVNode(U,null,{default:withCtx(()=>[createVNode(Q,{variant:"outline",onClick:E[4]||(E[4]=ie=>_.value=!1)},{default:withCtx(()=>[...E[14]||(E[14]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(Q,{onClick:E[5]||(E[5]=ie=>g())},{default:withCtx(()=>[...E[15]||(E[15]=[createTextVNode(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(ue,{open:unref(f),"onUpdate:open":E[9]||(E[9]=ie=>isRef(f)?f.value=ie:null)},{default:withCtx(()=>[createVNode(j,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[createVNode(A,null,{default:withCtx(()=>[...E[16]||(E[16]=[createTextVNode("编辑方案名称",-1)])]),_:1}),createVNode(H,null,{default:withCtx(()=>[...E[17]||(E[17]=[createTextVNode(" 请输入新的方案名称 ",-1)])]),_:1})]),_:1}),createVNode(ee,{modelValue:unref(u),"onUpdate:modelValue":E[7]||(E[7]=ie=>isRef(u)?u.value=ie:null)},null,8,["modelValue"]),createVNode(U,null,{default:withCtx(()=>[createVNode(Q,{variant:"outline",onClick:E[8]||(E[8]=ie=>f.value=!1)},{default:withCtx(()=>[...E[18]||(E[18]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(Q,{onClick:h},{default:withCtx(()=>[...E[19]||(E[19]=[createTextVNode(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(me,{open:unref(w),"onUpdate:open":E[10]||(E[10]=ie=>isRef(w)?w.value=ie:null)},{default:withCtx(()=>[createVNode(Z,null,{default:withCtx(()=>[createVNode(L,null,{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[...E[20]||(E[20]=[createTextVNode("提示",-1)])]),_:1}),createVNode(J,null,{default:withCtx(()=>[...E[21]||(E[21]=[createTextVNode(" 此操作将删除该自定义方案，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(I,null,{default:withCtx(()=>[createVNode(oe,null,{default:withCtx(()=>[...E[22]||(E[22]=[createTextVNode("取消",-1)])]),_:1}),createVNode(S,{onClick:G},{default:withCtx(()=>[...E[23]||(E[23]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],6),[[vShow,unref(o).isShowCssEditor]])]),_:1})],64)}}}),__unplugin_components_6=_export_sfc(_sfc_main$18,[["__scopeId","data-v-90336a66"]]),_hoisted_1$l=["href"],_sfc_main$17=defineComponent({__name:"FloatingToc",setup(t){const e=useRenderStore(),o=ref(!1);return(a,n)=>(openBlock(),createElementBlock("div",{class:"bg-background absolute left-0 top-0 border rounded-br-lg rounded-tr-lg rounded-bl-lg p-2 text-sm shadow-sm",onMouseenter:n[0]||(n[0]=()=>o.value=!0),onMouseleave:n[1]||(n[1]=()=>o.value=!1)},[createVNode(unref(List),{class:"size-6"}),createBaseVNode("ul",{class:normalizeClass(["overflow-auto transition-all",{"max-h-0 w-0":!unref(o),"max-h-100 w-60 mt-2":unref(o)}])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(e).titleList,(s,l)=>(openBlock(),createElementBlock("li",{key:l,class:"line-clamp-1 py-1 leading-6 hover:bg-gray-300 dark:hover:bg-gray-600",style:normalizeStyle({paddingLeft:`${s.level-.5}em`})},[createBaseVNode("a",{href:s.url},toDisplayString(s.title),9,_hoisted_1$l)],4))),128))],2)],32))}}),_sfc_main$16=defineComponent({__name:"BackTop",props:{left:{},top:{},right:{},bottom:{},visibilityHeight:{},target:{},onClick:{type:Function}},setup(t){const e=t,o=ref(e.visibilityHeight??400),a=ref(!1),n=ref(null);function s(i){n.value?.scrollTo({top:0,left:0,behavior:"smooth"}),e.onClick?.(i)}const l=throttle(i=>{i instanceof HTMLElement?a.value=i.scrollTop>o.value:a.value=window.scrollY>o.value},200,{edges:["leading","trailing"]});return onMounted(()=>{e.target?n.value=document.getElementById(e.target):n.value=window,n.value.addEventListener("scroll",()=>{l(n.value)})}),onUnmounted(()=>{n.value.removeEventListener("scroll",()=>{l(n.value)})}),(i,d)=>{const f=_sfc_main$1O;return unref(a)?(openBlock(),createBlock(f,{key:0,variant:"outline",size:"icon",class:"absolute z-50 rounded-full",style:normalizeStyle({left:`${t.left}px`,top:`${t.top}px`,right:`${t.right}px`,bottom:`${t.bottom}px`}),onClick:s},{default:withCtx(()=>[createVNode(unref(ArrowUpFromLine))]),_:1},8,["style"])):createCommentVNode("",!0)}}}),_sfc_main$15=defineComponent({__name:"ContextMenu",props:{dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(rm),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$14=defineComponent({__name:"ContextMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},sticky:{},hideWhenDetached:{type:Boolean},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(um),null,{default:withCtx(()=>[createVNode(unref(dm),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in fade-in-80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$13=defineComponent({__name:"ContextMenuShortcut",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest text-muted-foreground",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$12=defineComponent({__name:"ContextMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(vm),mergeProps(unref(o),{class:unref(cn)("-mx-1 my-1 h-px bg-border",e.class)}),null,16,["class"]))}}),_sfc_main$11=defineComponent({__name:"ContextMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(fm),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t.inset&&"pl-8",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$10=defineComponent({__name:"ContextMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const o=Ot(t);return(a,n)=>(openBlock(),createBlock(unref(im),normalizeProps(guardReactiveProps(unref(o))),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16))}}),DEFAULT_CONTENT=`# 探索 Markdown 的奇妙世界

欢迎来到 Markdown 的奇妙世界！无论你是写作爱好者、开发者、博主，还是想要简单记录点什么的人，Markdown 都能成为你新的好伙伴。它不仅让写作变得简单明了，还能轻松地将内容转化为漂亮的网页格式。今天，我们将全面探讨 Markdown 的基础和进阶语法，让你在这个过程中充分享受写作的乐趣！

Markdown 是一种轻量级标记语言，用于格式化纯文本。它以简单、直观的语法而著称，可以快速地生成 HTML。Markdown 是写作与代码的完美结合，既简单又强大。

## Markdown 基础语法

### 1. 标题：让你的内容层次分明

用 \`#\` 号来创建标题。标题从 \`#\` 开始，\`#\` 的数量表示标题的级别。

\`\`\`markdown
# 一级标题

## 二级标题

### 三级标题

#### 四级标题
\`\`\`

以上代码将渲染出一组层次分明的标题，使你的内容井井有条。

### 2. 段落与换行：自然流畅

Markdown 中的段落就是一行接一行的文本。要创建新段落，只需在两行文本之间空一行。

### 3. 字体样式：强调你的文字

- **粗体**：用两个星号或下划线包裹文字，如 \`**粗体**\` 或 \`__粗体__\`。
- _斜体_：用一个星号或下划线包裹文字，如 \`*斜体*\` 或 \`_斜体_\`。
- ~~删除线~~：用两个波浪线包裹文字，如 \`~~删除线~~\`。
- ==高亮==：用两个等号包裹文字，如 \`==高亮==\`。
- ++下划线++：用两个加号包裹文字，如 \`++下划线++\`。
- ~波浪线~：用一个波浪线包裹文字，如 \`~波浪线~\`。

这些简单的标记可以让你的内容更有层次感和重点突出。

### 4. 列表：整洁有序

- **无序列表**：用 \`-\`、\`*\` 或 \`+\` 加空格开始一行。
- **有序列表**：使用数字加点号（\`1.\`、\`2.\`）开始一行。

在列表中嵌套其他内容？只需缩进即可实现嵌套效果。

- 无序列表项 1
  1. 嵌套有序列表项 1
  2. 嵌套有序列表项 2
- 无序列表项 2

1. 有序列表项 1
2. 有序列表项 2

### 5. 链接与图片：丰富内容

- **链接**：用方括号和圆括号创建链接 \`[显示文本](链接地址)\`。
- **图片**：和链接类似，只需在前面加上 \`!\`，如 \`![描述文本](图片链接)\`。

[访问 Doocs](https://github.com/doocs)

![doocs](https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/logo-2.png)

轻松实现富媒体内容展示！

> 因微信公众号平台不支持除公众号内容以外的链接，故其他平台的链接，会呈现链接样式但无法点击跳转。

> 对于这些链接请注意明文书写，或点击左上角「格式->微信外链接转底部引用」开启引用，这样就可以在底部观察到链接指向。

另外，使用 \`<![alt](url),![alt](url)>\` 语法可以创建横屏滑动幻灯片，支持微信公众号平台。建议使用相似尺寸的图片以获得最佳显示效果。

### 6. 引用：引用名言或引人深思的句子

使用 \`>\` 来创建引用，只需在文本前面加上它。多层引用？在前一层 \`>\` 后再加一个就行。

> 这是一个引用
>
> > 这是一个嵌套引用

这让你的引用更加富有层次感。

### 7. 代码块：展示你的代码

- **行内代码**：用反引号包裹，如 \`code\`。
- **代码块**：用三个反引号包裹，并指定语言，如：

\`\`\`js
console.log(\`Hello, Doocs!\`)
\`\`\`

语法高亮让你的代码更易读。

### 8. 分割线：分割内容

用三个或更多的 \`-\`、\`*\` 或 \`_\` 来创建分割线。

---

为你的内容添加视觉分隔。

### 9. 表格：清晰展示数据

Markdown 支持简单的表格，用 \`|\` 和 \`-\` 分隔单元格和表头。

| 项目人员                                    | 邮箱                   | 微信号       |
| ------------------------------------------- | ---------------------- | ------------ |
| [yanglbme](https://github.com/yanglbme)     | contact@yanglibin.info | YLB0109      |
| [YangFong](https://github.com/YangFong)     | yangfong2022@gmail.com | yq2419731931 |
| [thinkasany](https://github.com/thinkasany) | thinkasany@gmail.com   | thinkasany   |

这样的表格让数据展示更为清爽！

> 手动编写标记太麻烦？我们提供了便捷方式。左上方点击「编辑->插入表格」，即可快速实现表格渲染。

## Markdown 进阶技巧

### 1. LaTeX 公式：完美展示数学表达式

Markdown 允许嵌入 LaTeX 语法展示数学公式：

- **行内公式**：用 \`$\` 包裹公式，如 $E = mc^2$。
- **块级公式**：用 \`$$\` 包裹公式，如：

$$
\\begin{aligned}
d_{i, j} &\\leftarrow d_{i, j} + 1 \\\\
d_{i, y + 1} &\\leftarrow d_{i, y + 1} - 1 \\\\
d_{x + 1, j} &\\leftarrow d_{x + 1, j} - 1 \\\\
d_{x + 1, y + 1} &\\leftarrow d_{x + 1, y + 1} + 1
\\end{aligned}
$$

现在还支持 **LaTeX 标准格式**：

- **行内公式**：用 \`\\(...\\)\` 包裹公式，如 \\(x^2 + y^2 = z^2\\)。
- **块级公式**：用 \`\\[...\\]\` 包裹公式，如：

\\[
\\int\\_{-\\infty}^{\\infty} e^{-x^2} dx = \\sqrt{\\pi}
\\]

混合使用示例：传统格式 $a + b = c$ 和 LaTeX 格式 \\(d + e = f\\) 可以在同一段落中共存。

1. 列表内块公式 1

$$
\\chi^2 = \\sum \\frac{(O - E)^2}{E}
$$

2. 列表内块公式 2

$$
\\chi^2 = \\sum \\frac{(|O - E| - 0.5)^2}{E}
$$

这是展示复杂数学表达的利器！

### 2. Mermaid 流程图：可视化流程

Mermaid 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。

\`\`\`mermaid
graph LR
  A[GraphCommand] --> B[update]
  A --> C[goto]
  A --> D[send]

  B --> B1[更新状态]
  C --> C1[流程控制]
  D --> D1[消息传递]
\`\`\`

\`\`\`mermaid
graph TD;
  A-->B;
  A-->C;
  B-->D;
  C-->D;
\`\`\`

\`\`\`mermaid
pie
  title Key elements in Product X
  "Calcium" : 42.96
  "Potassium" : 50.05
  "Magnesium" : 10.01
  "Iron" : 5
\`\`\`

\`\`\`mermaid
pie
  title 为什么总是宅在家里？
  "喜欢宅" : 45
  "天气太热" : 70
  "穷" : 500
  "没人约" : 95
\`\`\`

这种方式不仅能直观展示流程，还能提升文档的专业性。

> 更多用法，参见：[Mermaid User Guide](https://mermaid.js.org/intro/getting-started.html)。

### 3. PlantUML 流程图：可视化流程

PlantUML 是强大的可视化工具，可以在 Markdown 中创建流程图、时序图等。

\`\`\`plantuml
@startuml
participant Participant as Foo
actor       Actor       as Foo1
boundary    Boundary    as Foo2
control     Control     as Foo3
entity      Entity      as Foo4
database    Database    as Foo5
collections Collections as Foo6
queue       Queue       as Foo7
Foo -> Foo1 : To actor
Foo -> Foo2 : To boundary
Foo -> Foo3 : To control
Foo -> Foo4 : To entity
Foo -> Foo5 : To database
Foo -> Foo6 : To collections
Foo -> Foo7: To queue
@enduml
\`\`\`

> 更多用法，参见：[PlantUML 主页](https://plantuml.com/zh/)。

### 4. Ruby 注音：注音标注

支持两种格式：

\`\`\`md
1. [文字]{注音}
2. [文字]^(注音)
\`\`\`

渲染效果如下：

[你好]{nǐ hǎo} [世界]{shì jiè}

支持四种分隔符： \`・\`（中点）、\`．\` (全角句点)、\`。\` (中文句号)、\`-\` (英文减号)

示例：

\`\`\`md
[你好世界]{nǐ・hǎo・shì・jiè}
[小夜時雨]^(さ・よ・しぐれ)
\`\`\`

[你好世界]{nǐ・hǎo・shì・jiè}
[小夜時雨]^(さ・よ・しぐれ)

当字符串数量与分隔符数量不匹配时，会自动匹配到最合适的分隔符。

\`\`\`md
[小夜時雨]{さ・よ・しぐれ}
[小夜時雨]{さ・よ}
[小夜]{さ・よ・しぐれ}
[小夜時雨]{さ・よ・しぐれ・extra}
\`\`\`

[小夜時雨]{さ・よ・しぐれ}
[小夜時雨]{さ・よ}
[小夜]{さ・よ・しぐれ}
[小夜時雨]{さ・よ・しぐれ・extra}

## 结语

Markdown 是一种简单、强大且易于掌握的标记语言，通过学习基础和进阶语法，你可以快速创作内容并有效传达信息。无论是技术文档、个人博客还是项目说明，Markdown 都是你的得力助手。希望这篇内容能够带你全面了解 Markdown 的潜力，让你的写作更加丰富多彩！

现在，拿起 Markdown 编辑器，开始创作吧！探索 Markdown 的世界，你会发现它远比想象中更精彩！

#### 推荐阅读

- [阿里又一个 20k+ stars 开源项目诞生，恭喜 fastjson！](https://mp.weixin.qq.com/s/RNKDCK2KoyeuMeEs6GUrow)
- [刷掉 90% 候选人的互联网大厂海量数据面试题（附题解 + 方法总结）](https://mp.weixin.qq.com/s/rjGqxUvrEqJNlo09GrT1Dw)
- [好用！期待已久的文本块功能究竟如何在 Java 13 中发挥作用？](https://mp.weixin.qq.com/s/kalGv5T8AZGxTnLHr2wDsA)
- [2019 GitHub 开源贡献排行榜新鲜出炉！微软谷歌领头，阿里跻身前 12！](https://mp.weixin.qq.com/s/_q812aGD1b9QvZ2WFI0Qgw)

---

<center>
    <img src="https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png" style="width: 100px;">
</center>
`,usePostStore=defineStore("post",()=>{const t=store.reactive(addPrefix("posts"),[{id:v4(),title:"内容1",content:DEFAULT_CONTENT,history:[{datetime:new Date().toLocaleString("zh-cn"),content:DEFAULT_CONTENT}],createDatetime:new Date,updateDatetime:new Date}]),e=store.reactive(addPrefix("current_post_id"),""),o=store.reactive("__editor_content",DEFAULT_CONTENT);onBeforeMount(()=>{t.value=t.value.map((_,C)=>{const g=Date.now();return{..._,id:_.id??v4(),createDatetime:_.createDatetime??new Date(g+C),updateDatetime:_.updateDatetime??new Date(g+C)}}),(!e.value||!t.value.some(_=>_.id===e.value))&&(e.value=t.value[0]?.id??"")});const a=_=>t.value.findIndex(C=>C.id===_),n=computed({get:()=>a(e.value),set:_=>{_>=0&&_<t.value.length&&(e.value=t.value[_].id)}}),s=_=>t.value.find(C=>C.id===_),l=computed(()=>s(e.value)),i=(_,C=null)=>{const g={id:v4(),title:_,content:`# ${_}`,history:[{datetime:new Date().toLocaleString("zh-cn"),content:`# ${_}`}],createDatetime:new Date,updateDatetime:new Date,parentId:C};t.value.push(g),e.value=g.id},d=(_,C)=>{const g=s(_);g&&(g.title=C,g.updateDatetime=new Date)},f=_=>{const C=a(_);C!==-1&&(t.value.splice(C,1),e.value=t.value[Math.min(C,t.value.length-1)]?.id??"")},u=(_,C)=>{const g=s(_);g&&(g.parentId=C,g.updateDatetime=new Date)},p=(_,C)=>{const g=s(_);g&&(g.content=C,g.updateDatetime=new Date)},b=()=>{t.value.forEach(_=>{_.collapsed=!0})},h=()=>{t.value.forEach(_=>{_.collapsed=!1})};return onMounted(()=>{if(o.value!==DEFAULT_CONTENT){const _=s(e.value);_&&(_.content=o.value),o.value=DEFAULT_CONTENT}}),{posts:t,currentPostId:e,currentPostIndex:n,currentPost:l,getPostById:s,findIndexById:a,addPost:i,renamePost:d,delPost:f,updatePostParentId:u,updatePostContent:p,collapseAllPosts:b,expandAllPosts:h}}),useExportStore=defineStore("export",()=>{const t=usePostStore(),e=useRenderStore(),o=useThemeStore(),a=useUIStore();return{editorContent2HTML:()=>{const u=processHtmlContent(o.primaryColor);return document.querySelector("#output").innerHTML=e.output,u},exportEditorContent2HTML:()=>{const u=t.currentPost;u&&(exportHTML(o.primaryColor,u.title),document.querySelector("#output").innerHTML=e.output)},exportEditorContent2PureHTML:u=>{const p=t.currentPost;p&&exportPureHTML(u,p.title)},downloadAsCardImage:async()=>{const u=t.currentPost;if(!u)return;const p=document.querySelector("#output-wrapper>.preview");if(!p)return;const b=await toPng(p,{backgroundColor:a.isDark?"":"#fff",skipFonts:!0,pixelRatio:Math.max(window.devicePixelRatio||1,2),style:{margin:"0"}});downloadFile(b,`${sanitizeTitle(u.title)}.png`,"image/png")},exportEditorContent2PDF:()=>{const u=t.currentPost;u&&(exportPDF(o.primaryColor,u.title),document.querySelector("#output").innerHTML=e.output)},exportEditorContent2MD:u=>{const p=t.currentPost;p&&downloadMD(u,p.title)}}});function legacyCopy(t){return new Promise((e,o)=>{try{const a=document.createElement("textarea");a.value=t,a.setAttribute("readonly","true"),a.style.position="fixed",a.style.opacity="0",document.body.appendChild(a),a.select();const n=document.execCommand("copy");document.body.removeChild(a),n?e():o(new Error("execCommand failed"))}catch(a){o(a)}})}async function copyPlain(t){if(window.isSecureContext&&navigator.clipboard?.writeText)try{await navigator.clipboard.writeText(t);return}catch{}await legacyCopy(t)}function useImportMarkdownContent(){const t=useEditorStore(),{open:e,reset:o,onChange:a}=useFileDialog({accept:".md"});return a(n=>{if(n==null||n.length===0)return;const s=n[0],l=new FileReader;l.readAsText(s),l.onload=i=>{t.editor.dispatch({changes:{from:0,to:t.editor.state.doc.length,insert:""}}),requestAnimationFrame(()=>{t.editor.dispatch({changes:{from:0,to:t.editor.state.doc.length,insert:i.target.result}})}),toast.success("文档导入成功")}}),()=>{o(),e()}}const _sfc_main$$=defineComponent({__name:"EditorContextMenu",setup(t){const e=useEditorStore(),o=usePostStore(),a=useExportStore(),n=useUIStore(),{toggleShowInsertFormDialog:s,toggleShowInsertMpCardDialog:l,toggleShowUploadImgDialog:i}=n,d=useImportMarkdownContent();async function f(){const x=await e.formatContent();x&&o.currentPost&&o.updatePostContent(o.currentPostId,x)}function u(){e.importContent(DEFAULT_CONTENT),toast.success("文档已重置")}function p(){e.clearContent()}async function b(){const x=e.getSelection();copyPlain(x)}async function h(){try{const x=await navigator.clipboard.readText();e.replaceSelection(x)}catch(x){console.log("粘贴失败",x)}}function _(){n.isOpenConfirmDialog=!0}function C(){a.exportEditorContent2HTML()}function g(){a.exportEditorContent2MD(e.getContent())}function w(){a.downloadAsCardImage()}return(x,m)=>{const G=_sfc_main$10,N=_sfc_main$11,T=_sfc_main$12,M=_sfc_main$13,E=_sfc_main$14,Q=_sfc_main$15;return openBlock(),createBlock(Q,null,{default:withCtx(()=>[createVNode(G,null,{default:withCtx(()=>[renderSlot(x.$slots,"default")]),_:3}),createVNode(E,{class:"w-64"},{default:withCtx(()=>[createVNode(N,{inset:"",onClick:m[0]||(m[0]=K=>unref(i)())},{default:withCtx(()=>[...m[12]||(m[12]=[createTextVNode(" 上传图片 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[1]||(m[1]=K=>unref(s)())},{default:withCtx(()=>[...m[13]||(m[13]=[createTextVNode(" 插入表格 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[2]||(m[2]=K=>unref(l)())},{default:withCtx(()=>[...m[14]||(m[14]=[createTextVNode(" 插入公众号名片 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[3]||(m[3]=K=>_())},{default:withCtx(()=>[...m[15]||(m[15]=[createTextVNode(" 重置样式 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[4]||(m[4]=K=>u())},{default:withCtx(()=>[...m[16]||(m[16]=[createTextVNode(" 重置文档 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[5]||(m[5]=K=>p())},{default:withCtx(()=>[...m[17]||(m[17]=[createTextVNode(" 清空内容 ",-1)])]),_:1}),createVNode(T),createVNode(N,{inset:"",onClick:m[6]||(m[6]=K=>unref(d)())},{default:withCtx(()=>[...m[18]||(m[18]=[createTextVNode(" 导入 .md 文档 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[7]||(m[7]=K=>g())},{default:withCtx(()=>[...m[19]||(m[19]=[createTextVNode(" 导出 .md 文档 ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[8]||(m[8]=K=>C())},{default:withCtx(()=>[...m[20]||(m[20]=[createTextVNode(" 导出 .html ",-1)])]),_:1}),createVNode(N,{inset:"",onClick:m[9]||(m[9]=K=>w())},{default:withCtx(()=>[...m[21]||(m[21]=[createTextVNode(" 导出 .png ",-1)])]),_:1}),createVNode(T),createVNode(N,{inset:"",onClick:m[10]||(m[10]=K=>b())},{default:withCtx(()=>[m[22]||(m[22]=createTextVNode(" 复制 ",-1)),createVNode(M,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ctrlSign))+" + C ",1)]),_:1})]),_:1}),createVNode(N,{inset:"",onClick:h},{default:withCtx(()=>[m[23]||(m[23]=createTextVNode(" 粘贴 ",-1)),createVNode(M,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(ctrlSign))+" + V ",1)]),_:1})]),_:1}),createVNode(N,{inset:"",onClick:m[11]||(m[11]=K=>f())},{default:withCtx(()=>[m[24]||(m[24]=createTextVNode(" 格式化 ",-1)),createVNode(M,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(altSign))+" + "+toDisplayString(unref(shiftSign))+" + F ",1)]),_:1})]),_:1})]),_:1})]),_:3})}}}),_sfc_main$_=defineComponent({__name:"AlertDialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(Rv),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$Z=defineComponent({__name:"Separator",props:{orientation:{},decorative:{type:Boolean},asChild:{type:Boolean},as:{},class:{},label:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(ap),mergeProps(unref(o),{class:unref(cn)("shrink-0 bg-border relative",e.orientation==="vertical"?"w-px h-full":"h-px w-full",e.class)}),{default:withCtx(()=>[e.label?(openBlock(),createElementBlock("span",{key:0,class:normalizeClass(unref(cn)("text-xs text-muted-foreground bg-background absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 flex justify-center items-center",e.orientation==="vertical"?"w-px px-1 py-2":"h-px py-1 px-2"))},toDisplayString(e.label),3)):createCommentVNode("",!0)]),_:1},16,["class"]))}}),_sfc_main$Y=defineComponent({__name:"DropdownMenu",props:{defaultOpen:{type:Boolean},open:{type:Boolean},dir:{},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(uh),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$X=defineComponent({__name:"DropdownMenuContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(ch),null,{default:withCtx(()=>[createVNode(unref(fh),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$W=defineComponent({__name:"DropdownMenuItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(vh),mergeProps(unref(a),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t.inset&&"pl-8",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$V=defineComponent({__name:"DropdownMenuTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{}},setup(t){const o=Ot(t);return(a,n)=>(openBlock(),createBlock(unref(dh),mergeProps({class:"outline-hidden"},unref(o)),{default:withCtx(()=>[renderSlot(a.$slots,"default")]),_:3},16))}}),_hoisted_1$k=["onDragstart","onDrop","onDragover","onClick"],_hoisted_2$h={class:"line-clamp-1"},_hoisted_3$g={key:0,class:"space-y-1 ml-4 mt-1 border-l-2 border-gray-300 pl-1 dark:border-gray-700"},_sfc_main$U=defineComponent({__name:"PostItem",props:{parentId:{},sortedPosts:{},startRenamePost:{type:Function},openHistoryDialog:{type:Function},startDelPost:{type:Function},dropTargetId:{},setDropTargetId:{type:Function},dragSourceId:{},setDragSourceId:{type:Function},handleDrop:{type:Function},handleDragEnd:{type:Function},openAddPostDialog:{type:Function}},setup(t){const e=t,o=usePostStore(),{posts:a,currentPostId:n}=storeToRefs(o),s=ref(!1),l=ref("");watch(s,u=>{u&&(l.value="")});function i(u,p){e.setDragSourceId(u),p.dataTransfer?.setData("text/plain",u),p.dataTransfer.effectAllowed="move"}function d(u){const p=a.value.find(b=>b.id===u);p&&(p.collapsed=!p.collapsed)}function f(u){return e.sortedPosts.some(p=>p.parentId===u)}return(u,p)=>{const b=_sfc_main$1O,h=_sfc_main$V,_=_sfc_main$W,C=_sfc_main$X,g=_sfc_main$Y,w=resolveComponent("PostItem",!0);return openBlock(!0),createElementBlock(Fragment,null,renderList(e.sortedPosts.filter(x=>e.parentId==null&&x.parentId==null||x.parentId===e.parentId),x=>(openBlock(),createElementBlock("div",{key:x.id},[createBaseVNode("a",{class:normalizeClass(["w-full inline-flex cursor-pointer items-center gap-1 rounded p-2 text-sm transition-colors",["hover:text-primary-foreground hover:bg-primary",{"bg-primary text-primary-foreground shadow-sm":unref(n)===x.id,"opacity-50":e.dragSourceId===x.id,"outline-2 outline-dashed outline-primary  border-gray-200 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":e.dropTargetId===x.id}]]),draggable:"true",onDragstart:m=>i(x.id,m),onDragend:p[0]||(p[0]=(...m)=>e.handleDragEnd&&e.handleDragEnd(...m)),onDrop:withModifiers(m=>e.handleDrop(x.id),["prevent"]),onDragover:withModifiers(m=>e.setDropTargetId(x.id),["stop","prevent"]),onDragleave:p[1]||(p[1]=withModifiers(m=>e.setDropTargetId(null),["prevent"])),onClick:m=>n.value=x.id},[createVNode(b,{size:"xs",variant:"ghost",class:normalizeClass(["h-max p-0.5",f(x.id)?"opacity-100":"opacity-0"]),onClick:withModifiers(m=>f(x.id)&&d(x.id),["stop"])},{default:withCtx(()=>[createVNode(unref(ChevronRight),{class:normalizeClass(["size-4 transition-transform",{"rotate-90":!x.collapsed}])},null,8,["class"])]),_:2},1032,["class","onClick"]),createBaseVNode("span",_hoisted_2$h,toDisplayString(x.title),1),createVNode(g,null,{default:withCtx(()=>[createVNode(h,{"as-child":""},{default:withCtx(()=>[createVNode(b,{size:"xs",variant:"ghost",class:"ml-auto h-max p-0.5"},{default:withCtx(()=>[createVNode(unref(Ellipsis),{class:"size-4"})]),_:1})]),_:1}),createVNode(C,null,{default:withCtx(()=>[createVNode(_,{onClick:withModifiers(m=>e.openAddPostDialog(x.id),["stop"])},{default:withCtx(()=>[createVNode(unref(SquarePlus),{class:"mr-2 size-4"}),p[2]||(p[2]=createTextVNode(" 新增内容 ",-1))]),_:1},8,["onClick"]),createVNode(_,{onClick:withModifiers(m=>e.startRenamePost(x.id),["stop"])},{default:withCtx(()=>[createVNode(unref(PenLine),{class:"mr-2 size-4"}),p[3]||(p[3]=createTextVNode(" 重命名 ",-1))]),_:1},8,["onClick"]),createVNode(_,{onClick:withModifiers(m=>e.openHistoryDialog(x.id),["stop"])},{default:withCtx(()=>[createVNode(unref(History),{class:"mr-2 size-4"}),p[4]||(p[4]=createTextVNode(" 历史记录 ",-1))]),_:1},8,["onClick"]),unref(a).length>1?(openBlock(),createBlock(_,{key:0,onClick:withModifiers(m=>e.startDelPost(x.id),["stop"])},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"mr-2 size-4"}),p[5]||(p[5]=createTextVNode(" 删除 ",-1))]),_:1},8,["onClick"])):createCommentVNode("",!0)]),_:2},1024)]),_:2},1024)],42,_hoisted_1$k),f(x.id)&&!x.collapsed?(openBlock(),createElementBlock("div",_hoisted_3$g,[createVNode(w,{"parent-id":x.id,"sorted-posts":e.sortedPosts,"start-rename-post":e.startRenamePost,"open-history-dialog":e.openHistoryDialog,"start-del-post":e.startDelPost,"drag-source-id":e.dragSourceId,"set-drag-source-id":e.setDragSourceId,"drop-target-id":e.dropTargetId,"set-drop-target-id":e.setDropTargetId,"handle-drag-end":e.handleDragEnd,"handle-drop":e.handleDrop,"open-add-post-dialog":e.openAddPostDialog},null,8,["parent-id","sorted-posts","start-rename-post","open-history-dialog","start-del-post","drag-source-id","set-drag-source-id","drop-target-id","set-drop-target-id","handle-drag-end","handle-drop","open-add-post-dialog"])])):createCommentVNode("",!0)]))),128)}}}),_sfc_main$T=defineComponent({__name:"DropdownMenuRadioGroup",props:{modelValue:{},asChild:{type:Boolean},as:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Ch),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$S=defineComponent({__name:"DropdownMenuSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:a,...n}=e;return n});return(a,n)=>(openBlock(),createBlock(unref(hh),mergeProps(unref(o),{class:unref(cn)("-mx-1 my-1 h-px bg-muted",e.class)}),null,16,["class"]))}}),_hoisted_1$j={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$R=defineComponent({__name:"DropdownMenuRadioItem",props:{value:{},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(wh),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden transition-colors focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",o.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$j,[createVNode(unref(gh),null,{default:withCtx(()=>[createVNode(unref(Circle),{class:"h-2 w-2 fill-current"})]),_:1})]),renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$Q=defineComponent({__name:"DialogTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(ou),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$P=defineComponent({__name:"TooltipProvider",props:{delayDuration:{},skipDelayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(Hg),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$O=defineComponent({__name:"Tooltip",props:{defaultOpen:{type:Boolean},open:{type:Boolean},delayDuration:{},disableHoverableContent:{type:Boolean},disableClosingTrigger:{type:Boolean},disabled:{type:Boolean},ignoreNonKeyboardFocus:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Wg),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$N=defineComponent({inheritAttrs:!1,__name:"TooltipContent",props:{forceMount:{type:Boolean},ariaLabel:{},asChild:{type:Boolean},as:{},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(qg),null,{default:withCtx(()=>[createVNode(unref(Ug),mergeProps({...unref(s),...l.$attrs},{class:unref(cn)("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$M=defineComponent({__name:"TooltipTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(jg),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_hoisted_1$i={key:0,class:"sticky top-0 z-10 flex items-center justify-between px-4 py-3 border-b mb-2 bg-background"},_hoisted_2$g={class:"space-x-4 mb-2 flex justify-center shrink-0 py-2"},_hoisted_3$f={class:"flex-1 overflow-y-auto space-y-1 px-1"},_hoisted_4$e={class:"h-[50vh] flex"},_hoisted_5$d={class:"space-y-2 w-[150px]"},_hoisted_6$b=["onClick"],_hoisted_7$8={class:"space-y-2 max-h-full flex-1 overflow-y-auto"},_hoisted_8$7={class:"whitespace-pre-wrap p-2",style:{"word-wrap":"break-word","overflow-wrap":"break-word","word-break":"break-all",hyphens:"auto"}},_sfc_main$L=defineComponent({__name:"index",setup(t){const e=useUIStore(),{isMobile:o,isOpenPostSlider:a}=storeToRefs(e),n=usePostStore(),{posts:s}=storeToRefs(n),l=useEditorStore(),{editor:i}=storeToRefs(l),d=ref(!1);watch(a,()=>{o.value&&(d.value=!0)}),watch(o,()=>{d.value=!1});const f=ref(null),u=ref(!1),p=ref("");watch(u,J=>{J&&(p.value="",f.value=null)});function b(J){u.value=!0,nextTick(()=>{f.value=J})}function h(){if(!p.value.trim())return toast.error("内容标题不可为空");if(s.value.some(J=>J.title===p.value.trim()))return toast.error("内容标题已存在");n.addPost(p.value.trim(),f.value),u.value=!1,toast.success("内容新增成功")}const _=ref(null),C=ref(!1),g=ref("");function w(J){_.value=J,g.value=n.getPostById(J).title,C.value=!0}function x(){if(!g.value.trim())return toast.error("内容标题不可为空");if(s.value.some(J=>J.title===g.value.trim()&&J.id!==_.value))return toast.error("内容标题已存在");if(g.value===n.getPostById(_.value)?.title){C.value=!1;return}n.renamePost(_.value,g.value.trim()),toast.success("内容重命名成功"),C.value=!1}const m=ref(null),G=ref(!1),N=computed(()=>{const J=n.getPostById(m.value||"")?.title??"";return`此操作将删除「${J.length>20?`${J.slice(0,20)}…`:J}」，是否继续？`});function T(J){m.value=J,G.value=!0}function M(){n.delPost(m.value),G.value=!1,toast.success("内容删除成功")}const E=ref(!1),Q=ref(null),K=ref(0);function V(J){Q.value=J,K.value=0,E.value=!0}function y(){const J=n.getPostById(Q.value);if(!J){E.value=!1;return}const L=J.history[K.value].content;J.content=L;const oe=toRaw(i.value);oe.dispatch({changes:{from:0,to:oe.state.doc.length,insert:L}}),toast.success("记录恢复成功"),E.value=!1}const A=store.reactive(addPrefix("sort_mode"),"create-old-new"),H=computed(()=>[...s.value].sort((J,L)=>{switch(A.value){case"A-Z":return J.title.localeCompare(L.title);case"Z-A":return L.title.localeCompare(J.title);case"update-new-old":return+new Date(L.updateDatetime)-+new Date(J.updateDatetime);case"update-old-new":return+new Date(J.updateDatetime)-+new Date(L.updateDatetime);case"create-new-old":return+new Date(L.createDatetime)-+new Date(J.createDatetime);default:return+new Date(J.createDatetime)-+new Date(L.createDatetime)}})),ae=ref(!1),ee=ref(null),U=ref(null);function j(J){const L=ee.value;if(!L)return;const oe=S=>{if(!S)return!1;const I=n.getPostById(S);return I?I.parentId===L?!0:oe(I.parentId):!1};oe(J)?toast.error("不能将内容拖拽到其子内容下面"):L!==J&&n.updatePostParentId(L,J||null),ee.value=null}function ue(J){J.preventDefault()}function re(){ee.value=null,U.value=null,ae.value=!1}return(J,L)=>{const oe=_sfc_main$1O,S=_sfc_main$M,I=_sfc_main$N,Z=_sfc_main$O,me=_sfc_main$P,ie=_sfc_main$Q,te=_sfc_main$1z,Y=_sfc_main$19,R=_sfc_main$1A,W=_sfc_main$1B,se=_sfc_main$1x,fe=_sfc_main$1H,ne=_sfc_main$1I,P=_sfc_main$V,D=_sfc_main$R,$=_sfc_main$S,le=_sfc_main$T,pe=_sfc_main$X,ce=_sfc_main$Y,he=_sfc_main$U,_e=_sfc_main$1J,we=_sfc_main$1K,ve=_sfc_main$1L,xe=_sfc_main$1M,Ce=_sfc_main$1N,ye=_sfc_main$1P,Ne=_sfc_main$1Q,ke=_sfc_main$1R,be=_sfc_main$Z,de=_sfc_main$_;return openBlock(),createElementBlock(Fragment,null,[unref(o)&&unref(a)?(openBlock(),createElementBlock("div",{key:0,class:"fixed inset-0 bg-black/50 z-40",onClick:L[0]||(L[0]=F=>a.value=!1)})):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["h-full w-full overflow-hidden mobile-drawer",{"fixed top-0 left-0 z-55 bg-background border-r shadow-lg":unref(o),animate:unref(o)&&unref(d),"border-2 border-[#0000] border-dashed bg-gray/20 transition-colors":!unref(o),"border-gray-700 bg-gray-400/50 dark:border-gray-200 dark:bg-gray-500/50":!unref(o)&&unref(ae)}]),style:normalizeStyle({transform:unref(o)&&unref(a)?"translateX(0)":unref(o)&&!unref(a)?"translateX(-100%)":void 0}),onDragover:L[6]||(L[6]=withModifiers(F=>ae.value=!0,["prevent"])),onDragleave:L[7]||(L[7]=withModifiers(F=>ae.value=!1,["prevent"])),onDragend:re},[createBaseVNode("nav",{class:normalizeClass(["h-full flex flex-col transition-transform overflow-hidden",{"p-2":unref(o)}]),onDragover:ue,onDrop:L[5]||(L[5]=withModifiers(F=>j(null),["prevent"]))},[unref(o)?(openBlock(),createElementBlock("div",_hoisted_1$i,[L[13]||(L[13]=createBaseVNode("h2",{class:"text-lg font-semibold"}," 内容管理 ",-1)),createVNode(oe,{variant:"ghost",size:"sm",onClick:L[1]||(L[1]=F=>a.value=!1)},{default:withCtx(()=>[createVNode(unref(X),{class:"h-4 w-4"})]),_:1})])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_2$g,[createVNode(ne,{open:unref(u),"onUpdate:open":L[3]||(L[3]=F=>isRef(u)?u.value=F:null)},{default:withCtx(()=>[createVNode(ie,null,{default:withCtx(()=>[createVNode(me,{"delay-duration":200},{default:withCtx(()=>[createVNode(Z,null,{default:withCtx(()=>[createVNode(S,{"as-child":""},{default:withCtx(()=>[createVNode(oe,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:withCtx(()=>[createVNode(unref(SquarePlus),{class:"size-5"})]),_:1})]),_:1}),createVNode(I,{side:"bottom"},{default:withCtx(()=>[...L[14]||(L[14]=[createTextVNode(" 新增内容 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(fe,null,{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[createVNode(te,null,{default:withCtx(()=>[...L[15]||(L[15]=[createTextVNode("新增内容",-1)])]),_:1}),createVNode(Y,null,{default:withCtx(()=>[...L[16]||(L[16]=[createTextVNode("请输入内容名称",-1)])]),_:1})]),_:1}),createVNode(W,{modelValue:unref(p),"onUpdate:modelValue":L[2]||(L[2]=F=>isRef(p)?p.value=F:null),onKeyup:withKeys(h,["enter"])},null,8,["modelValue"]),createVNode(se,null,{default:withCtx(()=>[createVNode(oe,{onClick:h},{default:withCtx(()=>[...L[17]||(L[17]=[createTextVNode(" 确 定 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(ce,null,{default:withCtx(()=>[createVNode(P,null,{default:withCtx(()=>[createVNode(me,{"delay-duration":200},{default:withCtx(()=>[createVNode(Z,null,{default:withCtx(()=>[createVNode(S,{"as-child":""},{default:withCtx(()=>[createVNode(oe,{variant:"ghost",size:"xs",class:"h-max p-1"},{default:withCtx(()=>[createVNode(unref(ArrowUpNarrowWide),{class:"size-5"})]),_:1})]),_:1}),createVNode(I,{side:"bottom"},{default:withCtx(()=>[...L[18]||(L[18]=[createTextVNode(" 排序模式 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(pe,null,{default:withCtx(()=>[createVNode(le,{modelValue:unref(A),"onUpdate:modelValue":L[4]||(L[4]=F=>isRef(A)?A.value=F:null)},{default:withCtx(()=>[createVNode(D,{value:"A-Z"},{default:withCtx(()=>[...L[19]||(L[19]=[createTextVNode(" 文件名（A-Z） ",-1)])]),_:1}),createVNode(D,{value:"Z-A"},{default:withCtx(()=>[...L[20]||(L[20]=[createTextVNode(" 文件名（Z-A） ",-1)])]),_:1}),createVNode($),createVNode(D,{value:"update-new-old"},{default:withCtx(()=>[...L[21]||(L[21]=[createTextVNode(" 编辑时间（新→旧） ",-1)])]),_:1}),createVNode(D,{value:"update-old-new"},{default:withCtx(()=>[...L[22]||(L[22]=[createTextVNode(" 编辑时间（旧→新） ",-1)])]),_:1}),createVNode($),createVNode(D,{value:"create-new-old"},{default:withCtx(()=>[...L[23]||(L[23]=[createTextVNode(" 创建时间（新→旧） ",-1)])]),_:1}),createVNode(D,{value:"create-old-new"},{default:withCtx(()=>[...L[24]||(L[24]=[createTextVNode(" 创建时间（旧→新） ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),createVNode(me,{"delay-duration":200},{default:withCtx(()=>[createVNode(Z,null,{default:withCtx(()=>[createVNode(S,{"as-child":""},{default:withCtx(()=>[createVNode(oe,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:unref(n).collapseAllPosts},{default:withCtx(()=>[createVNode(unref(ChevronsDownUp),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),createVNode(I,{side:"bottom"},{default:withCtx(()=>[...L[25]||(L[25]=[createTextVNode(" 全部收起 ",-1)])]),_:1})]),_:1})]),_:1}),createVNode(me,{"delay-duration":200},{default:withCtx(()=>[createVNode(Z,null,{default:withCtx(()=>[createVNode(S,{"as-child":""},{default:withCtx(()=>[createVNode(oe,{variant:"ghost",size:"xs",class:"h-max p-1",onClick:unref(n).expandAllPosts},{default:withCtx(()=>[createVNode(unref(ChevronsUpDown),{class:"size-5"})]),_:1},8,["onClick"])]),_:1}),createVNode(I,{side:"bottom"},{default:withCtx(()=>[...L[26]||(L[26]=[createTextVNode(" 全部展开 ",-1)])]),_:1})]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_3$f,[createVNode(he,{"parent-id":null,"sorted-posts":unref(H),"start-rename-post":w,"open-history-dialog":V,"start-del-post":T,"drop-target-id":unref(U),"set-drop-target-id":F=>U.value=F,"drag-source-id":unref(ee),"set-drag-source-id":F=>ee.value=F,"handle-drop":j,"handle-drag-end":re,"open-add-post-dialog":b},null,8,["sorted-posts","drop-target-id","set-drop-target-id","drag-source-id","set-drag-source-id"])])],34)],38),createVNode(ne,{open:unref(C),"onUpdate:open":L[10]||(L[10]=F=>isRef(C)?C.value=F:null)},{default:withCtx(()=>[createVNode(fe,{class:"sm:max-w-[425px]"},{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[createVNode(te,null,{default:withCtx(()=>[...L[27]||(L[27]=[createTextVNode("编辑内容名称",-1)])]),_:1}),createVNode(Y,null,{default:withCtx(()=>[...L[28]||(L[28]=[createTextVNode("请输入新的内容名称",-1)])]),_:1})]),_:1}),createVNode(W,{modelValue:unref(g),"onUpdate:modelValue":L[8]||(L[8]=F=>isRef(g)?g.value=F:null),onKeyup:withKeys(x,["enter"])},null,8,["modelValue"]),createVNode(se,null,{default:withCtx(()=>[createVNode(oe,{variant:"outline",onClick:L[9]||(L[9]=F=>C.value=!1)},{default:withCtx(()=>[...L[29]||(L[29]=[createTextVNode(" 取消 ",-1)])]),_:1}),createVNode(oe,{onClick:x},{default:withCtx(()=>[...L[30]||(L[30]=[createTextVNode(" 保存 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(ke,{open:unref(G),"onUpdate:open":L[11]||(L[11]=F=>isRef(G)?G.value=F:null)},{default:withCtx(()=>[createVNode(Ne,null,{default:withCtx(()=>[createVNode(ve,null,{default:withCtx(()=>[createVNode(_e,null,{default:withCtx(()=>[...L[31]||(L[31]=[createTextVNode("提示",-1)])]),_:1}),createVNode(we,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(N)),1)]),_:1})]),_:1}),createVNode(ye,null,{default:withCtx(()=>[createVNode(xe,null,{default:withCtx(()=>[...L[32]||(L[32]=[createTextVNode("取消",-1)])]),_:1}),createVNode(Ce,{onClick:M},{default:withCtx(()=>[...L[33]||(L[33]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(ne,{open:unref(E),"onUpdate:open":L[12]||(L[12]=F=>isRef(E)?E.value=F:null)},{default:withCtx(()=>[createVNode(fe,{class:"sm:max-w-4xl"},{default:withCtx(()=>[createVNode(R,null,{default:withCtx(()=>[createVNode(te,null,{default:withCtx(()=>[...L[34]||(L[34]=[createTextVNode("历史记录",-1)])]),_:1}),createVNode(Y,null,{default:withCtx(()=>[...L[35]||(L[35]=[createTextVNode("每隔 30 秒自动保存，最多保留 10 条",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_4$e,[createBaseVNode("ul",_hoisted_5$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(n).getPostById(unref(Q))?.history,(F,ge)=>(openBlock(),createElementBlock("li",{key:F.datetime,class:normalizeClass(["h-8 w-full inline-flex cursor-pointer items-center gap-2 rounded px-2 text-sm transition-colors",["hover:bg-primary/90 hover:text-primary-foreground",{"bg-primary text-primary-foreground shadow-lg dark:border dark:border-primary":unref(K)===ge,"dark:bg-gray/30 dark:text-primary-foreground-dark dark:border-primary-dark":unref(K)===ge}]]),onClick:Ee=>K.value=ge},toDisplayString(F.datetime),11,_hoisted_6$b))),128))]),createVNode(be,{orientation:"vertical",class:"mx-2"}),createBaseVNode("div",_hoisted_7$8,[createBaseVNode("div",_hoisted_8$7,toDisplayString(unref(n).getPostById(unref(Q))?.history[unref(K)].content??""),1)])]),createVNode(se,null,{default:withCtx(()=>[createVNode(ke,null,{default:withCtx(()=>[createVNode(de,null,{default:withCtx(()=>[createVNode(oe,null,{default:withCtx(()=>[...L[36]||(L[36]=[createTextVNode("恢 复",-1)])]),_:1})]),_:1}),createVNode(Ne,null,{default:withCtx(()=>[createVNode(ve,null,{default:withCtx(()=>[createVNode(_e,null,{default:withCtx(()=>[...L[37]||(L[37]=[createTextVNode("提示",-1)])]),_:1}),createVNode(we,null,{default:withCtx(()=>[...L[38]||(L[38]=[createTextVNode(" 此操作将用该记录替换当前文章内容，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(ye,null,{default:withCtx(()=>[createVNode(xe,null,{default:withCtx(()=>[...L[39]||(L[39]=[createTextVNode("取消",-1)])]),_:1}),createVNode(Ce,{onClick:y},{default:withCtx(()=>[...L[40]||(L[40]=[createTextVNode(" 恢 复 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),__unplugin_components_2=_export_sfc(_sfc_main$L,[["__scopeId","data-v-90efb7a0"]]),useAIImageConfigStore=defineStore("AIImageConfig",()=>{const t=store.reactive("openai_image_type",DEFAULT_SERVICE_TYPE),e=store.reactive("openai_image_size","1024x1024"),o=store.reactive("openai_image_quality","standard"),a=store.reactive("openai_image_style","natural"),n=customRef((d,f)=>{let u="";return(async()=>{t.value==="custom"?u=await store.get(`openai_image_endpoint_${t.value}`)||"":u=(imageServiceOptions.find(h=>h.value===t.value)??imageServiceOptions[0]).endpoint})(),{get(){return d(),u},set(b){u=b,f(),t.value==="custom"&&store.set(`openai_image_endpoint_${t.value}`,b)}}}),s=ref(""),l=customRef((d,f)=>{let u="";return store.get(`openai_image_key_${t.value}`).then(p=>{u=p||DEFAULT_SERVICE_KEY}),{get(){return d(),u},set(p){u=p,f(),t.value!==DEFAULT_SERVICE_TYPE&&store.set(`openai_image_key_${t.value}`,p)}}});return watch(t,async d=>{const f=imageServiceOptions.find(u=>u.value===d)??imageServiceOptions[0];if(d==="custom"){const u=await store.get(`openai_image_model_${d}`)||"";s.value=u}else{const u=await store.get(`openai_image_model_${d}`)||"";s.value=f.models.includes(u)?u:f.models[0],!f.models.includes(u)&&f.models[0]&&await store.set(`openai_image_model_${d}`,f.models[0])}},{immediate:!0}),watch(s,async d=>{await store.set(`openai_image_model_${t.value}`,d)}),{type:t,endpoint:n,model:s,size:e,quality:o,style:a,apiKey:l,reset:async()=>{t.value=DEFAULT_SERVICE_TYPE,e.value="1024x1024",o.value="standard",a.value="natural",await Promise.all(imageServiceOptions.map(async({value:d})=>{await store.remove(`openai_image_key_${d}`),await store.remove(`openai_image_model_${d}`),await store.remove(`openai_image_endpoint_${d}`)}))}}}),_hoisted_1$h={class:"relative"},_hoisted_2$f=["type","placeholder"],_sfc_main$K=defineComponent({__name:"PasswordInput",props:{defaultValue:{},modelValue:{},class:{},placeholder:{}},setup(t,{emit:e}){const o=t,n=useVModel(o,"modelValue",e,{passive:!0,defaultValue:o.defaultValue}),s=ref(!1);function l(){s.value=!s.value}return(i,d)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[0]||(d[0]=f=>isRef(n)?n.value=f:null),type:unref(s)?"text":"password",placeholder:t.placeholder,class:normalizeClass(unref(cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 pr-10 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-hidden focus-visible:ring-2 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,10,_hoisted_2$f),[[vModelDynamic,unref(n)]]),createBaseVNode("button",{type:"button",class:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors","aria-label":"切换密码可见性",onClick:l},[unref(s)?(openBlock(),createBlock(unref(EyeOff),{key:1,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Eye),{key:0,class:"h-4 w-4"}))])]))}}),_hoisted_1$g={class:"space-y-4 max-w-full"},_hoisted_2$e=["readonly"],_hoisted_3$e={key:0},_hoisted_4$d={key:1},_hoisted_5$c={key:2},_hoisted_6$a={key:3,class:"flex items-start gap-2 p-3 bg-blue-50 dark:bg-blue-950/30 rounded-md text-sm"},_hoisted_7$7={key:4,class:"flex items-start gap-2 p-3 bg-orange-50 dark:bg-orange-950/30 rounded-md text-sm"},_hoisted_8$6={class:"flex flex-wrap gap-2"},_hoisted_9$5={key:5,class:"mt-1 text-xs text-gray-500"},_sfc_main$J=defineComponent({__name:"AIImageConfig",emits:["saved"],setup(t,{emit:e}){const o=e,a=useAIImageConfigStore(),{type:n,endpoint:s,model:l,apiKey:i,size:d,quality:f,style:u}=storeToRefs(a),p=ref(!1),b=ref(""),h=computed(()=>imageServiceOptions.find(G=>G.value===n.value)||imageServiceOptions[0]);watch(n,()=>{b.value=""}),watch(l,()=>{b.value=""}),watch(s,()=>{b.value=""});function _(){if(!s.value.trim()||!l.value.trim()){b.value="❌ 请检查配置项是否完整";return}if(n.value!==DEFAULT_SERVICE_TYPE&&!i.value.trim()){b.value="❌ 请输入 API Key";return}try{new URL(s.value)}catch{b.value="❌ 端点格式有误";return}b.value="✅ 配置已保存",o("saved")}function C(){a.reset(),b.value="🗑️ 当前 AI 图像配置已清除"}async function g(){b.value="",p.value=!0;const G={"Content-Type":"application/json"};i.value&&n.value!==DEFAULT_SERVICE_TYPE&&(G.Authorization=`Bearer ${i.value}`);try{const N=new URL(s.value);!N.pathname.includes("/images/")&&!N.pathname.endsWith("/images/generations")&&(N.pathname=N.pathname.replace(/\/?$/,"/images/generations"));const T={model:l.value,prompt:"test connection",size:d.value,quality:f.value,style:u.value,n:1},M=await window.fetch(N.toString(),{method:"POST",headers:G,body:JSON.stringify(T)});if(M.ok)b.value="✅ 连接成功";else{const E=await M.text();b.value=`❌ 连接失败：${M.status} ${E}`}}catch(N){b.value=`❌ 连接失败：${N.message}`}finally{p.value=!1}}const w=[{label:"正方形 (1024x1024)",value:"1024x1024"},{label:"横版 (1792x1024)",value:"1792x1024"},{label:"竖版 (1024x1792)",value:"1024x1792"}],x=[{label:"标准",value:"standard"},{label:"高清",value:"hd"}],m=[{label:"自然",value:"natural"},{label:"鲜明",value:"vivid"}];return(G,N)=>(openBlock(),createElementBlock("div",_hoisted_1$g,[N[19]||(N[19]=createBaseVNode("div",{class:"text-lg font-semibold border-b pb-2"}," AI 图像生成配置 ",-1)),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[8]||(N[8]=[createTextVNode("服务商",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(n),"onUpdate:modelValue":N[0]||(N[0]=T=>isRef(n)?n.value=T:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(h).label),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(imageServiceOptions),T=>(openBlock(),createBlock(unref(_sfc_main$1j),{key:T.value,value:T.value},{default:withCtx(()=>[createTextVNode(toDisplayString(T.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[9]||(N[9]=[createTextVNode("API 端点",-1)])]),_:1}),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":N[1]||(N[1]=T=>isRef(s)?s.value=T:null),type:"url",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"https://api.openai.com/v1",readonly:unref(n)!=="custom"},null,8,_hoisted_2$e),[[vModelText,unref(s)]])]),unref(n)!=="default"?(openBlock(),createElementBlock("div",_hoisted_3$e,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[10]||(N[10]=[createTextVNode("API Key",-1)])]),_:1}),createVNode(unref(_sfc_main$K),{modelValue:unref(i),"onUpdate:modelValue":N[2]||(N[2]=T=>isRef(i)?i.value=T:null),class:"w-full mt-1 focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"sk-..."},null,8,["modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[11]||(N[11]=[createTextVNode("模型",-1)])]),_:1}),unref(n)!=="custom"&&unref(h).models.length>0?(openBlock(),createBlock(unref(_sfc_main$1l),{key:0,modelValue:unref(l),"onUpdate:modelValue":N[3]||(N[3]=T=>isRef(l)?l.value=T:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(l)||"请选择模型"),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(h).models,T=>(openBlock(),createBlock(unref(_sfc_main$1j),{key:T,value:T},{default:withCtx(()=>[createTextVNode(toDisplayString(T),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):withDirectives((openBlock(),createElementBlock("input",{key:1,"onUpdate:modelValue":N[4]||(N[4]=T=>isRef(l)?l.value=T:null),type:"text",class:"w-full mt-1 p-2 border rounded-md bg-background focus:ring-2 focus:ring-primary focus:border-primary transition-colors",placeholder:"输入模型名称，如：dall-e-3"},null,512)),[[vModelText,unref(l)]])]),createBaseVNode("div",null,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[12]||(N[12]=[createTextVNode("图像尺寸",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(d),"onUpdate:modelValue":N[5]||(N[5]=T=>isRef(d)?d.value=T:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(w.find(T=>T.value===unref(d))?.label||unref(d)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(w,T=>createVNode(unref(_sfc_main$1j),{key:T.value,value:T.value},{default:withCtx(()=>[createTextVNode(toDisplayString(T.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])]),unref(l).includes("dall-e")?(openBlock(),createElementBlock("div",_hoisted_4$d,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[13]||(N[13]=[createTextVNode("图像质量",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(f),"onUpdate:modelValue":N[6]||(N[6]=T=>isRef(f)?f.value=T:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(x.find(T=>T.value===unref(f))?.label||unref(f)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(x,T=>createVNode(unref(_sfc_main$1j),{key:T.value,value:T.value},{default:withCtx(()=>[createTextVNode(toDisplayString(T.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):createCommentVNode("",!0),unref(l).includes("dall-e")?(openBlock(),createElementBlock("div",_hoisted_5$c,[createVNode(unref(_sfc_main$1F),{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...N[14]||(N[14]=[createTextVNode("图像风格",-1)])]),_:1}),createVNode(unref(_sfc_main$1l),{modelValue:unref(u),"onUpdate:modelValue":N[7]||(N[7]=T=>isRef(u)?u.value=T:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),null,{default:withCtx(()=>[createTextVNode(toDisplayString(m.find(T=>T.value===unref(u))?.label||unref(u)),1)]),_:1})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(m,T=>createVNode(unref(_sfc_main$1j),{key:T.value,value:T.value},{default:withCtx(()=>[createTextVNode(toDisplayString(T.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1},8,["modelValue"])])):createCommentVNode("",!0),unref(n)==="default"?(openBlock(),createElementBlock("div",_hoisted_6$a,[createVNode(unref(Info),{class:"h-4 w-4 text-blue-500 mt-0.5 flex-shrink-0"}),N[15]||(N[15]=createBaseVNode("div",{class:"text-blue-700 dark:text-blue-300"},[createBaseVNode("p",{class:"font-medium"}," 默认图像服务 "),createBaseVNode("p",null,"免费使用，无需配置 API Key，支持 Kwai-Kolors/Kolors 模型。")],-1))])):unref(n)==="custom"?(openBlock(),createElementBlock("div",_hoisted_7$7,[createVNode(unref(Info),{class:"h-4 w-4 text-orange-500 mt-0.5 flex-shrink-0"}),N[16]||(N[16]=createBaseVNode("div",{class:"text-orange-700 dark:text-orange-300"},[createBaseVNode("p",{class:"font-medium"}," 自定义服务 "),createBaseVNode("p",null,"可配置任何兼容 OpenAI 图像生成 API 的服务，如自建的 API 代理或其他第三方服务。"),createBaseVNode("p",{class:"mt-1 text-xs"}," 端点格式示例：https://your-api.com/v1 ")],-1))])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_8$6,[createVNode(unref(_sfc_main$1O),{type:"button",class:"flex-1 min-w-[100px]",onClick:_},{default:withCtx(()=>[...N[17]||(N[17]=[createTextVNode(" 保存配置 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{variant:"outline",type:"button",class:"flex-1 min-w-[80px]",onClick:C},{default:withCtx(()=>[...N[18]||(N[18]=[createTextVNode(" 清空 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{size:"sm",variant:"outline",class:"flex-1 min-w-[100px]",disabled:unref(p),onClick:g},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(p)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),unref(b)?(openBlock(),createElementBlock("div",_hoisted_9$5,toDisplayString(unref(b)),1)):createCommentVNode("",!0)]))}}),_hoisted_1$f={class:"space-x-1 flex items-center"},_hoisted_2$d={key:0,class:"mb-4 w-full border rounded-md p-4 max-h-[60vh] overflow-y-auto flex-shrink-0"},_hoisted_3$d={key:1,class:"flex flex-col space-y-4 flex-shrink-0"},_hoisted_4$c={class:"flex items-center justify-center bg-gray-50 dark:bg-gray-800 rounded-lg min-h-[250px] sm:min-h-[300px]"},_hoisted_5$b={key:0,class:"flex flex-col items-center gap-4"},_hoisted_6$9={key:1,class:"w-full flex flex-col space-y-3"},_hoisted_7$6={key:0,class:"flex items-center justify-between p-2 bg-muted/20 rounded"},_hoisted_8$5={class:"text-sm text-muted-foreground"},_hoisted_9$4={class:"flex items-center justify-center p-2 sm:p-4"},_hoisted_10$1=["src","alt"],_hoisted_11$1={class:"px-2 sm:px-4 py-2 bg-muted/10 rounded space-y-1"},_hoisted_12$1={class:"text-xs text-muted-foreground text-center"},_hoisted_13$1={class:"text-xs text-muted-foreground break-words text-center"},_hoisted_14$1={class:"ml-1"},_hoisted_15$1={class:"text-xs text-muted-foreground text-center"},_hoisted_16$1={class:"flex flex-wrap justify-center gap-2 p-2 sm:p-4 bg-muted/20 border-t border-border rounded-b-lg"},_hoisted_17$1={key:2,class:"relative flex-shrink-0 mt-auto"},_hoisted_18$1={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},_sfc_main$I=defineComponent({__name:"AIImageGeneratorPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const o=t,a=e,n=useEditorStore(),{editor:s}=storeToRefs(n),l=useUIStore(),{toggleAIDialog:i}=l,d=ref(o.open);watch(()=>o.open,Y=>{d.value=Y,Y&&y()}),watch(d,Y=>a("update:open",Y));const f=ref(!1),u=ref(!1),p=ref(""),b=ref(""),h=ref([]),_=ref([]),C=ref([]),g=ref(null),w=ref(0),x=ref(null),m=useAIImageConfigStore(),{apiKey:G,endpoint:N,model:T,type:M,size:E,quality:Q,style:K}=storeToRefs(m);function V(Y){return Date.now()-Y>36e5}async function y(){const Y=await store.get("ai_generated_images"),R=await store.get("ai_image_timestamps");if(!Y)return;const W=await store.getJSON("ai_generated_images",[]),se=await store.getJSON("ai_image_prompts",[]),fe=await store.getJSON("ai_image_timestamps",[]);if(!R||fe.length===0){console.log("🧹 检测到旧版本数据，清除所有过期图片"),h.value=[],_.value=[],C.value=[],await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps");return}const ne=[];fe.forEach((le,pe)=>{V(le)||ne.push(pe)});const P=ne.map(le=>W[le]).filter(Boolean),D=ne.map(le=>se[le]||"").filter((le,pe)=>P[pe]),$=ne.map(le=>fe[le]).filter(Boolean);h.value=P,_.value=D,C.value=$,P.length<W.length&&(console.log(`🧹 清除了 ${W.length-P.length} 张过期图片`),P.length>0?(await store.setJSON("ai_generated_images",P),await store.setJSON("ai_image_prompts",D),await store.setJSON("ai_image_timestamps",$)):(await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps"))),console.log("📊 过期检查完成，有效图片数量:",P.length)}onMounted(async()=>{await y();const Y=h.value.length,R=_.value.length,W=C.value.length,se=Math.max(Y,R,W);Y<se?(console.warn("⚠️ 数据不一致，清除所有数据"),h.value=[],_.value=[],C.value=[],await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps")):(R<Y&&(_.value=[..._.value,...Array.from({length:Y-R},()=>"")]),W<Y&&(C.value=[...C.value,...Array.from({length:Y-W},()=>Date.now())])),x.value=setInterval(()=>{h.value.length>0&&y()},3e4)}),onBeforeUnmount(()=>{x.value&&(clearInterval(x.value),x.value=null)});function A(){f.value=!1}function H(){a("update:open",!1),setTimeout(()=>{i(!0)},100)}function ae(Y){Y.isComposing||Y.keyCode===229||Y.key==="Enter"&&!Y.shiftKey&&(Y.preventDefault(),ee())}async function ee(){if(!p.value.trim()||u.value)return;const Y=p.value.trim();b.value=Y,u.value=!0,g.value=new AbortController;const R={"Content-Type":"application/json"};G.value&&M.value!=="default"&&(R.Authorization=`Bearer ${G.value}`);try{const W=new URL(N.value);!W.pathname.includes("/images/")&&!W.pathname.endsWith("/images/generations")&&(W.pathname=W.pathname.replace(/\/?$/,"/images/generations"));const se={model:T.value,prompt:Y,size:E.value,n:1};T.value.includes("dall-e")&&(se.quality=Q.value,se.style=K.value);const fe=await window.fetch(W.toString(),{method:"POST",headers:R,body:JSON.stringify(se),signal:g.value.signal});if(!fe.ok){const P=await fe.text();throw new Error(`${fe.status}: ${P}`)}const ne=await fe.json();if(ne.data&&ne.data.length>0){const P=ne.data[0].url||ne.data[0].b64_json;if(P){const D=P.startsWith("data:")||P.startsWith("http")?P:`data:image/png;base64,${P}`,$=Date.now();h.value.unshift(D),_.value.unshift(Y),C.value.unshift($),w.value=0,h.value.length>20&&(h.value=h.value.slice(0,20),_.value=_.value.slice(0,20),C.value=C.value.slice(0,20)),await store.setJSON("ai_generated_images",h.value),await store.setJSON("ai_image_prompts",_.value),await store.setJSON("ai_image_timestamps",C.value),p.value=""}}else throw new Error("未收到有效的图像数据")}catch(W){W.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",W)}finally{u.value=!1,g.value=null}}function U(){g.value&&(g.value.abort(),g.value=null),u.value=!1}async function j(){h.value=[],_.value=[],C.value=[],w.value=0,await store.remove("ai_generated_images"),await store.remove("ai_image_prompts"),await store.remove("ai_image_timestamps")}async function ue(Y,R){try{const se=await(await fetch(Y)).blob(),fe=window.URL.createObjectURL(se),ne=document.createElement("a");ne.href=fe;const P=_.value[R]||"",D=P?P.substring(0,20).replace(/[^\w\s-]/g,"").replace(/\s+/g,"-"):"no-prompt";ne.download=`ai-image-${R+1}-${D}.png`,document.body.appendChild(ne),ne.click(),document.body.removeChild(ne),window.URL.revokeObjectURL(fe)}catch(W){console.error("下载图像失败:",W)}}async function re(Y){try{await copyPlain(Y),console.log("✅ 图片链接已复制到剪贴板"),typeof toast<"u"&&toast.success("图片链接已复制到剪贴板")}catch(R){console.error("❌ 复制失败:",R),typeof toast<"u"&&toast.error("复制失败，请重试")}}function J(){const Y=_.value[w.value];Y?(console.log("🔄 重新生成图像，使用当前图片的prompt:",Y),L(Y)):console.warn("⚠️ 没有找到当前图片的prompt")}async function L(Y){if(!Y.trim()||u.value)return;u.value=!0,g.value=new AbortController;const R={"Content-Type":"application/json"};G.value&&M.value!=="default"&&(R.Authorization=`Bearer ${G.value}`);try{const W=new URL(N.value);!W.pathname.includes("/images/")&&!W.pathname.endsWith("/images/generations")&&(W.pathname=W.pathname.replace(/\/?$/,"/images/generations"));const se={model:T.value,prompt:Y.trim(),size:E.value,n:1};T.value.includes("dall-e")&&(se.quality=Q.value,se.style=K.value);const fe=await window.fetch(W.toString(),{method:"POST",headers:R,body:JSON.stringify(se),signal:g.value.signal});if(!fe.ok){const P=await fe.text();throw new Error(`${fe.status}: ${P}`)}const ne=await fe.json();if(ne.data&&ne.data.length>0){const P=ne.data[0].url||ne.data[0].b64_json;if(P){const D=P.startsWith("data:")||P.startsWith("http")?P:`data:image/png;base64,${P}`,$=Date.now();h.value.unshift(D),_.value.unshift(Y.trim()),C.value.unshift($),w.value=0,h.value.length>20&&(h.value=h.value.slice(0,20),_.value=_.value.slice(0,20),C.value=C.value.slice(0,20)),await store.setJSON("ai_generated_images",h.value),await store.setJSON("ai_image_prompts",_.value),await store.setJSON("ai_image_timestamps",C.value)}}else throw new Error("未收到有效的图像数据")}catch(W){W.name==="AbortError"?console.log("图像生成请求中止"):console.error("图像生成失败:",W)}finally{u.value=!1,g.value=null}}function oe(){w.value>0&&w.value--}function S(){w.value<h.value.length-1&&w.value++}function I(Y){if(!s.value){console.warn("编辑器未初始化");return}try{const R=_.value[w.value]||"";console.log("🔗 插入图片，使用关联的prompt:",R);const se=`![${R.trim()?R.trim().substring(0,30).replace(/\n/g," "):"AI生成的图像"}](${Y})`,fe=s.value.state.selection.main.head;s.value.dispatch({changes:{from:fe,insert:se},selection:{anchor:fe+se.length}}),s.value.focus(),d.value=!1,console.log("✅ 图像已成功插入到光标位置")}catch(R){console.error("❌ 插入图像到光标位置失败:",R)}}function Z(Y){if(console.log("🔍 点击查看大图:",Y),!Y){console.error("❌ 图片URL为空");return}try{window.open(Y,"_blank","width=800,height=600,scrollbars=yes,resizable=yes")||(console.error("❌ 无法打开新窗口，可能被浏览器阻止"),window.open(Y,"_blank"))}catch(R){console.error("❌ 打开图片失败:",R)}}const me=ref(Date.now());onMounted(()=>{const R=setInterval(()=>{me.value=Date.now()},1e3);onBeforeUnmount(()=>{clearInterval(R)})});function ie(Y){if(!C.value[Y])return"未知";const R=3600*1e3,W=C.value[Y],se=me.value-W,fe=R-se;if(fe<=0)return"已过期";const ne=Math.floor(fe/(60*1e3)),P=Math.floor(fe%(60*1e3)/1e3);return ne>0?`${ne}分${P}秒`:`${P}秒`}function te(Y){if(!C.value[Y])return"text-muted-foreground";const R=3600*1e3,W=C.value[Y],se=me.value-W,fe=R-se;return fe<=0?"text-red-500 font-medium":fe<600*1e3?"text-orange-500 font-medium":fe<1800*1e3?"text-yellow-600":"text-green-600"}return(Y,R)=>(openBlock(),createBlock(unref(_sfc_main$1I),{open:d.value,"onUpdate:open":R[8]||(R[8]=W=>d.value=W)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1H),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-4xl overflow-y-auto"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1A),{class:"space-y-1 flex flex-col items-start"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$f,[createVNode(unref(_sfc_main$1z),null,{default:withCtx(()=>[...R[9]||(R[9]=[createTextVNode("AI 文生图",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{title:f.value?"AI 文生图":"配置参数","aria-label":f.value?"AI 文生图":"配置参数",variant:"ghost",size:"icon",onClick:R[0]||(R[0]=W=>f.value=!f.value)},{default:withCtx(()=>[f.value?(openBlock(),createBlock(unref(Image),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),createVNode(unref(_sfc_main$1O),{title:"AI 对话","aria-label":"AI 对话",variant:"ghost",size:"icon",onClick:R[1]||(R[1]=W=>H())},{default:withCtx(()=>[createVNode(unref(MessageCircle),{class:"h-4 w-4"})]),_:1}),createVNode(unref(_sfc_main$1O),{title:"清空图像","aria-label":"清空图像",variant:"ghost",size:"icon",onClick:j},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(_sfc_main$19),{class:"text-muted-foreground text-sm"},{default:withCtx(()=>[...R[10]||(R[10]=[createTextVNode(" 使用 AI 根据文字描述生成图像 ",-1)])]),_:1})]),_:1}),f.value?(openBlock(),createElementBlock("div",_hoisted_2$d,[createVNode(_sfc_main$J,{onSaved:A})])):createCommentVNode("",!0),!f.value&&(u.value||h.value.length>0)?(openBlock(),createElementBlock("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$c,[u.value?(openBlock(),createElementBlock("div",_hoisted_5$b,[createVNode(unref(LoaderCircle),{class:"h-8 w-8 animate-spin text-primary"}),R[12]||(R[12]=createBaseVNode("p",{class:"text-sm text-muted-foreground"}," 正在生成图像... ",-1)),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",onClick:U},{default:withCtx(()=>[...R[11]||(R[11]=[createTextVNode(" 取消生成 ",-1)])]),_:1})])):h.value.length>0?(openBlock(),createElementBlock("div",_hoisted_6$9,[h.value.length>1?(openBlock(),createElementBlock("div",_hoisted_7$6,[createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",disabled:w.value<=0,onClick:oe},{default:withCtx(()=>[...R[13]||(R[13]=[createTextVNode(" 上一张 ",-1)])]),_:1},8,["disabled"]),createBaseVNode("span",_hoisted_8$5,toDisplayString(w.value+1)+" / "+toDisplayString(h.value.length),1),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",disabled:w.value>=h.value.length-1,onClick:S},{default:withCtx(()=>[...R[14]||(R[14]=[createTextVNode(" 下一张 ",-1)])]),_:1},8,["disabled"])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_9$4,[createBaseVNode("div",{class:"relative group cursor-pointer w-full max-w-sm",onClick:R[2]||(R[2]=W=>Z(h.value[w.value]))},[createBaseVNode("img",{src:h.value[w.value],alt:`生成的图像 ${w.value+1}`,class:"w-full h-auto max-h-[300px] sm:max-h-[350px] object-contain rounded-lg shadow-lg border border-border transition-transform hover:scale-105"},null,8,_hoisted_10$1),R[15]||(R[15]=createBaseVNode("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/10 rounded-lg flex items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none"},[createBaseVNode("div",{class:"bg-black/70 text-white px-3 py-1 rounded-md text-sm"}," 点击查看大图 ")],-1))])]),createBaseVNode("div",_hoisted_11$1,[createBaseVNode("p",_hoisted_12$1," 尺寸: "+toDisplayString(unref(E)),1),createBaseVNode("div",_hoisted_13$1,[R[16]||(R[16]=createBaseVNode("span",{class:"font-medium"},"提示词:",-1)),createBaseVNode("span",_hoisted_14$1,toDisplayString(_.value[w.value]||"无关联提示词"),1)]),createBaseVNode("div",_hoisted_15$1,[R[17]||(R[17]=createBaseVNode("span",{class:"font-medium"},"剩余有效期:",-1)),createBaseVNode("span",{class:normalizeClass(["ml-1",te(w.value)])},toDisplayString(ie(w.value)),3),R[18]||(R[18]=createBaseVNode("span",{class:"font-medium"},"，请及时下载保存",-1))])]),createBaseVNode("div",_hoisted_16$1,[createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:R[3]||(R[3]=W=>I(h.value[w.value]))},{default:withCtx(()=>[createVNode(unref(Image),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),R[19]||(R[19]=createTextVNode(" 插入 ",-1))]),_:1}),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:R[4]||(R[4]=W=>ue(h.value[w.value],w.value))},{default:withCtx(()=>[createVNode(unref(Download),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),R[20]||(R[20]=createTextVNode(" 下载 ",-1))]),_:1}),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:R[5]||(R[5]=W=>re(h.value[w.value]))},{default:withCtx(()=>[createVNode(unref(Copy),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),R[21]||(R[21]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"sm",class:"flex-shrink-0 bg-background text-xs sm:text-sm",onClick:J},{default:withCtx(()=>[createVNode(unref(RefreshCcw),{class:"h-3 w-3 sm:h-4 sm:w-4 mr-1 sm:mr-2"}),R[22]||(R[22]=createTextVNode(" 重新生成 ",-1))]),_:1})])])):createCommentVNode("",!0)])])):createCommentVNode("",!0),f.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_17$1,[createBaseVNode("div",_hoisted_18$1,[createVNode(unref(_sfc_main$1D),{modelValue:p.value,"onUpdate:modelValue":R[6]||(R[6]=W=>p.value=W),placeholder:"描述你想要生成的图像... (Enter 生成，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:ae},null,8,["modelValue"]),createVNode(unref(_sfc_main$1O),{disabled:!p.value.trim()&&!u.value,size:"icon",class:normalizeClass(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":u.value?"取消":"生成",onClick:R[7]||(R[7]=W=>u.value?U():ee())},{default:withCtx(()=>[u.value?(openBlock(),createBlock(unref(LoaderCircle),{key:0,class:"h-4 w-4 animate-spin"})):(openBlock(),createBlock(unref(Image),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"]))}}),AIImageGeneratorPanel=_export_sfc(_sfc_main$I,[["__scopeId","data-v-1e0e55d6"]]),_hoisted_1$e={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},_hoisted_2$c={class:"flex flex-col overflow-hidden"},_hoisted_3$c={key:0,class:"space-y-2 overflow-auto"},_hoisted_4$b=["id","onUpdate:modelValue"],_hoisted_5$a=["for"],_hoisted_6$8={key:1},_hoisted_7$5={class:"flex flex-col overflow-hidden"},_hoisted_8$4={class:"relative bg-white p-2 dark:bg-gray-900"},_hoisted_9$3={class:"w-full overflow-auto border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},_hoisted_10={class:"text-left text-sm text-gray-500 dark:text-gray-400"},_hoisted_11={class:"col-span-1 lg:col-span-2 flex justify-end"},_hoisted_12={class:"grid grid-cols-1 lg:grid-cols-2 my-5 h-[60vh] lg:h-96 gap-4 text-center"},_hoisted_13={class:"overflow-auto h-full flex flex-col"},_hoisted_14={class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"},_hoisted_15={key:0,class:"m-4 flex-1 flex flex-col items-center justify-center border-2 rounded-lg border-dashed"},_hoisted_16={for:"json-import-input",class:"flex-1 w-full flex flex-col cursor-pointer items-center justify-center rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800"},_hoisted_17={key:1,class:"mt-4 border rounded-md bg-gray-50 p-2 dark:bg-gray-800"},_hoisted_18={class:"text-left text-sm text-gray-500 dark:text-gray-400"},_hoisted_19={class:"overflow-auto h-full flex flex-col"},_hoisted_20={key:0},_hoisted_21={class:"space-y-2"},_hoisted_22=["id","onUpdate:modelValue"],_hoisted_23=["for"],_hoisted_24={key:1,class:"flex-1 flex items-center justify-center text-gray-500 dark:text-gray-400"},_hoisted_25={class:"flex-1 col-span-1 lg:col-span-2 flex justify-end"},_hoisted_26={class:"max-h-[70vh] overflow-hidden"},_hoisted_27={class:"h-full overflow-auto border rounded-md bg-gray-50 p-4 dark:bg-gray-800"},_hoisted_28={class:"break-all text-left text-sm text-gray-500 dark:text-gray-400"},_sfc_main$H=defineComponent({__name:"EditorStateDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const o=t,a=e,n=useThemeStore(),s=useUIStore(),l=usePostStore(),i=useCssEditorStore(),d=useRenderStore();watch(()=>o.visible,V=>{V&&_()});function f(V){V||a("close")}const u=ref("import"),p=ref([{value:"import",label:"导入配置"},{value:"export",label:"导出配置"}]),b=ref({data:{},selected:{}});function h(){return{isDark:s.isDark,isEditOnLeft:s.isEditOnLeft,isOpenRightSlider:s.isOpenRightSlider,isOpenPostSlider:s.isOpenPostSlider,showAIToolbox:s.showAIToolbox,theme:n.theme,fontFamily:n.fontFamily,fontSize:n.fontSize,primaryColor:n.primaryColor,codeBlockTheme:n.codeBlockTheme,legend:n.legend,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber,isCiteStatus:n.isCiteStatus,isCountStatus:n.isCountStatus,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,currentPostId:l.currentPostId,currentPostIndex:l.currentPostIndex,posts:l.posts,cssContentConfig:i.cssContentConfig,titleList:d.titleList,readingTime:d.readingTime,isShowCssEditor:s.isShowCssEditor,isShowInsertFormDialog:s.isShowInsertFormDialog,isShowUploadImgDialog:s.isShowUploadImgDialog,isShowInsertMpCardDialog:s.isShowInsertMpCardDialog,aiDialogVisible:s.aiDialogVisible,aiImageDialogVisible:s.aiImageDialogVisible}}async function _(){try{const V=h();b.value={data:V,selected:Object.keys(V).reduce((y,A)=>(y[A]=!0,y),{})}}catch{}}const C=computed(()=>b.value.data?Object.keys(b.value.data).reduce((V,y)=>(b.value.selected[y]&&(V[y]=b.value.data[y]),V),{}):{}),g=ref({data:{},selected:{}}),w=ref(null),x=computed(()=>g.value.data?Object.keys(g.value.data).reduce((V,y)=>(g.value.selected[y]&&(V[y]=g.value.data[y]),V),{}):{});function m(){const V=Object.keys(b.value.data).reduce((y,A)=>(b.value.selected[A]&&(y[A]=b.value.data[A]),y),{});downloadFile(JSON.stringify(V,null,2),"exported_config.json","application/json"),toast.success("配置文件导出成功"),a("close")}const G=ref(!1),N=computed(()=>u.value==="export"?C.value:u.value==="import"?x.value:{});function T(V){copyPlain(V),toast.success("复制成功")}const M=ref(null);function E(){M.value?.click()}function Q(V){const y=V.target;if(!y.files?.length)return;const A=y.files[0],H=new FileReader;H.onload=ae=>{try{const ee=ae.target?.result,U=JSON.parse(ee);if(typeof U!="object"||Array.isArray(U)){toast.error("导入的文件格式不正确");return}const j=Object.keys(b.value.data).concat(Object.keys(g.value.data)),ue=Object.keys(U).reduce((re,J)=>(j.includes(J)&&(re[J]=U[J]),re),{});if(Object.keys(ue).length===0){toast.error("导入的文件无可应用项目配置");return}w.value=U,g.value={data:U,selected:Object.keys(U).reduce((re,J)=>(re[J]=!0,re),{})},toast.success("配置文件导入成功")}catch{toast.error("文件解析失败，请检查JSON格式")}},H.readAsText(A),y.value=""}function K(){x.value&&(Object.keys(g.value.selected).forEach(V=>{if(g.value.selected[V]&&g.value.data?.[V]!==void 0){const y=g.value.data[V];V==="isDark"?s.isDark=y:V==="isEditOnLeft"?s.isEditOnLeft=y:V==="isOpenRightSlider"?s.isOpenRightSlider=y:V==="isOpenPostSlider"?s.isOpenPostSlider=y:V==="showAIToolbox"?s.showAIToolbox=y:V==="theme"?n.theme=y:V==="fontFamily"?n.fontFamily=y:V==="fontSize"?n.fontSize=y:V==="primaryColor"?n.primaryColor=y:V==="codeBlockTheme"?n.codeBlockTheme=y:V==="legend"?n.legend=y:V==="isMacCodeBlock"?n.isMacCodeBlock=y:V==="isShowLineNumber"?n.isShowLineNumber=y:V==="isCiteStatus"?n.isCiteStatus=y:V==="isCountStatus"?n.isCountStatus=y:V==="isUseIndent"?n.isUseIndent=y:V==="isUseJustify"?n.isUseJustify=y:V==="currentPostId"?l.currentPostId=y:V==="currentPostIndex"?l.currentPostIndex=y:V==="posts"?l.posts=y:V==="cssContentConfig"?i.cssContentConfig=y:V==="titleList"?d.titleList=y:V==="readingTime"?d.readingTime=y:V==="isShowCssEditor"?s.isShowCssEditor=y:V==="isShowInsertFormDialog"?s.isShowInsertFormDialog=y:V==="isShowUploadImgDialog"?s.isShowUploadImgDialog=y:V==="isShowInsertMpCardDialog"?s.isShowInsertMpCardDialog=y:V==="aiDialogVisible"?s.aiDialogVisible=y:V==="aiImageDialogVisible"&&(s.aiImageDialogVisible=y)}}),toast.success("配置应用成功，请刷新页面查看效果"),a("close"))}return(V,y)=>{const A=_sfc_main$1z,H=_sfc_main$19,ae=_sfc_main$1A,ee=_sfc_main$1c,U=_sfc_main$1d,j=_sfc_main$1O,ue=_sfc_main$1o,re=_sfc_main$1q,J=_sfc_main$1H,L=_sfc_main$1I,oe=_sfc_main$1x;return openBlock(),createElementBlock(Fragment,null,[createVNode(L,{open:o.visible,"onUpdate:open":f},{default:withCtx(()=>[createVNode(J,{class:"md:max-w-2/3"},{default:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[createVNode(A,null,{default:withCtx(()=>[...y[5]||(y[5]=[createTextVNode("导入/导出项目配置",-1)])]),_:1}),createVNode(H,null,{default:withCtx(()=>[...y[6]||(y[6]=[createTextVNode(" 导入的配置将覆盖当前项目的配置，请谨慎操作。 ",-1)])]),_:1})]),_:1}),createVNode(re,{modelValue:unref(u),"onUpdate:modelValue":y[2]||(y[2]=S=>isRef(u)?u.value=S:null),class:"w-full"},{default:withCtx(()=>[createVNode(U,null,{default:withCtx(()=>[createVNode(ee,{value:"import"},{default:withCtx(()=>[...y[7]||(y[7]=[createTextVNode(" 导入配置 ",-1)])]),_:1}),(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p).filter(S=>S.value!=="import"),S=>(openBlock(),createBlock(ee,{key:S.value,value:S.value},{default:withCtx(()=>[createTextVNode(toDisplayString(S.label),1)]),_:2},1032,["value"]))),128))]),_:1}),createVNode(ue,{value:"export"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$e,[createBaseVNode("div",_hoisted_2$c,[y[9]||(y[9]=createBaseVNode("p",{class:"bg-white p-2 dark:bg-gray-900"}," 请选择需要导出的配置 ",-1)),unref(b).data?(openBlock(),createElementBlock("ul",_hoisted_3$c,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(b).data,(S,I)=>(openBlock(),createElementBlock("li",{key:I,class:"space-x-2 flex items-center"},[withDirectives(createBaseVNode("input",{id:`export-${I}`,"onUpdate:modelValue":Z=>unref(b).selected[I]=Z,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,_hoisted_4$b),[[vModelCheckbox,unref(b).selected[I]]]),createBaseVNode("label",{for:`export-${I}`,class:"text-sm text-gray-700 dark:text-gray-300"},toDisplayString(unref(storeLabels)[I]||I),9,_hoisted_5$a)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_6$8,[...y[8]||(y[8]=[createBaseVNode("p",{class:"text-sm text-gray-500 dark:text-gray-400"}," 加载中... ",-1)])]))]),createBaseVNode("div",_hoisted_7$5,[createBaseVNode("p",_hoisted_8$4,[y[10]||(y[10]=createBaseVNode("span",null,"当前 JSON 预览",-1)),createVNode(unref(Expand),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:y[0]||(y[0]=S=>G.value=!0)})]),createBaseVNode("div",_hoisted_9$3,[createBaseVNode("pre",_hoisted_10,toDisplayString(JSON.stringify(unref(C),null,2)),1)])]),createBaseVNode("div",_hoisted_11,[createVNode(j,{type:"primary",disabled:Object.values(unref(b).selected).every(S=>!S),onClick:m},{default:withCtx(()=>[...y[11]||(y[11]=[createTextVNode(" 导出选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1}),createVNode(ue,{value:"import"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_12,[createBaseVNode("div",_hoisted_13,[createBaseVNode("p",_hoisted_14,[y[12]||(y[12]=createBaseVNode("span",null,"导入 JSON 配置文件",-1)),createVNode(unref(Expand),{class:"absolute right-2 top-2 cursor-pointer p-1 text-gray-500 dark:text-gray-400",onClick:y[1]||(y[1]=S=>G.value=!0)})]),unref(w)?(openBlock(),createElementBlock("div",_hoisted_17,[createBaseVNode("pre",_hoisted_18,toDisplayString(JSON.stringify(unref(x),null,2)),1)])):(openBlock(),createElementBlock("div",_hoisted_15,[createBaseVNode("input",{id:"json-import-input",ref_key:"fileInputRef",ref:M,type:"file",accept:".json",class:"hidden",onChange:Q},null,544),createBaseVNode("label",_hoisted_16,[createVNode(unref(CloudUpload),{class:"mb-2 size-16 text-gray-500 dark:text-gray-400"}),y[13]||(y[13]=createBaseVNode("span",{class:"text-sm text-gray-500 dark:text-gray-400"}," 点击或拖拽 JSON 文件到此处 ",-1)),y[14]||(y[14]=createBaseVNode("span",{class:"mt-1 text-xs text-gray-400 dark:text-gray-500"}," 支持格式: .json ",-1))])]))]),createBaseVNode("div",_hoisted_19,[y[15]||(y[15]=createBaseVNode("p",{class:"sticky top-0 z-10 bg-white p-2 dark:bg-gray-900"}," 选择要导入的配置项 ",-1)),unref(w)?(openBlock(),createElementBlock("div",_hoisted_20,[createBaseVNode("ul",_hoisted_21,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(g).data,(S,I)=>(openBlock(),createElementBlock("li",{key:I,class:"space-x-2 flex items-center"},[withDirectives(createBaseVNode("input",{id:`import-${I}`,"onUpdate:modelValue":Z=>unref(g).selected[I]=Z,type:"checkbox",class:"h-4 w-4 border-gray-300 rounded text-indigo-600 focus:ring-indigo-500"},null,8,_hoisted_22),[[vModelCheckbox,unref(g).selected[I]]]),createBaseVNode("label",{for:`import-${I}`,class:"text-sm text-gray-700 dark:text-gray-300"},toDisplayString(unref(storeLabels)[I]||I),9,_hoisted_23)]))),128))])])):(openBlock(),createElementBlock("div",_hoisted_24," 请先导入JSON文件 "))]),createBaseVNode("div",_hoisted_25,[createBaseVNode("input",{id:"json-import-input",ref_key:"fileInputRef",ref:M,type:"file",accept:".json",class:"hidden",onChange:Q},null,544),createVNode(j,{variant:"ghost",class:"mr-2",onClick:E},{default:withCtx(()=>[...y[16]||(y[16]=[createTextVNode(" 重新导入 ",-1)])]),_:1}),createVNode(j,{disabled:Object.values(unref(g).selected).every(S=>!S),onClick:K},{default:withCtx(()=>[...y[17]||(y[17]=[createTextVNode(" 应用选中配置 ",-1)])]),_:1},8,["disabled"])])])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["open"]),createVNode(L,{open:unref(G),"onUpdate:open":y[4]||(y[4]=S=>G.value=S)},{default:withCtx(()=>[createVNode(J,{class:"max-h-[90vh] max-w-[90vw] overflow-auto"},{default:withCtx(()=>[createVNode(ae,null,{default:withCtx(()=>[createVNode(A,null,{default:withCtx(()=>[...y[18]||(y[18]=[createTextVNode("JSON 全屏预览",-1)])]),_:1}),createVNode(H,null,{default:withCtx(()=>[...y[19]||(y[19]=[createTextVNode(" 当前配置的完整 JSON 数据 ",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_26,[createBaseVNode("div",_hoisted_27,[createBaseVNode("pre",_hoisted_28,toDisplayString(JSON.stringify(unref(N),null,2)),1)])]),createVNode(oe,null,{default:withCtx(()=>[createVNode(j,{variant:"outline",onClick:y[3]||(y[3]=S=>T(JSON.stringify(unref(N),null,2)))},{default:withCtx(()=>[...y[20]||(y[20]=[createTextVNode(" 复制 JSON 到剪贴板 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])],64)}}}),_hoisted_1$d={class:"text-center"},_hoisted_2$b={class:"grid grid-cols-2 my-5 gap-4"},_hoisted_3$b=["src","alt"],_sfc_main$G=defineComponent({__name:"FundDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const o=t,a=e,n=[{name:"yanglbme",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support1.jpg",altText:"赞赏二维码 1"},{name:"yangfong",imageUrl:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/support2.jpg",altText:"赞赏二维码 2"}];function s(l){l||a("close")}return(l,i)=>{const d=_sfc_main$1z,f=_sfc_main$1A,u=_sfc_main$1O,p=_sfc_main$1x,b=_sfc_main$1H,h=_sfc_main$1I;return openBlock(),createBlock(h,{open:o.visible,"onUpdate:open":s},{default:withCtx(()=>[createVNode(b,null,{default:withCtx(()=>[createVNode(f,null,{default:withCtx(()=>[createVNode(d,null,{default:withCtx(()=>[...i[1]||(i[1]=[createTextVNode("赞赏",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$d,[i[2]||(i[2]=createBaseVNode("p",null,"若觉得项目不错，可以通过以下方式支持我们～",-1)),createBaseVNode("div",_hoisted_2$b,[(openBlock(),createElementBlock(Fragment,null,renderList(n,_=>createBaseVNode("div",{key:_.name,class:"text-center"},[createBaseVNode("img",{src:_.imageUrl,alt:_.altText,class:"mx-auto",style:{width:"90%","max-width":"200px","border-radius":"10%"}},null,8,_hoisted_3$b)])),64))])]),createVNode(p,{class:"sm:justify-evenly"},{default:withCtx(()=>[createVNode(u,{onClick:i[0]||(i[0]=_=>a("close"))},{default:withCtx(()=>[...i[3]||(i[3]=[createTextVNode(" 关闭 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])}}}),_sfc_main$F=defineComponent({__name:"AboutDialog",props:{visible:{type:Boolean,default:!1}},emits:["close"],setup(t,{emit:e}){const o=t,a=e;function n(i){i||a("close")}const s=[{label:"GitHub 仓库",url:"https://github.com/doocs/md"},{label:"Gitee 仓库",url:"https://gitee.com/doocs/md"},{label:"GitCode 仓库",url:"https://gitcode.com/doocs/md"}];function l(i){window.open(i,"_blank")}return(i,d)=>{const f=_sfc_main$1z,u=_sfc_main$1A,p=_sfc_main$1O,b=_sfc_main$1x,h=_sfc_main$1H,_=_sfc_main$1I;return openBlock(),createBlock(_,{open:o.visible,"onUpdate:open":n},{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[createVNode(u,null,{default:withCtx(()=>[createVNode(f,null,{default:withCtx(()=>[...d[0]||(d[0]=[createTextVNode("关于",-1)])]),_:1})]),_:1}),d[1]||(d[1]=createBaseVNode("div",{class:"text-center"},[createBaseVNode("h3",null,"一款高度简洁的微信 Markdown 编辑器"),createBaseVNode("p",null,"扫码关注公众号 Doocs，原创技术内容第一时间推送！"),createBaseVNode("img",{class:"mx-auto my-5",src:"https://cdn-doocs.oss-cn-shenzhen.aliyuncs.com/gh/doocs/md/images/1648303220922-7e14aefa-816e-44c1-8604-ade709ca1c69.png",alt:"Doocs Markdown 编辑器",style:{width:"40%"}})],-1)),createVNode(b,{class:"sm:justify-evenly flex flex-wrap gap-2"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(s,C=>createVNode(p,{key:C.url,onClick:g=>l(C.url)},{default:withCtx(()=>[createTextVNode(toDisplayString(C.label),1)]),_:2},1032,["onClick"])),64))]),_:1})]),_:1})]),_:1},8,["open"])}}}),_hoisted_1$c={class:"theme-customizer space-y-4"},_hoisted_2$a={class:"space-y-2 hidden sm:block"},_hoisted_3$a={class:"grid grid-cols-2 justify-items-center gap-2"},_hoisted_4$a={class:"space-y-2 hidden sm:block"},_hoisted_5$9={class:"grid grid-cols-2 justify-items-center gap-2"},_hoisted_6$7={class:"space-y-2"},_hoisted_7$4={class:"grid grid-cols-2 justify-items-center gap-2"},_hoisted_8$3={class:"space-y-2"},_hoisted_9$2={class:"grid grid-cols-2 justify-items-center gap-2"},_sfc_main$E=defineComponent({__name:"ThemeCustomizer",setup(t){const e=useThemeStore(),{previewWidth:o}=storeToRefs(e),a=useUIStore(),{isDark:n,isEditOnLeft:s}=storeToRefs(a),{toggleDark:l,toggleEditOnLeft:i}=a,d=useEditorStore(),f=useRenderStore();function u(h){e.previewWidth=h,p()}function p(){e.updateCodeTheme();const h=d.getContent();f.render(h,{isCiteStatus:e.isCiteStatus,legend:e.legend,isUseIndent:e.isUseIndent,isUseJustify:e.isUseJustify,isCountStatus:e.isCountStatus,isMacCodeBlock:e.isMacCodeBlock,isShowLineNumber:e.isShowLineNumber})}function b(){a.toggleShowCssEditor()}return(h,_)=>{const C=_sfc_main$1O;return openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$a,[_[8]||(_[8]=createBaseVNode("h2",{class:"text-sm font-medium"}," 编辑区位置 ",-1)),createBaseVNode("div",_hoisted_3$a,[createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(s)}]),variant:"outline",onClick:_[0]||(_[0]=g=>!unref(s)&&unref(i)())},{default:withCtx(()=>[..._[6]||(_[6]=[createTextVNode(" 左侧 ",-1)])]),_:1},8,["class"]),createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(s)}]),variant:"outline",onClick:_[1]||(_[1]=g=>unref(s)&&unref(i)())},{default:withCtx(()=>[..._[7]||(_[7]=[createTextVNode(" 右侧 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_4$a,[_[9]||(_[9]=createBaseVNode("h2",{class:"text-sm font-medium"}," 预览模式 ",-1)),createBaseVNode("div",_hoisted_5$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(widthOptions),({label:g,value:w})=>(openBlock(),createBlock(C,{key:w,class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(o)===w}]),variant:"outline",onClick:x=>u(w)},{default:withCtx(()=>[createTextVNode(toDisplayString(g),1)]),_:2},1032,["class","onClick"]))),128))])]),createBaseVNode("div",_hoisted_6$7,[_[12]||(_[12]=createBaseVNode("h2",{class:"text-sm font-medium"}," 自定义 CSS 面板 ",-1)),createBaseVNode("div",_hoisted_7$4,[createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(a).isShowCssEditor}]),variant:"outline",onClick:_[2]||(_[2]=g=>!unref(a).isShowCssEditor&&b())},{default:withCtx(()=>[..._[10]||(_[10]=[createTextVNode(" 开启 ",-1)])]),_:1},8,["class"]),createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(a).isShowCssEditor}]),variant:"outline",onClick:_[3]||(_[3]=g=>unref(a).isShowCssEditor&&b())},{default:withCtx(()=>[..._[11]||(_[11]=[createTextVNode(" 关闭 ",-1)])]),_:1},8,["class"])])]),createBaseVNode("div",_hoisted_8$3,[_[13]||(_[13]=createBaseVNode("h2",{class:"text-sm font-medium"}," 模式 ",-1)),createBaseVNode("div",_hoisted_9$2,[createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":!unref(n)}]),variant:"outline",onClick:_[4]||(_[4]=g=>unref(l)(!1))},{default:withCtx(()=>[createVNode(unref(Sun),{class:"h-4 w-4"})]),_:1},8,["class"]),createVNode(C,{class:normalizeClass(["w-full",{"border-black dark:border-white border-2":unref(n)}]),variant:"outline",onClick:_[5]||(_[5]=g=>unref(l)(!0))},{default:withCtx(()=>[createVNode(unref(Moon),{class:"h-4 w-4"})]),_:1},8,["class"])])])])}}}),_hoisted_1$b={class:"mt-4"},_hoisted_2$9={key:0,class:"py-4 text-center"},_hoisted_3$9={key:1,class:"max-h-[400px] flex flex-col overflow-y-auto"},_hoisted_4$9={class:"mb-2 flex items-center gap-2"},_hoisted_5$8=["src"],_hoisted_6$6=["href"],_sfc_main$D=defineComponent({__name:"PostTaskDialog",props:{post:{},open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const o=t,a=e,n=computed({get:()=>o.open,set:d=>a("update:open",d)}),s=ref(null),l=ref(!1);async function i(){if(o.post)try{window.$syncer?.addTask({post:{title:o.post.title,content:o.post.content,markdown:o.post.markdown,thumb:o.post.thumb,desc:o.post.desc},accounts:o.post.accounts.filter(d=>d.checked)},d=>{s.value=d},()=>{l.value=!1})}catch(d){console.error("发布失败:",d)}}return watch(()=>o.open,d=>{d&&i()}),(d,f)=>(openBlock(),createBlock(unref(_sfc_main$1I),{open:unref(n),"onUpdate:open":f[0]||(f[0]=u=>isRef(n)?n.value=u:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1H),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1A),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1z),null,{default:withCtx(()=>[...f[1]||(f[1]=[createTextVNode("提交发布任务",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$b,[unref(s)?(openBlock(),createElementBlock("div",_hoisted_3$9,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s)?.accounts,u=>(openBlock(),createElementBlock("div",{key:u.uid+u.displayName,class:"border-b py-4 last:border-b-0"},[createBaseVNode("div",_hoisted_4$9,[u.icon?(openBlock(),createElementBlock("img",{key:0,src:u.icon,class:"object-cover h-5 w-5",alt:""},null,8,_hoisted_5$8)):createCommentVNode("",!0),createBaseVNode("span",null,toDisplayString(u.title)+" - "+toDisplayString(u.displayName||u.home),1)]),createBaseVNode("div",{class:normalizeClass(["w-full flex-1 gap-2 overflow-auto pl-7 text-sm",{"text-yellow-600":u.status==="uploading","text-red-600":u.status==="failed","text-green-600":u.status==="done"}])},[u.status==="uploading"?(openBlock(),createElementBlock(Fragment,{key:0},[createTextVNode(toDisplayString(u.msg||"发布中"),1)],64)):createCommentVNode("",!0),u.status==="failed"?(openBlock(),createElementBlock(Fragment,{key:1},[createTextVNode(" 同步失败, 错误内容："+toDisplayString(u.error),1)],64)):createCommentVNode("",!0),u.status==="done"&&u.editResp?(openBlock(),createElementBlock(Fragment,{key:2},[f[2]||(f[2]=createTextVNode(" 同步成功 ",-1)),u.type!=="wordpress"&&u.editResp?(openBlock(),createElementBlock("a",{key:0,href:u.editResp.draftLink,class:"ml-2 text-blue-500 hover:underline",referrerPolicy:"no-referrer",target:"_blank"},"查看草稿",8,_hoisted_6$6)):createCommentVNode("",!0)],64)):createCommentVNode("",!0)],2)]))),128))])):(openBlock(),createElementBlock("div",_hoisted_2$9," 等待发布.. "))])]),_:1})]),_:1},8,["open"]))}}),__unplugin_components_13=_export_sfc(_sfc_main$D,[["__scopeId","data-v-4d169344"]]),_sfc_main$C=defineComponent({__name:"AlertDescription",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)("text-sm [&_p]:leading-relaxed",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$B=defineComponent({__name:"AlertTitle",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("h5",{class:normalizeClass(unref(cn)("mb-1 font-medium leading-none tracking-tight",e.class))},[renderSlot(o.$slots,"default")],2))}}),alertVariants=cva("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),_sfc_main$A=defineComponent({__name:"Alert",props:{class:{},variant:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("div",{class:normalizeClass(unref(cn)(unref(alertVariants)({variant:t.variant}),e.class)),role:"alert"},[renderSlot(o.$slots,"default")],2))}}),_hoisted_1$a={class:"w-full flex items-center gap-4"},_hoisted_2$8={class:"w-full flex items-center gap-4"},_hoisted_3$8={class:"w-full flex items-start gap-4"},_hoisted_4$8={class:"w-full flex items-start gap-4"},_hoisted_5$7={class:"flex flex-1 flex-col gap-2"},_hoisted_6$5={class:"flex flex-row items-center gap-4"},_hoisted_7$3={class:"flex items-center gap-2 text-sm"},_hoisted_8$2=["src"],_sfc_main$z=defineComponent({inheritAttrs:!1,__name:"PostInfo",setup(t){const e=useEditorStore(),{editor:o}=storeToRefs(e),a=useRenderStore(),{output:n}=storeToRefs(a),s=useUIStore(),{isMobile:l}=storeToRefs(s),i=ref(!1),d=ref(!1),f=ref([]),u=ref(!1),p=ref({title:"",desc:"",thumb:"",content:"",markdown:"",accounts:[]}),b=computed(()=>d.value&&p.value.accounts.some(x=>x.checked));async function h(){d.value&&f.value.length===0&&await _();let x={thumb:"",title:"",desc:"",content:"",markdown:"",accounts:[]};const m=f.value.filter(G=>!["ipfs"].includes(G.type));try{x={thumb:document.querySelector("#output img")?.src??"",title:[1,2,3,4,5,6].map(G=>document.querySelector(`#output h${G}`)).find(G=>G)?.textContent??"",desc:document.querySelector("#output p")?.textContent?.trim()??"",content:n.value,markdown:o.value?.state.doc.toString()??"",accounts:m}}catch(G){console.log("error",G)}finally{p.value={...x}}}async function _(){return new Promise(x=>{window.$syncer?.getAccounts(m=>{f.value=m.map(G=>({...G,checked:!0})),x()})})}function C(){p.value.accounts=p.value.accounts.filter(x=>x.checked),u.value=!0,i.value=!1}function g(x){x||(i.value=!1)}function w(){if(window.$syncer!==void 0){d.value=!0;return}let x=0;const m=setInterval(async()=>{if(window.$syncer!==void 0){d.value=!0,await _(),clearInterval(m);return}x++,x>10&&clearInterval(m)},500)}return onBeforeMount(()=>{w()}),(x,m)=>{const G=_sfc_main$1O,N=_sfc_main$Q,T=_sfc_main$1z,M=_sfc_main$1A,E=_sfc_main$B,Q=_sfc_main$C,K=_sfc_main$A,V=_sfc_main$1F,y=_sfc_main$1B,A=_sfc_main$1D,H=_sfc_main$1x,ae=_sfc_main$1H,ee=_sfc_main$1I,U=__unplugin_components_13;return openBlock(),createElementBlock("div",normalizeProps(guardReactiveProps(x.$attrs)),[createVNode(ee,{open:unref(i),"onUpdate:open":[m[4]||(m[4]=j=>isRef(i)?i.value=j:null),g]},{default:withCtx(()=>[createVNode(N,null,{default:withCtx(()=>[unref(l)?createCommentVNode("",!0):(openBlock(),createBlock(G,{key:0,variant:"outline",onClick:h},{default:withCtx(()=>[...m[6]||(m[6]=[createTextVNode(" 发布 ",-1)])]),_:1}))]),_:1}),createVNode(ae,null,{default:withCtx(()=>[createVNode(M,null,{default:withCtx(()=>[createVNode(T,null,{default:withCtx(()=>[...m[7]||(m[7]=[createTextVNode("发布",-1)])]),_:1})]),_:1}),createVNode(K,null,{default:withCtx(()=>[createVNode(unref(Info),{class:"h-4 w-4"}),createVNode(E,null,{default:withCtx(()=>[...m[8]||(m[8]=[createTextVNode("提示",-1)])]),_:1}),createVNode(Q,null,{default:withCtx(()=>[...m[9]||(m[9]=[createTextVNode(" 此功能由第三方浏览器插件支持，本平台不保证安全性及同步准确度。 ",-1)])]),_:1})]),_:1}),unref(d)?createCommentVNode("",!0):(openBlock(),createBlock(K,{key:0},{default:withCtx(()=>[createVNode(unref(Info),{class:"h-4 w-4"}),createVNode(E,null,{default:withCtx(()=>[...m[10]||(m[10]=[createTextVNode("未检测到插件",-1)])]),_:1}),createVNode(Q,null,{default:withCtx(()=>[m[12]||(m[12]=createTextVNode(" 请安装 ",-1)),createVNode(unref(O),{as:"a",class:"text-blue-500",href:"https://www.wechatsync.com/?utm_source=syncicon#install",target:"_blank"},{default:withCtx(()=>[...m[11]||(m[11]=[createTextVNode(" 文章同步助手 ",-1)])]),_:1}),m[13]||(m[13]=createTextVNode(" 插件 ",-1))]),_:1})]),_:1})),createBaseVNode("div",_hoisted_1$a,[createVNode(V,{for:"thumb",class:"w-10 text-end"},{default:withCtx(()=>[...m[14]||(m[14]=[createTextVNode(" 封面 ",-1)])]),_:1}),createVNode(y,{id:"thumb",modelValue:unref(p).thumb,"onUpdate:modelValue":m[0]||(m[0]=j=>unref(p).thumb=j),placeholder:"自动提取第一张图"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_2$8,[createVNode(V,{for:"title",class:"w-10 text-end"},{default:withCtx(()=>[...m[15]||(m[15]=[createTextVNode(" 标题 ",-1)])]),_:1}),createVNode(y,{id:"title",modelValue:unref(p).title,"onUpdate:modelValue":m[1]||(m[1]=j=>unref(p).title=j),placeholder:"自动提取第一个标题"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_3$8,[createVNode(V,{for:"desc",class:"w-10 text-end"},{default:withCtx(()=>[...m[16]||(m[16]=[createTextVNode(" 描述 ",-1)])]),_:1}),createVNode(A,{id:"desc",modelValue:unref(p).desc,"onUpdate:modelValue":m[2]||(m[2]=j=>unref(p).desc=j),placeholder:"自动提取第一个段落"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_4$8,[createVNode(V,{class:"w-10 text-end"},{default:withCtx(()=>[...m[17]||(m[17]=[createTextVNode(" 账号 ",-1)])]),_:1}),createBaseVNode("div",_hoisted_5$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(p).accounts,j=>(openBlock(),createElementBlock("div",{key:j.uid+j.displayName,class:"flex items-center gap-2"},[createBaseVNode("label",_hoisted_6$5,[createVNode(unref(Wv),{checked:j.checked,"onUpdate:checked":ue=>j.checked=ue,class:"bg-background hover:bg-muted h-[25px] w-[25px] flex appearance-none items-center justify-center border border-gray-200 rounded-[4px] outline-hidden"},{default:withCtx(()=>[createVNode(unref(jv),null,{default:withCtx(()=>[j.checked?(openBlock(),createBlock(unref(Check),{key:0,class:"h-4 w-4"})):createCommentVNode("",!0)]),_:2},1024)]),_:2},1032,["checked","onUpdate:checked"]),createBaseVNode("span",_hoisted_7$3,[createBaseVNode("img",{src:j.icon,alt:"",class:"inline-block h-[20px] w-[20px]"},null,8,_hoisted_8$2),createTextVNode(" "+toDisplayString(j.title)+" - "+toDisplayString(j.displayName??j.home),1)])])]))),128))])]),createVNode(H,null,{default:withCtx(()=>[createVNode(G,{variant:"outline",onClick:m[3]||(m[3]=j=>i.value=!1)},{default:withCtx(()=>[...m[18]||(m[18]=[createTextVNode(" 取 消 ",-1)])]),_:1}),createVNode(G,{disabled:!unref(b),onClick:C},{default:withCtx(()=>[...m[19]||(m[19]=[createTextVNode(" 确 定 ",-1)])]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1},8,["open"]),createVNode(U,{open:unref(u),"onUpdate:open":m[5]||(m[5]=j=>isRef(u)?u.value=j:null),post:unref(p)},null,8,["open","post"])],16)}}}),_sfc_main$y=defineComponent({__name:"MenubarMenu",props:{value:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(Gh),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$x=defineComponent({__name:"MenubarContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},side:{},sideOffset:{default:8},align:{default:"start"},alignOffset:{default:-4},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Yh),null,{default:withCtx(()=>[createVNode(unref(Xh),mergeProps(unref(a),{class:unref(cn)("z-50 min-w-48 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$w=defineComponent({__name:"MenubarTrigger",props:{disabled:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(qh),mergeProps(unref(a),{class:unref(cn)("flex cursor-default select-none items-center rounded-sm px-3 py-1.5 text-sm font-medium outline-hidden hover:bg-accent focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$v=defineComponent({__name:"Menubar",props:{modelValue:{},defaultValue:{},dir:{},loop:{type:Boolean},class:{}},emits:["update:modelValue"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Uh),mergeProps(unref(s),{class:unref(cn)("flex h-10 items-center gap-x-1 rounded-md border bg-background p-1",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$u=defineComponent({__name:"MenubarSub",props:{defaultOpen:{type:Boolean},open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(sy),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$t=defineComponent({__name:"MenubarSubContent",props:{forceMount:{type:Boolean},loop:{type:Boolean},sideOffset:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","entryFocus","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Yh),null,{default:withCtx(()=>[createVNode(unref(ry),mergeProps(unref(s),{class:unref(cn)("z-50 min-w-32 overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_hoisted_1$9={class:"absolute left-2 h-3.5 w-3.5 flex items-center justify-center"},_sfc_main$s=defineComponent({__name:"MenubarCheckboxItem",props:{checked:{type:[Boolean,String]},disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{}},emits:["select","update:checked"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(ty),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",o.class)}),{default:withCtx(()=>[createBaseVNode("span",_hoisted_1$9,[createVNode(unref(ay),null,{default:withCtx(()=>[createVNode(unref(Check),{class:"h-4 w-4"})]),_:1})]),renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$r=defineComponent({__name:"MenubarSubTrigger",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(iy),mergeProps(unref(a),{class:unref(cn)("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-[state=open]:bg-accent data-[state=open]:text-accent-foreground",t.inset&&"pl-8",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default"),createVNode(unref(ChevronRight),{class:"ml-auto h-4 w-4"})]),_:3},16,["class"]))}}),_sfc_main$q=defineComponent({__name:"HelpDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openAbout","openFund"],setup(t,{emit:e}){const o=t,a=e,{asSub:n}=toRefs(o);function s(){a("openAbout")}function l(){a("openFund")}return(i,d)=>{const f=_sfc_main$r,u=_sfc_main$s,p=_sfc_main$t,b=_sfc_main$u,h=_sfc_main$w,_=_sfc_main$x,C=_sfc_main$y;return unref(n)?(openBlock(),createBlock(b,{key:0},{default:withCtx(()=>[createVNode(f,null,{default:withCtx(()=>[...d[4]||(d[4]=[createTextVNode(" 帮助 ",-1)])]),_:1}),createVNode(p,{align:"start"},{default:withCtx(()=>[createVNode(u,{onClick:d[0]||(d[0]=g=>s())},{default:withCtx(()=>[...d[5]||(d[5]=[createTextVNode(" 关于 ",-1)])]),_:1}),createVNode(u,{onClick:d[1]||(d[1]=g=>l())},{default:withCtx(()=>[...d[6]||(d[6]=[createTextVNode(" 赞赏 ",-1)])]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(C,{key:1},{default:withCtx(()=>[createVNode(h,null,{default:withCtx(()=>[...d[7]||(d[7]=[createTextVNode("帮助",-1)])]),_:1}),createVNode(_,{align:"start"},{default:withCtx(()=>[createVNode(u,{onClick:d[2]||(d[2]=g=>s())},{default:withCtx(()=>[...d[8]||(d[8]=[createBaseVNode("span",null,"关于",-1)])]),_:1}),createVNode(u,{onClick:d[3]||(d[3]=g=>l())},{default:withCtx(()=>[...d[9]||(d[9]=[createBaseVNode("span",null,"赞赏",-1)])]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$p=defineComponent({__name:"HoverCard",props:{defaultOpen:{type:Boolean},open:{type:Boolean},openDelay:{},closeDelay:{}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Rh),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$o=defineComponent({__name:"HoverCardContent",props:{forceMount:{type:Boolean},side:{},sideOffset:{default:4},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(Oh),null,{default:withCtx(()=>[createVNode(unref(kh),mergeProps(unref(a),{class:unref(cn)("z-50 w-64 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e.class)}),{default:withCtx(()=>[renderSlot(n.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$n=defineComponent({__name:"HoverCardTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(Ah),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$m=defineComponent({__name:"MenubarSeparator",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const e=t,o=computed(()=>{const{class:n,...s}=e;return s}),a=Ot(o);return(n,s)=>(openBlock(),createBlock(unref(ey),mergeProps({class:unref(cn)("-mx-1 my-1 h-px bg-muted",e.class)},unref(a)),null,16,["class"]))}}),_sfc_main$l=defineComponent({__name:"DropdownMenuShortcut",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest opacity-60",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$k=defineComponent({__name:"StyleOptionMenu",props:{title:{},options:{},current:{},change:{type:Function}},setup(t){const e=t;function o(a,n){switch(a){case"字体":return{fontFamily:n};case"字号":return{fontSize:n};case"主题色":return{color:n};default:return{}}}return(a,n)=>{const s=_sfc_main$r,l=_sfc_main$l,i=_sfc_main$s,d=_sfc_main$t,f=_sfc_main$u;return openBlock(),createBlock(f,null,{default:withCtx(()=>[createVNode(s,null,{default:withCtx(()=>[n[0]||(n[0]=createBaseVNode("span",{class:"mr-2 h-4 w-4"},null,-1)),createBaseVNode("span",null,toDisplayString(e.title),1)]),_:1}),createVNode(d,{class:"max-h-56 overflow-auto"},{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(t.options,({label:u,value:p,desc:b})=>(openBlock(),createBlock(i,{key:p,label:u,"model-value":p,class:"w-50",checked:t.current===p,onClick:h=>t.change(p)},{default:withCtx(()=>[createTextVNode(toDisplayString(u)+" ",1),createVNode(l,{style:normalizeStyle(o(t.title,p))},{default:withCtx(()=>[createTextVNode(toDisplayString(b),1)]),_:2},1032,["style"])]),_:2},1032,["label","model-value","checked","onClick"]))),128))]),_:1})]),_:1})}}}),_sfc_main$j=defineComponent({__name:"StyleDropdown",props:{asSub:{type:Boolean,default:!1}},setup(t){const e=t,{asSub:o}=toRefs(e),a=useThemeStore(),n=useUIStore(),s=useEditorStore(),l=useRenderStore(),i=useCssEditorStore(),{toggleShowCssEditor:d}=n,{theme:f,fontFamily:u,fontSize:p,primaryColor:b,codeBlockTheme:h,legend:_,isMacCodeBlock:C}=storeToRefs(a),{isDark:g}=storeToRefs(n);function w(){a.updateCodeTheme();const ee=s.getContent();l.render(ee,{isCiteStatus:a.isCiteStatus,legend:a.legend,isUseIndent:a.isUseIndent,isUseJustify:a.isUseJustify,isCountStatus:a.isCountStatus,isMacCodeBlock:a.isMacCodeBlock,isShowLineNumber:a.isShowLineNumber})}function x(ee){a.theme=ee,l.updateTheme(i.getCurrentTabContent(),themeMap[ee],a.fontFamily,a.fontSize,a.primaryColor),w()}function m(ee){a.fontFamily=ee,l.updateTheme(i.getCurrentTabContent(),themeMap[a.theme],ee,a.fontSize,a.primaryColor),w()}function G(ee){a.fontSize=ee,l.updateTheme(i.getCurrentTabContent(),themeMap[a.theme],a.fontFamily,ee,a.primaryColor),w()}function N(ee){a.primaryColor=ee,l.updateTheme(i.getCurrentTabContent(),themeMap[a.theme],a.fontFamily,a.fontSize,ee),w()}function T(ee){a.codeBlockTheme=ee,w()}function M(ee){a.legend=ee,w()}function E(){a.isMacCodeBlock=!a.isMacCodeBlock,w()}function Q(){n.isOpenConfirmDialog=!0}const K=ref(null);function V(){K.value?.show()}function y(){d()}const A=useTemplateRef("pickColorsContainer"),H=ref("rgb"),ae=ref(["rgb","hex","hsl","hsv"]);return(ee,U)=>{const j=_sfc_main$r,ue=_sfc_main$k,re=_sfc_main$m,J=_sfc_main$n,L=_sfc_main$o,oe=_sfc_main$p,S=_sfc_main$s,I=_sfc_main$t,Z=_sfc_main$u,me=_sfc_main$w,ie=_sfc_main$x,te=_sfc_main$y;return unref(o)?(openBlock(),createBlock(Z,{key:0},{default:withCtx(()=>[createVNode(j,null,{default:withCtx(()=>[...U[2]||(U[2]=[createTextVNode(" 样式 ",-1)])]),_:1}),createVNode(I,{class:"w-56"},{default:withCtx(()=>[createVNode(ue,{title:"主题",options:unref(themeOptions),current:unref(f),change:x},null,8,["options","current"]),createVNode(re),createVNode(ue,{title:"字体",options:unref(fontFamilyOptions),current:unref(u),change:m},null,8,["options","current"]),createVNode(ue,{title:"字号",options:unref(fontSizeOptions),current:unref(p),change:G},null,8,["options","current"]),createVNode(ue,{title:"主题色",options:unref(colorOptions),current:unref(b),change:N},null,8,["options","current"]),createVNode(ue,{title:"代码块主题",options:unref(codeBlockThemeOptions),current:unref(h),change:T},null,8,["options","current"]),createVNode(ue,{title:"图注格式",options:unref(legendOptions),current:unref(_),change:M},null,8,["options","current"]),createVNode(re),createVNode(S,{onClick:withModifiers(V,["self","prevent"])},{default:withCtx(()=>[createVNode(oe,{"open-delay":100},{default:withCtx(()=>[createVNode(J,{class:"w-full flex"},{default:withCtx(()=>[...U[3]||(U[3]=[createTextVNode(" 自定义主题色 ",-1)])]),_:1}),createVNode(L,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:A},[createVNode(unref(Re),{value:unref(b),"onUpdate:value":U[0]||(U[0]=Y=>isRef(b)?b.value=Y:null),"show-alpha":"",format:unref(H),"format-options":unref(ae),theme:unref(g)?"dark":"light","popup-container":unref(A),onChange:N},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),createVNode(S,{onClick:y},{default:withCtx(()=>[...U[4]||(U[4]=[createTextVNode(" 自定义 CSS ",-1)])]),_:1}),createVNode(re),createVNode(S,{checked:unref(C),onClick:E},{default:withCtx(()=>[...U[5]||(U[5]=[createTextVNode(" Mac 代码块 ",-1)])]),_:1},8,["checked"]),createVNode(re),createVNode(S,{divided:"",onClick:Q},{default:withCtx(()=>[...U[6]||(U[6]=[createTextVNode(" 重置 ",-1)])]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(te,{key:1},{default:withCtx(()=>[createVNode(me,null,{default:withCtx(()=>[...U[7]||(U[7]=[createTextVNode(" 样式 ",-1)])]),_:1}),createVNode(ie,{class:"w-56",align:"start"},{default:withCtx(()=>[createVNode(ue,{title:"主题",options:unref(themeOptions),current:unref(f),change:x},null,8,["options","current"]),createVNode(re),createVNode(ue,{title:"字体",options:unref(fontFamilyOptions),current:unref(u),change:m},null,8,["options","current"]),createVNode(ue,{title:"字号",options:unref(fontSizeOptions),current:unref(p),change:G},null,8,["options","current"]),createVNode(ue,{title:"主题色",options:unref(colorOptions),current:unref(b),change:N},null,8,["options","current"]),createVNode(ue,{title:"代码块主题",options:unref(codeBlockThemeOptions),current:unref(h),change:T},null,8,["options","current"]),createVNode(ue,{title:"图注格式",options:unref(legendOptions),current:unref(_),change:M},null,8,["options","current"]),createVNode(re),createVNode(S,{onClick:withModifiers(V,["self","prevent"])},{default:withCtx(()=>[createVNode(oe,{"open-delay":100},{default:withCtx(()=>[createVNode(J,{class:"w-full flex"},{default:withCtx(()=>[...U[8]||(U[8]=[createTextVNode(" 自定义主题色 ",-1)])]),_:1}),createVNode(L,{side:"right",class:"w-min"},{default:withCtx(()=>[createBaseVNode("div",{ref_key:"pickColorsContainer",ref:A},[createVNode(unref(Re),{value:unref(b),"onUpdate:value":U[1]||(U[1]=Y=>isRef(b)?b.value=Y:null),"show-alpha":"",format:unref(H),"format-options":unref(ae),theme:unref(g)?"dark":"light","popup-container":unref(A),onChange:N},null,8,["value","format","format-options","theme","popup-container"])],512)]),_:1})]),_:1})]),_:1}),createVNode(S,{onClick:y},{default:withCtx(()=>[...U[9]||(U[9]=[createTextVNode(" 自定义 CSS ",-1)])]),_:1}),createVNode(re),createVNode(S,{checked:unref(C),onClick:E},{default:withCtx(()=>[...U[10]||(U[10]=[createTextVNode(" Mac 代码块 ",-1)])]),_:1},8,["checked"]),createVNode(re),createVNode(S,{divided:"",onClick:Q},{default:withCtx(()=>[...U[11]||(U[11]=[createTextVNode(" 重置 ",-1)])]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$i=defineComponent({__name:"MenubarItem",props:{disabled:{type:Boolean},textValue:{},asChild:{type:Boolean},as:{},class:{},inset:{type:Boolean}},emits:["select"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(Jh),mergeProps(unref(s),{class:unref(cn)("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-hidden focus:bg-accent focus:text-accent-foreground data-disabled:pointer-events-none data-disabled:opacity-50",t.inset&&"pl-8",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_sfc_main$h=defineComponent({__name:"EditDropdown",props:{asSub:{type:Boolean,default:!1}},setup(t){const e=t,{asSub:o}=toRefs(e),a=useEditorStore(),n=useUIStore(),{toggleShowInsertFormDialog:s,toggleShowUploadImgDialog:l,toggleShowInsertMpCardDialog:i}=n;async function d(){const b=a.getSelection();copyPlain(b)}async function f(){try{const b=await navigator.clipboard.readText();a.replaceSelection(b)}catch(b){console.log("粘贴失败",b)}}function u(){console.log("Undo should be handled by keyboard shortcuts")}function p(){console.log("Redo should be handled by keyboard shortcuts")}return(b,h)=>{const _=_sfc_main$r,C=_sfc_main$i,g=_sfc_main$m,w=_sfc_main$t,x=_sfc_main$u,m=_sfc_main$w,G=_sfc_main$x,N=_sfc_main$y;return unref(o)?(openBlock(),createBlock(x,{key:0},{default:withCtx(()=>[createVNode(_,null,{default:withCtx(()=>[...h[14]||(h[14]=[createTextVNode(" 编辑 ",-1)])]),_:1}),createVNode(w,null,{default:withCtx(()=>[createVNode(C,{onClick:h[0]||(h[0]=T=>u())},{default:withCtx(()=>[createVNode(unref(Undo2),{class:"mr-2 h-4 w-4"}),h[15]||(h[15]=createTextVNode(" 撤销 ",-1))]),_:1}),createVNode(C,{onClick:h[1]||(h[1]=T=>p())},{default:withCtx(()=>[createVNode(unref(Redo2),{class:"mr-2 h-4 w-4"}),h[16]||(h[16]=createTextVNode(" 重做 ",-1))]),_:1}),createVNode(g),createVNode(C,{onClick:h[2]||(h[2]=T=>unref(l)())},{default:withCtx(()=>[createVNode(unref(CloudUpload),{class:"mr-2 h-4 w-4"}),h[17]||(h[17]=createTextVNode(" 上传图片 ",-1))]),_:1}),createVNode(C,{onClick:h[3]||(h[3]=T=>unref(s)())},{default:withCtx(()=>[createVNode(unref(Table),{class:"mr-2 h-4 w-4"}),h[18]||(h[18]=createTextVNode(" 插入表格 ",-1))]),_:1}),createVNode(C,{onClick:h[4]||(h[4]=T=>unref(i)())},{default:withCtx(()=>[createVNode(unref(ContactRound),{class:"mr-2 h-4 w-4"}),h[19]||(h[19]=createTextVNode(" 插入公众号名片 ",-1))]),_:1}),createVNode(g),createVNode(C,{onClick:h[5]||(h[5]=T=>d())},{default:withCtx(()=>[createVNode(unref(Copy),{class:"mr-2 h-4 w-4"}),h[20]||(h[20]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode(C,{onClick:h[6]||(h[6]=T=>f())},{default:withCtx(()=>[createVNode(unref(ClipboardPaste),{class:"mr-2 h-4 w-4"}),h[21]||(h[21]=createTextVNode(" 粘贴 ",-1))]),_:1})]),_:1})]),_:1})):(openBlock(),createBlock(N,{key:1},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[...h[22]||(h[22]=[createTextVNode(" 编辑 ",-1)])]),_:1}),createVNode(G,{align:"start"},{default:withCtx(()=>[createVNode(C,{onClick:h[7]||(h[7]=T=>u())},{default:withCtx(()=>[createVNode(unref(Undo2),{class:"mr-2 h-4 w-4"}),h[23]||(h[23]=createTextVNode(" 撤销 ",-1))]),_:1}),createVNode(C,{onClick:h[8]||(h[8]=T=>p())},{default:withCtx(()=>[createVNode(unref(Redo2),{class:"mr-2 h-4 w-4"}),h[24]||(h[24]=createTextVNode(" 重做 ",-1))]),_:1}),createVNode(g),createVNode(C,{onClick:h[9]||(h[9]=T=>unref(l)())},{default:withCtx(()=>[createVNode(unref(CloudUpload),{class:"mr-2 h-4 w-4"}),h[25]||(h[25]=createTextVNode(" 上传图片 ",-1))]),_:1}),createVNode(C,{onClick:h[10]||(h[10]=T=>unref(s)())},{default:withCtx(()=>[createVNode(unref(Table),{class:"mr-2 h-4 w-4"}),h[26]||(h[26]=createTextVNode(" 插入表格 ",-1))]),_:1}),createVNode(C,{onClick:h[11]||(h[11]=T=>unref(i)())},{default:withCtx(()=>[createVNode(unref(ContactRound),{class:"mr-2 h-4 w-4"}),h[27]||(h[27]=createTextVNode(" 插入公众号名片 ",-1))]),_:1}),createVNode(g),createVNode(C,{onClick:h[12]||(h[12]=T=>d())},{default:withCtx(()=>[createVNode(unref(Copy),{class:"mr-2 h-4 w-4"}),h[28]||(h[28]=createTextVNode(" 复制 ",-1))]),_:1}),createVNode(C,{onClick:h[13]||(h[13]=T=>f())},{default:withCtx(()=>[createVNode(unref(ClipboardPaste),{class:"mr-2 h-4 w-4"}),h[29]||(h[29]=createTextVNode(" 粘贴 ",-1))]),_:1})]),_:1})]),_:1}))}}}),_sfc_main$g=defineComponent({__name:"FileDropdown",props:{asSub:{type:Boolean,default:!1}},emits:["openEditorState"],setup(t,{emit:e}){const o=t,a=e,{asSub:n}=toRefs(o),s=useEditorStore(),l=useExportStore(),i=useUIStore(),{isDark:d,isEditOnLeft:f,isOpenPostSlider:u}=storeToRefs(i),p=useImportMarkdownContent();function b(){a("openEditorState")}function h(){l.exportEditorContent2HTML()}function _(){l.exportEditorContent2PureHTML(s.getContent())}function C(){l.exportEditorContent2MD(s.getContent())}function g(){l.downloadAsCardImage()}function w(){l.exportEditorContent2PDF()}return(x,m)=>{const G=_sfc_main$r,N=_sfc_main$i,T=_sfc_main$m,M=_sfc_main$s,E=_sfc_main$t,Q=_sfc_main$u,K=_sfc_main$w,V=_sfc_main$x,y=_sfc_main$y;return unref(n)?(openBlock(),createBlock(Q,{key:0},{default:withCtx(()=>[createVNode(G,null,{default:withCtx(()=>[...m[20]||(m[20]=[createTextVNode(" 文件 ",-1)])]),_:1}),createVNode(E,null,{default:withCtx(()=>[createVNode(N,{onClick:m[0]||(m[0]=A=>unref(p)())},{default:withCtx(()=>[createVNode(unref(Upload),{class:"mr-2 size-4"}),m[21]||(m[21]=createTextVNode(" 导入 .md ",-1))]),_:1}),createVNode(N,{onClick:m[1]||(m[1]=A=>C())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),m[22]||(m[22]=createTextVNode(" 导出 .md ",-1))]),_:1}),createVNode(N,{onClick:m[2]||(m[2]=A=>h())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),m[23]||(m[23]=createTextVNode(" 导出 .html ",-1))]),_:1}),createVNode(N,{onClick:m[3]||(m[3]=A=>_())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),m[24]||(m[24]=createTextVNode(" 导出 .html（无样式） ",-1))]),_:1}),createVNode(N,{onClick:m[4]||(m[4]=A=>w())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),m[25]||(m[25]=createTextVNode(" 导出 .pdf ",-1))]),_:1}),createVNode(N,{onClick:m[5]||(m[5]=A=>g())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),m[26]||(m[26]=createTextVNode(" 导出 .png ",-1))]),_:1}),createVNode(T),createVNode(N,{onClick:m[6]||(m[6]=A=>b())},{default:withCtx(()=>[createVNode(unref(FileCog),{class:"mr-2 size-4"}),m[27]||(m[27]=createTextVNode(" 导入/导出项目配置 ",-1))]),_:1}),createVNode(T),createVNode(M,{checked:unref(d),"onUpdate:checked":m[7]||(m[7]=A=>isRef(d)?d.value=A:null)},{default:withCtx(()=>[...m[28]||(m[28]=[createTextVNode(" 深色模式 ",-1)])]),_:1},8,["checked"]),createVNode(T),createVNode(M,{checked:unref(f),"onUpdate:checked":m[8]||(m[8]=A=>isRef(f)?f.value=A:null)},{default:withCtx(()=>[...m[29]||(m[29]=[createTextVNode(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),createVNode(T),createVNode(M,{checked:unref(u),"onUpdate:checked":m[9]||(m[9]=A=>isRef(u)?u.value=A:null)},{default:withCtx(()=>[...m[30]||(m[30]=[createTextVNode(" 内容管理 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1})):(openBlock(),createBlock(y,{key:1},{default:withCtx(()=>[createVNode(K,null,{default:withCtx(()=>[...m[31]||(m[31]=[createTextVNode(" 文件 ",-1)])]),_:1}),createVNode(V,{align:"start"},{default:withCtx(()=>[createVNode(N,{onClick:m[10]||(m[10]=A=>unref(p)())},{default:withCtx(()=>[createVNode(unref(Upload),{class:"mr-2 size-4"}),m[32]||(m[32]=createTextVNode(" 导入 .md ",-1))]),_:1}),createVNode(N,{onClick:m[11]||(m[11]=A=>C())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),m[33]||(m[33]=createTextVNode(" 导出 .md ",-1))]),_:1}),createVNode(N,{onClick:m[12]||(m[12]=A=>h())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),m[34]||(m[34]=createTextVNode(" 导出 .html ",-1))]),_:1}),createVNode(N,{onClick:m[13]||(m[13]=A=>_())},{default:withCtx(()=>[createVNode(unref(FileCode),{class:"mr-2 size-4"}),m[35]||(m[35]=createTextVNode(" 导出 .html（无样式） ",-1))]),_:1}),createVNode(N,{onClick:m[14]||(m[14]=A=>w())},{default:withCtx(()=>[createVNode(unref(FileText),{class:"mr-2 size-4"}),m[36]||(m[36]=createTextVNode(" 导出 .pdf ",-1))]),_:1}),createVNode(N,{onClick:m[15]||(m[15]=A=>g())},{default:withCtx(()=>[createVNode(unref(Download),{class:"mr-2 size-4"}),m[37]||(m[37]=createTextVNode(" 导出 .png ",-1))]),_:1}),createVNode(T),createVNode(N,{onClick:m[16]||(m[16]=A=>b())},{default:withCtx(()=>[createVNode(unref(FileCog),{class:"mr-2 size-4"}),m[38]||(m[38]=createTextVNode(" 导入/导出项目配置 ",-1))]),_:1}),createVNode(T),createVNode(M,{checked:unref(d),"onUpdate:checked":m[17]||(m[17]=A=>isRef(d)?d.value=A:null)},{default:withCtx(()=>[...m[39]||(m[39]=[createTextVNode(" 深色模式 ",-1)])]),_:1},8,["checked"]),createVNode(T),createVNode(M,{checked:unref(f),"onUpdate:checked":m[18]||(m[18]=A=>isRef(f)?f.value=A:null)},{default:withCtx(()=>[...m[40]||(m[40]=[createTextVNode(" 左侧编辑 ",-1)])]),_:1},8,["checked"]),createVNode(T),createVNode(M,{checked:unref(u),"onUpdate:checked":m[19]||(m[19]=A=>isRef(u)?u.value=A:null)},{default:withCtx(()=>[...m[41]||(m[41]=[createTextVNode(" 内容管理 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}))}}}),_sfc_main$f=defineComponent({__name:"Popover",props:{defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const n=Se(t,e);return(s,l)=>(openBlock(),createBlock(unref(Cs),normalizeProps(guardReactiveProps(unref(n))),{default:withCtx(()=>[renderSlot(s.$slots,"default")]),_:3},16))}}),_sfc_main$e=defineComponent({inheritAttrs:!1,__name:"PopoverContent",props:{forceMount:{type:Boolean},trapFocus:{type:Boolean},side:{},sideOffset:{default:4},align:{default:"center"},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},updatePositionStrategy:{},prioritizePosition:{type:Boolean},asChild:{type:Boolean},as:{},disableOutsidePointerEvents:{type:Boolean},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:e}){const o=t,a=e,n=computed(()=>{const{class:l,...i}=o;return i}),s=Se(n,a);return(l,i)=>(openBlock(),createBlock(unref(_s),null,{default:withCtx(()=>[createVNode(unref(Ss),mergeProps({...unref(s),...l.$attrs},{class:unref(cn)("z-200 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-hidden data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"])]),_:3}))}}),_sfc_main$d=defineComponent({__name:"PopoverTrigger",props:{asChild:{type:Boolean},as:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createBlock(unref(ws),normalizeProps(guardReactiveProps(e)),{default:withCtx(()=>[renderSlot(o.$slots,"default")]),_:3},16))}}),_sfc_main$c=defineComponent({__name:"MenubarShortcut",props:{class:{}},setup(t){const e=t;return(o,a)=>(openBlock(),createElementBlock("span",{class:normalizeClass(unref(cn)("ml-auto text-xs tracking-widest text-muted-foreground",e.class))},[renderSlot(o.$slots,"default")],2))}}),_sfc_main$b=defineComponent({__name:"FormatDropdown",props:{asSub:{type:Boolean,default:!1}},setup(t){const e=t,{asSub:o}=toRefs(e),a=useEditorStore(),n=useThemeStore(),s=useRenderStore(),l=usePostStore(),{editor:i}=storeToRefs(a),{isCiteStatus:d,isCountStatus:f}=storeToRefs(n);function u(){n.updateCodeTheme();const g=a.getContent();s.render(g,{isCiteStatus:n.isCiteStatus,legend:n.legend,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,isCountStatus:n.isCountStatus,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber})}async function p(){const g=await a.formatContent();g&&l.currentPost&&l.updatePostContent(l.currentPostId,g)}function b(){n.toggleCiteStatus(),u()}function h(){n.toggleCountStatus(),u()}function _(g){const w=i.value;if(i.value)switch(g){case`${ctrlKey}-B`:formatBold(w);break;case`${ctrlKey}-I`:formatItalic(w);break;case`${ctrlKey}-D`:formatStrikethrough(w);break;case`${ctrlKey}-K`:formatLink(w);break;case`${ctrlKey}-E`:formatCode(w);break;case`${ctrlKey}-H`:applyHeading(w,1);break;case`${ctrlKey}-U`:formatUnorderedList(w);break;case`${ctrlKey}-O`:formatOrderedList(w);break;case`${ctrlKey}-1`:applyHeading(w,1);break;case`${ctrlKey}-2`:applyHeading(w,2);break;case`${ctrlKey}-3`:applyHeading(w,3);break;case`${ctrlKey}-4`:applyHeading(w,4);break;case`${ctrlKey}-5`:applyHeading(w,5);break;case`${ctrlKey}-6`:applyHeading(w,6);break}}const C=[{label:"加粗",kbd:[ctrlSign,"B"],cmd:`${ctrlKey}-B`},{label:"斜体",kbd:[ctrlSign,"I"],cmd:`${ctrlKey}-I`},{label:"删除线",kbd:[ctrlSign,"D"],cmd:`${ctrlKey}-D`},{label:"超链接",kbd:[ctrlSign,"K"],cmd:`${ctrlKey}-K`},{label:"行内代码",kbd:[ctrlSign,"E"],cmd:`${ctrlKey}-E`},{label:"标题",kbd:[ctrlSign,"H"],cmd:`${ctrlKey}-H`},{label:"无序列表",kbd:[ctrlSign,"U"],cmd:`${ctrlKey}-U`},{label:"有序列表",kbd:[ctrlSign,"O"],cmd:`${ctrlKey}-O`},{label:"格式化",kbd:[altSign,shiftSign,"F"],cmd:"formatContent"}];return(g,w)=>{const x=_sfc_main$r,m=_sfc_main$c,G=_sfc_main$s,N=_sfc_main$m,T=_sfc_main$t,M=_sfc_main$u,E=_sfc_main$w,Q=_sfc_main$x,K=_sfc_main$y;return unref(o)?(openBlock(),createBlock(M,{key:0},{default:withCtx(()=>[createVNode(x,null,{default:withCtx(()=>[...w[4]||(w[4]=[createTextVNode(" 格式 ",-1)])]),_:1}),createVNode(T,{class:"w-60"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(C,({label:V,kbd:y,cmd:A})=>createVNode(G,{key:V,onClick:H=>A==="formatContent"?p():_(A)},{default:withCtx(()=>[createTextVNode(toDisplayString(V)+" ",1),createVNode(m,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y,H=>(openBlock(),createElementBlock("kbd",{key:H,class:"mx-1 bg-gray-2 dark:bg-stone-9"},toDisplayString(H),1))),128))]),_:2},1024)]),_:2},1032,["onClick"])),64)),createVNode(N),createVNode(G,{checked:unref(d),onClick:w[0]||(w[0]=V=>b())},{default:withCtx(()=>[...w[5]||(w[5]=[createTextVNode(" 微信外链转底部引用 ",-1)])]),_:1},8,["checked"]),createVNode(N),createVNode(G,{checked:unref(f),onClick:w[1]||(w[1]=V=>h())},{default:withCtx(()=>[...w[6]||(w[6]=[createTextVNode(" 统计字数和阅读时间 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1})):(openBlock(),createBlock(K,{key:1},{default:withCtx(()=>[createVNode(E,null,{default:withCtx(()=>[...w[7]||(w[7]=[createTextVNode(" 格式",-1)])]),_:1}),createVNode(Q,{class:"w-60",align:"start"},{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(C,({label:V,kbd:y,cmd:A})=>createVNode(G,{key:V,onClick:H=>A==="formatContent"?p():_(A)},{default:withCtx(()=>[createTextVNode(toDisplayString(V)+" ",1),createVNode(m,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(y,H=>(openBlock(),createElementBlock("kbd",{key:H,class:"mx-1 bg-gray-2 dark:bg-stone-9"},toDisplayString(H),1))),128))]),_:2},1024)]),_:2},1032,["onClick"])),64)),createVNode(N),createVNode(G,{checked:unref(d),onClick:w[2]||(w[2]=V=>b())},{default:withCtx(()=>[...w[8]||(w[8]=[createTextVNode(" 微信外链转底部引用 ",-1)])]),_:1},8,["checked"]),createVNode(N),createVNode(G,{checked:unref(f),onClick:w[3]||(w[3]=V=>h())},{default:withCtx(()=>[...w[9]||(w[9]=[createTextVNode(" 统计字数和阅读时间 ",-1)])]),_:1},8,["checked"])]),_:1})]),_:1}))}}}),_hoisted_1$8={class:"header-container h-15 flex flex-wrap items-center justify-between px-5 relative"},_hoisted_2$7={class:"space-x-2 hidden md:flex"},_hoisted_3$7={class:"md:hidden"},_hoisted_4$7={class:"space-x-2 flex flex-wrap items-center"},_hoisted_5$6={class:"bg-background space-x-1 text-background-foreground flex items-center border rounded-md"},_sfc_main$a=defineComponent({__name:"index",emits:["startCopy","endCopy"],setup(t,{emit:e}){const o=e,a=useEditorStore(),n=useThemeStore(),s=useRenderStore(),l=useUIStore(),i=useExportStore(),{editor:d}=storeToRefs(a),{output:f}=storeToRefs(s),{primaryColor:u}=storeToRefs(n),{isOpenRightSlider:p}=storeToRefs(l);function b(){n.updateCodeTheme();const K=a.getContent();s.render(K,{isCiteStatus:n.isCiteStatus,legend:n.legend,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,isCountStatus:n.isCountStatus,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber})}const h=ref(!1),_=ref(!1),C=ref(!1);function g(){h.value=!0}function w(){_.value=!0}function x(){C.value=!0}const m=store.reactive(addPrefix("copyMode"),"txt"),{copy:G}=useClipboard({legacy:!0}),N=K=>new Promise(V=>window.setTimeout(V,K)),T=K=>K instanceof Error?K.message:String(K);async function M(K){if(!navigator.clipboard?.write)throw new Error("Clipboard API not available.");await N(0),await navigator.clipboard.write(K)}function E(K){const V=window.getSelection();if(!V)return!1;const y=document.createElement("div");y.innerHTML=K,y.style.position="fixed",y.style.left="-9999px",y.style.top="0",y.style.opacity="0",y.style.pointerEvents="none",y.style.setProperty("background-color","#ffffff","important"),y.style.setProperty("color","#000000","important"),document.body.appendChild(y);const A=document.documentElement,H=A.classList.contains("dark");let ae=!1;try{H&&A.classList.remove("dark");const ee=document.createRange();ee.selectNodeContents(y),V.removeAllRanges(),V.addRange(ee),ae=document.execCommand("copy")}catch{ae=!1}finally{V.removeAllRanges(),y.remove(),H&&A.classList.add("dark")}return ae}async function Q(){if(m.value==="md"){const K=d.value?.state.doc.toString()||"";await G(K),toast.success("已复制 Markdown 源码到剪贴板。");return}o("startCopy"),setTimeout(()=>{nextTick(async()=>{await processClipboardContent(u.value);const K=document.getElementById("output");if(!K){toast.error("未找到复制输出区域，请刷新页面后重试。"),b(),o("endCopy");return}K.focus(),window.getSelection()?.removeAllRanges();const V=K.innerHTML;if(m.value==="txt")try{if(typeof ClipboardItem>"u")throw new TypeError("ClipboardItem is not supported in this browser.");const y=K.textContent||"",A=new ClipboardItem({"text/html":new Blob([V],{type:"text/html"}),"text/plain":new Blob([y],{type:"text/plain"})});await M([A])}catch(y){if(!E(V)){K.innerHTML=f.value,window.getSelection()?.removeAllRanges(),b(),toast.error(`复制失败，请联系开发者。${T(y)}`),o("endCopy");return}}K.innerHTML=f.value,m.value==="html"?await G(V):m.value==="html-without-style"?await G(await generatePureHTML(d.value.state.doc.toString())):m.value==="html-and-style"&&await G(i.editorContent2HTML()),toast.success(m.value==="html"?"已复制 HTML 源码，请进行下一步操作。":"已复制渲染后的内容到剪贴板，可直接到公众号后台粘贴。"),window.dispatchEvent(new CustomEvent("copyToMp",{detail:{content:f.value}})),b(),o("endCopy")})},350)}return(K,V)=>{const y=_sfc_main$g,A=_sfc_main$h,H=_sfc_main$j,ae=_sfc_main$q,ee=_sfc_main$v,U=_sfc_main$1O,j=_sfc_main$w,ue=_sfc_main$x,re=_sfc_main$y,J=_sfc_main$Z,L=_sfc_main$V,oe=_sfc_main$R,S=_sfc_main$T,I=_sfc_main$X,Z=_sfc_main$Y,me=_sfc_main$z,ie=_sfc_main$E,te=_sfc_main$F,Y=_sfc_main$G,R=_sfc_main$H,W=AIImageGeneratorPanel;return openBlock(),createElementBlock(Fragment,null,[createBaseVNode("header",_hoisted_1$8,[createBaseVNode("div",_hoisted_2$7,[createVNode(ee,{class:"menubar border-0"},{default:withCtx(()=>[createVNode(y,{onOpenEditorState:x}),createVNode(_sfc_main$b),createVNode(A),createVNode(H),createVNode(ae,{onOpenAbout:g,onOpenFund:w})]),_:1})]),createBaseVNode("div",_hoisted_3$7,[createVNode(ee,{class:"menubar border-0 p-0"},{default:withCtx(()=>[createVNode(re,null,{default:withCtx(()=>[createVNode(j,{class:"p-0"},{default:withCtx(()=>[createVNode(U,{variant:"outline",size:"icon"},{default:withCtx(()=>[createVNode(unref(Menu),{class:"size-4"})]),_:1})]),_:1}),createVNode(ue,{align:"start"},{default:withCtx(()=>[createVNode(y,{"as-sub":!0,onOpenEditorState:x}),createVNode(_sfc_main$b,{"as-sub":!0}),createVNode(A,{"as-sub":!0}),createVNode(H,{"as-sub":!0}),createVNode(ae,{"as-sub":!0,onOpenAbout:g,onOpenFund:w})]),_:1})]),_:1})]),_:1})]),createBaseVNode("div",_hoisted_4$7,[createBaseVNode("div",_hoisted_5$6,[createVNode(U,{variant:"ghost",class:"shadow-none text-sm px-2 md:px-4",onClick:Q},{default:withCtx(()=>[...V[7]||(V[7]=[createTextVNode(" 复制 ",-1)])]),_:1}),createVNode(J,{orientation:"vertical",class:"h-5"}),createVNode(Z,{modelValue:unref(m),"onUpdate:modelValue":V[1]||(V[1]=se=>isRef(m)?m.value=se:null)},{default:withCtx(()=>[createVNode(L,{"as-child":""},{default:withCtx(()=>[createVNode(U,{variant:"ghost",class:"px-2 shadow-none"},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:"text-secondary-foreground h-4 w-4"})]),_:1})]),_:1}),createVNode(I,{align:"end","align-offset":-5,class:"w-[220px]"},{default:withCtx(()=>[createVNode(S,{modelValue:unref(m),"onUpdate:modelValue":V[0]||(V[0]=se=>isRef(m)?m.value=se:null)},{default:withCtx(()=>[createVNode(oe,{value:"txt"},{default:withCtx(()=>[...V[8]||(V[8]=[createTextVNode(" 公众号格式 ",-1)])]),_:1}),createVNode(oe,{value:"html"},{default:withCtx(()=>[...V[9]||(V[9]=[createTextVNode(" HTML 格式 ",-1)])]),_:1}),createVNode(oe,{value:"html-without-style"},{default:withCtx(()=>[...V[10]||(V[10]=[createBaseVNode("span",{class:"whitespace-nowrap"},"HTML 格式（无样式）",-1)])]),_:1}),createVNode(oe,{value:"html-and-style"},{default:withCtx(()=>[...V[11]||(V[11]=[createBaseVNode("span",{class:"whitespace-nowrap"},"HTML 格式（兼容样式）",-1)])]),_:1}),createVNode(oe,{value:"md"},{default:withCtx(()=>[...V[12]||(V[12]=[createTextVNode(" MD 格式 ",-1)])]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["modelValue"])]),createVNode(me,{class:"hidden md:inline-flex"}),createVNode(unref(_sfc_main$f),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$d),{"as-child":""},{default:withCtx(()=>[createVNode(U,{variant:"outline",size:"icon",class:"mr-1"},{default:withCtx(()=>[createVNode(unref(SlidersHorizontal),{class:"size-4"})]),_:1})]),_:1}),createVNode(unref(_sfc_main$e),{align:"end"},{default:withCtx(()=>[createVNode(ie)]),_:1})]),_:1}),createVNode(U,{variant:"outline",size:"icon",onClick:V[2]||(V[2]=se=>p.value=!unref(p))},{default:withCtx(()=>[createVNode(unref(Palette),{class:"size-4"})]),_:1})])]),createVNode(te,{visible:unref(h),onClose:V[3]||(V[3]=se=>h.value=!1)},null,8,["visible"]),createVNode(Y,{visible:unref(_),onClose:V[4]||(V[4]=se=>_.value=!1)},null,8,["visible"]),createVNode(R,{visible:unref(C),onClose:V[5]||(V[5]=se=>C.value=!1)},null,8,["visible"]),createVNode(W,{open:unref(l).aiImageDialogVisible,"onUpdate:open":V[6]||(V[6]=se=>unref(l).aiImageDialogVisible=se)},null,8,["open"])],64)}}}),__unplugin_components_1=_export_sfc(_sfc_main$a,[["__scopeId","data-v-d9fa2eec"]]),useAIConfigStore=defineStore("AIConfig",()=>{const t=store.reactive("openai_type",DEFAULT_SERVICE_TYPE),e=store.reactive("openai_temperature",DEFAULT_SERVICE_TEMPERATURE),o=store.reactive("openai_max_token",DEFAULT_SERVICE_MAX_TOKEN),a=ref(""),n=ref(""),s=customRef((i,d)=>{let f="";return store.get(`openai_key_${t.value}`).then(u=>{f=u||DEFAULT_SERVICE_KEY}),{get(){return i(),f},set(u){f=u,d(),t.value!==DEFAULT_SERVICE_TYPE&&store.set(`openai_key_${t.value}`,u)}}});return watch(t,async i=>{const d=serviceOptions.find(u=>u.value===i)??serviceOptions[0];a.value=d.endpoint;const f=await store.get(`openai_model_${i}`)||"";n.value=d.models.includes(f)?f:d.models[0],await store.set(`openai_model_${i}`,n.value)},{immediate:!0}),watch(n,async i=>{await store.set(`openai_model_${t.value}`,i)}),{type:t,endpoint:a,model:n,temperature:e,maxToken:o,apiKey:s,reset:async()=>{t.value=DEFAULT_SERVICE_TYPE,e.value=DEFAULT_SERVICE_TEMPERATURE,o.value=DEFAULT_SERVICE_MAX_TOKEN,await Promise.all(serviceOptions.map(async({value:i})=>{await store.remove(`openai_key_${i}`),await store.remove(`openai_model_${i}`)}))}}}),_hoisted_1$7={class:"custom-scroll space-y-4 max-h-[calc(100dvh-10rem)] overflow-y-auto pr-1 text-xs sm:max-h-none sm:text-sm"},_hoisted_2$6={key:0},_hoisted_3$6={key:1},_hoisted_4$6={class:"mt-2 flex flex-col gap-2 sm:flex-row"},_hoisted_5$5={key:2,class:"mt-1 text-xs text-gray-500"},_sfc_main$9=defineComponent({__name:"AIConfig",emits:["saved"],setup(t,{emit:e}){const o=e,a=useAIConfigStore(),{type:n,endpoint:s,model:l,apiKey:i,temperature:d,maxToken:f}=storeToRefs(a),u=ref(!1),p=ref(""),b=computed(()=>serviceOptions.find(g=>g.value===n.value)||serviceOptions[0]);watch(n,()=>{p.value=""}),watch(l,()=>{p.value=""});function h(g=!0){g&&(p.value="✅ 配置已保存",o("saved"))}function _(){a.reset(),p.value="🗑️ 当前 AI 配置已清除"}async function C(){p.value="",u.value=!0;const g={"Content-Type":"application/json"};i.value&&n.value!==DEFAULT_SERVICE_TYPE&&(g.Authorization=`Bearer ${i.value}`);try{const w=new URL(s.value);w.pathname.endsWith("/chat/completions")||(w.pathname=w.pathname.replace(/\/?$/,"/chat/completions"));const x={model:l.value,messages:[{role:"user",content:"ping"}],temperature:0,max_tokens:1,stream:!1},m=await window.fetch(w.toString(),{method:"POST",headers:g,body:JSON.stringify(x)});if(m.ok)p.value="✅ 测试成功，/chat/completions 可用",h(!1);else{const G=await m.text();try{const{error:N}=JSON.parse(G);if(m.status===404&&(N?.code==="ModelNotOpen"||/not activated|未开通/i.test(N?.message))){p.value=`⚠️ 测试成功，但当前模型未开通：${l.value}`,h(!1);return}}catch{}p.value=`❌ 测试失败：${m.status} ${m.statusText}，${G}`}}catch(w){p.value=`❌ 测试失败：${w.message}`}finally{u.value=!1}}return(g,w)=>{const x=_sfc_main$1F,m=_sfc_main$1f,G=_sfc_main$1g,N=_sfc_main$1j,T=_sfc_main$1e,M=_sfc_main$1l,E=_sfc_main$1B,Q=_sfc_main$M,K=_sfc_main$N,V=_sfc_main$O,y=_sfc_main$P,A=_sfc_main$1O;return openBlock(),createElementBlock("div",_hoisted_1$7,[w[16]||(w[16]=createBaseVNode("div",{class:"font-medium"}," AI 配置 ",-1)),createBaseVNode("div",null,[createVNode(x,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...w[7]||(w[7]=[createTextVNode("服务类型",-1)])]),_:1}),createVNode(M,{modelValue:unref(n),"onUpdate:modelValue":w[0]||(w[0]=H=>isRef(n)?n.value=H:null)},{default:withCtx(()=>[createVNode(G,{class:"w-full"},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(b).label),1)]),_:1})]),_:1}),createVNode(T,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(serviceOptions),H=>(openBlock(),createBlock(N,{key:H.value,value:H.value},{default:withCtx(()=>[createTextVNode(toDisplayString(H.label),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])]),unref(n)!==unref(DEFAULT_SERVICE_TYPE)?(openBlock(),createElementBlock("div",_hoisted_2$6,[createVNode(x,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...w[8]||(w[8]=[createTextVNode("API 端点",-1)])]),_:1}),createVNode(E,{modelValue:unref(s),"onUpdate:modelValue":w[1]||(w[1]=H=>isRef(s)?s.value=H:null),placeholder:"输入 API 端点 URL",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):createCommentVNode("",!0),unref(n)!==unref(DEFAULT_SERVICE_TYPE)?(openBlock(),createElementBlock("div",_hoisted_3$6,[createVNode(x,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...w[9]||(w[9]=[createTextVNode("API 密钥",-1)])]),_:1}),createVNode(unref(_sfc_main$K),{modelValue:unref(i),"onUpdate:modelValue":w[2]||(w[2]=H=>isRef(i)?i.value=H:null),placeholder:"sk-...",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])])):createCommentVNode("",!0),createBaseVNode("div",null,[createVNode(x,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...w[10]||(w[10]=[createTextVNode("模型名称",-1)])]),_:1}),unref(b).models.length>0?(openBlock(),createBlock(M,{key:0,modelValue:unref(l),"onUpdate:modelValue":w[3]||(w[3]=H=>isRef(l)?l.value=H:null)},{default:withCtx(()=>[createVNode(G,{class:"w-full"},{default:withCtx(()=>[createVNode(m,null,{default:withCtx(()=>[createTextVNode(toDisplayString(unref(l)||"请选择模型"),1)]),_:1})]),_:1}),createVNode(T,null,{default:withCtx(()=>[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(b).models,H=>(openBlock(),createBlock(N,{key:H,value:H},{default:withCtx(()=>[createTextVNode(toDisplayString(H),1)]),_:2},1032,["value"]))),128))]),_:1})]),_:1},8,["modelValue"])):(openBlock(),createBlock(E,{key:1,modelValue:unref(l),"onUpdate:modelValue":w[4]||(w[4]=H=>isRef(l)?l.value=H:null),placeholder:"输入模型名称",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"]))]),createBaseVNode("div",null,[createVNode(x,{class:"mb-1 flex items-center gap-1 text-sm font-medium"},{default:withCtx(()=>[w[12]||(w[12]=createTextVNode(" 温度 ",-1)),createVNode(y,null,{default:withCtx(()=>[createVNode(V,null,{default:withCtx(()=>[createVNode(Q,{"as-child":""},{default:withCtx(()=>[createVNode(unref(Info),{class:"text-gray-500",size:16})]),_:1}),createVNode(K,null,{default:withCtx(()=>[...w[11]||(w[11]=[createBaseVNode("div",null,"控制输出的随机性：较低的值使输出更确定，较高的值使其更随机。",-1)])]),_:1})]),_:1})]),_:1})]),_:1}),createVNode(E,{modelValue:unref(d),"onUpdate:modelValue":w[5]||(w[5]=H=>isRef(d)?d.value=H:null),modelModifiers:{number:!0},type:"number",step:"0.1",min:"0",max:"2",placeholder:"0 ~ 2，默认 1",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),createBaseVNode("div",null,[createVNode(x,{class:"mb-1 block text-sm font-medium"},{default:withCtx(()=>[...w[13]||(w[13]=[createTextVNode("最大 Token 数",-1)])]),_:1}),createVNode(E,{modelValue:unref(f),"onUpdate:modelValue":w[6]||(w[6]=H=>isRef(f)?f.value=H:null),modelModifiers:{number:!0},type:"number",min:"1",max:"32768",placeholder:"比如 1024",class:"focus:border-gray-400 focus:ring-1 focus:ring-gray-300"},null,8,["modelValue"])]),createBaseVNode("div",_hoisted_4$6,[createVNode(A,{size:"sm",onClick:h},{default:withCtx(()=>[...w[14]||(w[14]=[createTextVNode(" 保存 ",-1)])]),_:1}),createVNode(A,{size:"sm",variant:"ghost",onClick:_},{default:withCtx(()=>[...w[15]||(w[15]=[createTextVNode(" 清空 ",-1)])]),_:1}),createVNode(A,{size:"sm",variant:"outline",disabled:unref(u),onClick:C},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(u)?"测试中...":"测试连接"),1)]),_:1},8,["disabled"])]),unref(p)?(openBlock(),createElementBlock("div",_hoisted_5$5,toDisplayString(unref(p)),1)):createCommentVNode("",!0)])}}}),__unplugin_components_0=_export_sfc(_sfc_main$9,[["__scopeId","data-v-f0efd325"]]),STORAGE_KEY="quick_commands";function hydrate(t){return{...t,buildPrompt:(e="")=>t.template.replace(/\{\{\s*sel\s*\}\}/gi,e)}}const DEFAULT_COMMANDS=[{id:"polish",label:"润色",template:`请润色以下内容：

{{sel}}`},{id:"to-en",label:"翻译成英文",template:`请将以下内容翻译为英文：

{{sel}}`},{id:"to-zh",label:"翻译成中文",template:`Please translate the following content into Chinese:

{{sel}}`},{id:"summary",label:"总结",template:`请对以下内容进行总结：

{{sel}}`}],useQuickCommands=defineStore("quickCommands",()=>{const t=ref([]);async function e(){const l=t.value.map(({id:i,label:d,template:f})=>({id:i,label:d,template:f}));await store.setJSON(STORAGE_KEY,l)}async function o(){const l=await store.getJSON(STORAGE_KEY);if(l&&Array.isArray(l))try{t.value=l.map(hydrate)}catch(i){console.warn("解析快捷指令失败，已恢复默认值",i),t.value=DEFAULT_COMMANDS.map(hydrate),await e()}else t.value=DEFAULT_COMMANDS.map(hydrate),await e()}function a(l,i){const d=crypto.randomUUID();t.value.push(hydrate({id:d,label:l,template:i}))}function n(l,i,d){const f=t.value.findIndex(u=>u.id===l);f!==-1&&(t.value[f]=hydrate({id:l,label:i,template:d}))}function s(l){t.value=t.value.filter(i=>i.id!==l)}return o(),watch(t,e,{deep:!0}),{commands:t,add:a,update:n,remove:s}}),_hoisted_1$6={class:"space-y-4 flex-1 overflow-y-auto pr-1"},_hoisted_2$5={class:"flex justify-end gap-2"},_hoisted_3$5={key:1,class:"flex items-center justify-between"},_hoisted_4$5={class:"break-all text-sm"},_hoisted_5$4={class:"flex gap-1"},_hoisted_6$4={class:"space-y-2 mt-4 border rounded-md p-3"},_sfc_main$8=defineComponent({__name:"QuickCommandManager",props:{open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const o=t,a=e,n=ref(o.open);watch(()=>o.open,C=>n.value=C),watch(n,C=>a("update:open",C));const s=useQuickCommands(),l=ref(""),i=ref("");function d(){!l.value.trim()||!i.value.trim()||(s.add(l.value.trim(),i.value.trim()),l.value="",i.value="")}const f=ref(null),u=ref(""),p=ref("");function b(C){f.value=C.id,u.value=C.label,p.value=C.template}function h(){f.value=null}function _(){!u.value.trim()||!p.value.trim()||(s.update(f.value,u.value.trim(),p.value.trim()),f.value=null)}return(C,g)=>(openBlock(),createBlock(unref(_sfc_main$1I),{open:n.value,"onUpdate:open":g[4]||(g[4]=w=>n.value=w)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1H),{class:"max-h-[90vh] w-[92vw] flex flex-col sm:max-w-lg"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1A),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1z),null,{default:withCtx(()=>[...g[5]||(g[5]=[createTextVNode("管理快捷指令",-1)])]),_:1})]),_:1}),createBaseVNode("div",_hoisted_1$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(s).commands,w=>(openBlock(),createElementBlock("div",{key:w.id,class:"flex flex-col gap-2 border rounded-md p-3"},[f.value===w.id?(openBlock(),createElementBlock(Fragment,{key:0},[createVNode(unref(_sfc_main$1B),{modelValue:u.value,"onUpdate:modelValue":g[0]||(g[0]=x=>u.value=x),placeholder:"指令名称"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1D),{modelValue:p.value,"onUpdate:modelValue":g[1]||(g[1]=x=>p.value=x),rows:"2",placeholder:"模板内容，支持 {{sel}} 占位"},null,8,["modelValue"]),createBaseVNode("div",_hoisted_2$5,[createVNode(unref(_sfc_main$1O),{size:"xs",onClick:_},{default:withCtx(()=>[...g[6]||(g[6]=[createTextVNode(" 保存 ",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{variant:"ghost",size:"xs",onClick:h},{default:withCtx(()=>[...g[7]||(g[7]=[createTextVNode(" 取消 ",-1)])]),_:1})])],64)):(openBlock(),createElementBlock("div",_hoisted_3$5,[createBaseVNode("span",_hoisted_4$5,toDisplayString(w.label),1),createBaseVNode("div",_hoisted_5$4,[createVNode(unref(_sfc_main$1O),{variant:"ghost",size:"xs",onClick:x=>b(w)},{default:withCtx(()=>[...g[8]||(g[8]=[createTextVNode(" 编辑 ",-1)])]),_:1},8,["onClick"]),createVNode(unref(_sfc_main$1O),{variant:"outline",size:"xs",onClick:x=>unref(s).remove(w.id)},{default:withCtx(()=>[...g[9]||(g[9]=[createTextVNode(" 删除 ",-1)])]),_:1},8,["onClick"])])]))]))),128))]),createBaseVNode("div",_hoisted_6$4,[createVNode(unref(_sfc_main$1B),{modelValue:l.value,"onUpdate:modelValue":g[2]||(g[2]=w=>l.value=w),placeholder:"指令名称 (如：改写为 SEO 文案)"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1D),{modelValue:i.value,"onUpdate:modelValue":g[3]||(g[3]=w=>i.value=w),rows:"2",placeholder:"模板，可用 {{sel}} 占位，例如：\\n请把以下文字改写为 SEO 友好的标题：\\n\\n{{sel}}"},null,8,["modelValue"]),createVNode(unref(_sfc_main$1O),{class:"w-full",onClick:d},{default:withCtx(()=>[...g[10]||(g[10]=[createTextVNode(" 添加 ",-1)])]),_:1})])]),_:1})]),_:1},8,["open"]))}}),_hoisted_1$5={class:"space-x-1 flex items-center"},_hoisted_2$4={key:0,class:"mb-3 flex flex-wrap gap-2 overflow-x-auto pb-1"},_hoisted_3$4={key:1,class:"text-muted-foreground flex items-center gap-2 border rounded-md border-dashed px-3 py-1 text-xs"},_hoisted_4$4={key:2,class:"custom-scroll space-y-3 chat-container mb-4 flex-1 overflow-y-auto pr-2"},_hoisted_5$3={key:0,class:"text-muted-foreground mb-1 italic"},_hoisted_6$3={key:3,class:"relative mt-2"},_hoisted_7$2={class:"bg-background border-border flex flex-col items-baseline gap-2 border rounded-xl px-3 py-2 pr-12 shadow-inner"},memoryKey="ai_memory_context",_sfc_main$7=defineComponent({__name:"AIAssistantPanel",props:{open:{type:Boolean}},emits:["update:open"],setup(t,{emit:e}){const o=t,a=e,n=useEditorStore(),{editor:s}=storeToRefs(n),l=useUIStore(),{toggleAIImageDialog:i}=l,d=ref(o.open);watch(()=>o.open,I=>d.value=I),watch(d,I=>{a("update:open",I),I&&J(!0)});const f=ref(""),u=ref([]),p=ref(null),b=ref(!1),h=ref(!1),_=ref(null),C=ref(null),g=ref(!1),w=ref(!1),x=ref([]),m=useAIConfigStore(),{apiKey:G,endpoint:N,model:T,temperature:M,maxToken:E,type:Q}=storeToRefs(m),K=useQuickCommands();function V(){try{const I=s.value;return I&&typeof I.getSelection=="function"&&I.getSelection()||""}catch(I){return console.warn("获取选中文本失败",I),""}}function y(I){const Z=V();f.value=I.buildPrompt(Z),p.value=null,nextTick(()=>{const me=document.querySelector('textarea[placeholder*="说些什么" ]');me?.focus(),me&&me.setSelectionRange(me.value.length,me.value.length)})}onMounted(async()=>{const I=await store.get(memoryKey);x.value=I?JSON.parse(I):A(),await J(!0)});function A(){return[{role:"assistant",content:"你好，我是 AI 助手，有什么可以帮你的？"}]}function H(){b.value=!1,J(!0)}function ae(){a("update:open",!1),setTimeout(()=>{i(!0)},100)}function ee(I){if(!(I.isComposing||I.keyCode===229)){if(I.key==="Enter"&&!I.shiftKey)I.preventDefault(),S();else if(I.key==="ArrowUp"){if(I.preventDefault(),u.value.length===0)return;p.value===null?p.value=u.value.length-1:p.value>0&&p.value--,f.value=u.value[p.value]||""}else if(I.key==="ArrowDown"){if(I.preventDefault(),p.value===null)return;p.value<u.value.length-1?(p.value++,f.value=u.value[p.value]||""):(p.value=null,f.value="")}}}async function U(I,Z){copyPlain(I),C.value=Z,setTimeout(()=>C.value=null,1500)}function j(I){f.value=I,p.value=null,nextTick(()=>{const Z=document.querySelector('textarea[placeholder*="说些什么" ]');if(Z?.focus(),Z){const me=Z.value.length;Z.setSelectionRange(me,me)}})}async function ue(){_.value&&(_.value.abort(),_.value=null),x.value=A(),await store.setJSON(memoryKey,x.value),J(!0)}function re(){_.value&&(_.value.abort(),_.value=null),h.value=!1;const I=x.value[x.value.length-1];I?.role==="assistant"&&(I.done=!0),J(!0)}async function J(I=!1){await nextTick();const Z=document.querySelector(".chat-container");if(Z){const me=Z.scrollTop+Z.clientHeight>=Z.scrollHeight-50;(I||me)&&(Z.scrollTop=Z.scrollHeight,await new Promise(ie=>setTimeout(ie,50)))}}function L(){g.value=!g.value}async function oe(){const I=[...x.value].reverse().find(me=>me.role==="user");if(!I)return;const Z=x.value.findIndex((me,ie,te)=>ie>0&&te[ie-1]===I&&me.role==="assistant");Z!==-1&&x.value.splice(Z,1),f.value=I.content,await nextTick(),S()}async function S(){if(!f.value.trim()||h.value)return;u.value.push(f.value.trim()),p.value=null,h.value=!0;const I=f.value.trim();x.value.push({role:"user",content:I}),f.value="";const Z={role:"assistant",content:"",reasoning:"",done:!1};x.value.push(Z);const me=x.value[x.value.length-1];await J(!0);const ie=x.value.slice(-12).filter((ne,P,D)=>!(P===D.length-1&&ne.role==="assistant"&&!ne.done)&&!(P===0&&ne.role==="assistant"));let te;if(g.value){const ne=[];for(let P=ie.length-1;P>=0&&ne.length<2;P--){const D=ie[P];(ne.length===0||D.role==="user"||D.role==="assistant")&&ne.unshift(D)}te=ne}else te=ie.slice(-10);const Y=g.value?[{role:"system",content:`下面是一篇 Markdown 文章全文，请严格以此为主完成后续指令：

${s.value?.state.doc.toString()}`}]:[],R=[{role:"system",content:"你是一个专业的 Markdown 编辑器助手，请用简洁中文回答。"},...Y,...te],W={model:T.value,messages:R,temperature:M.value,max_tokens:E.value,stream:!0},se={"Content-Type":"application/json"};G.value&&Q.value!=="default"&&(se.Authorization=`Bearer ${G.value}`),_.value=new AbortController;const fe=_.value.signal;try{const ne=new URL(N.value);ne.pathname.endsWith("/chat/completions")||(ne.pathname=ne.pathname.replace(/\/?$/,"/chat/completions"));const P=await window.fetch(ne.toString(),{method:"POST",headers:se,body:JSON.stringify(W),signal:fe});if(!P.ok||!P.body)throw new Error(`响应错误：${P.status} ${P.statusText}`);const D=P.body.getReader(),$=new TextDecoder("utf-8");let le="";for(;;){const{value:pe,done:ce}=await D.read();if(ce){const _e=x.value[x.value.length-1];_e.role==="assistant"&&(_e.done=!0,await J(!0));break}le+=$.decode(pe,{stream:!0});const he=le.split(`
`);le=he.pop()||"";for(const _e of he)if(!(!_e.trim()||_e.trim()==="data: [DONE]"))try{const ve=JSON.parse(_e.replace(/^data: /,"")).choices?.[0]?.delta||{},xe=x.value[x.value.length-1];if(xe!==me)return;ve.content?xe.content+=ve.content:ve.reasoning_content&&(xe.reasoning=(xe.reasoning||"")+ve.reasoning_content),await J()}catch(we){console.error("解析失败:",we)}}}catch(ne){ne.name==="AbortError"?console.log("请求中止"):(console.error("请求失败:",ne),x.value[x.value.length-1].content=`❌ 请求失败: ${ne.message}`),await J(!0)}finally{await store.setJSON(memoryKey,x.value),h.value=!1,_.value=null}}return(I,Z)=>{const me=_sfc_main$8,ie=__unplugin_components_0;return openBlock(),createBlock(unref(_sfc_main$1I),{open:unref(d),"onUpdate:open":Z[6]||(Z[6]=te=>isRef(d)?d.value=te:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1H),{class:"bg-card text-card-foreground h-dvh max-h-dvh w-full flex flex-col rounded-none shadow-xl sm:max-h-[80vh] sm:max-w-2xl sm:rounded-xl"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1A),{class:"space-y-1 flex flex-col items-start"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$5,[createVNode(unref(_sfc_main$1z),null,{default:withCtx(()=>[...Z[7]||(Z[7]=[createTextVNode("AI 对话",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{title:unref(b)?"AI 对话":"配置参数","aria-label":unref(b)?"AI 对话":"配置参数",variant:"ghost",size:"icon",onClick:Z[0]||(Z[0]=te=>b.value=!unref(b))},{default:withCtx(()=>[unref(b)?(openBlock(),createBlock(unref(MessageCircle),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"]),createVNode(unref(_sfc_main$1O),{title:"AI 文生图","aria-label":"AI 文生图",variant:"ghost",size:"icon",onClick:Z[1]||(Z[1]=te=>ae())},{default:withCtx(()=>[createVNode(unref(Image),{class:"h-4 w-4"})]),_:1}),createVNode(unref(_sfc_main$1O),{title:"清空对话内容","aria-label":"清空对话内容",variant:"ghost",size:"icon",onClick:ue},{default:withCtx(()=>[createVNode(unref(Trash2),{class:"h-4 w-4"})]),_:1})]),createVNode(unref(_sfc_main$19),{class:"text-muted-foreground text-sm"},{default:withCtx(()=>[...Z[8]||(Z[8]=[createTextVNode(" 使用 AI 助手帮助您编写和优化内容 ",-1)])]),_:1})]),_:1}),unref(b)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_2$4,[unref(K).commands.length?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(unref(K).commands,te=>(openBlock(),createBlock(unref(_sfc_main$1O),{key:te.id,variant:"secondary",size:"sm",class:"text-xs",onClick:Y=>y(te)},{default:withCtx(()=>[createTextVNode(toDisplayString(te.label),1)]),_:2},1032,["onClick"]))),128)):(openBlock(),createElementBlock("div",_hoisted_3$4," 还没有任何快捷指令，点击右侧添加 ")),createVNode(unref(_sfc_main$1O),{variant:"ghost",size:"icon",title:"管理指令",onClick:Z[2]||(Z[2]=te=>w.value=!0)},{default:withCtx(()=>[createVNode(unref(Plus),{class:"h-4 w-4"})]),_:1}),createVNode(me,{open:unref(w),"onUpdate:open":Z[3]||(Z[3]=te=>isRef(w)?w.value=te:null)},null,8,["open"])])),unref(b)?(openBlock(),createBlock(ie,{key:1,class:"mb-4 w-full border rounded-md p-4",onSaved:H})):createCommentVNode("",!0),unref(b)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_4$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(x),(te,Y)=>(openBlock(),createElementBlock("div",{key:Y,class:normalizeClass(["relative flex",te.role==="user"?"justify-end":"justify-start"])},[createBaseVNode("div",{class:normalizeClass(["ring-border/20 max-w-[75%] rounded-2xl px-4 py-2 text-sm leading-relaxed shadow-xs ring-1",te.role==="user"?"bg-black text-white dark:bg-primary dark:text-primary-foreground":"bg-gray-100 text-gray-800 dark:bg-muted/60 dark:text-muted-foreground"])},[te.reasoning?(openBlock(),createElementBlock("div",_hoisted_5$3,toDisplayString(te.reasoning),1)):createCommentVNode("",!0),createBaseVNode("div",{class:normalizeClass(["whitespace-pre-wrap",te.content?"":"animate-pulse text-muted-foreground"])},toDisplayString(te.content||(te.role==="assistant"&&!te.done?"思考中…":"")),3),createBaseVNode("div",{class:normalizeClass(["mt-1 flex",te.role==="user"?"justify-end":"justify-start"])},[Y>0&&!(te.role==="assistant"&&Y===unref(x).length-1&&!te.done)?(openBlock(),createBlock(unref(_sfc_main$1O),{key:0,variant:"ghost",size:"icon",class:"ml-0 h-5 w-5 p-1","aria-label":"复制内容",onClick:R=>U(te.content,Y)},{default:withCtx(()=>[unref(C)===Y?(openBlock(),createBlock(unref(Check),{key:0,class:"h-3 w-3 text-green-600"})):(openBlock(),createBlock(unref(Copy),{key:1,class:"text-muted-foreground h-3 w-3"}))]),_:2},1032,["onClick"])):createCommentVNode("",!0),Y>0&&!(te.role==="assistant"&&Y===unref(x).length-1&&!te.done)?(openBlock(),createBlock(unref(_sfc_main$1O),{key:1,variant:"ghost",size:"icon",class:"ml-1 h-5 w-5 p-1","aria-label":"编辑内容",onClick:R=>j(te.content)},{default:withCtx(()=>[createVNode(unref(SquarePen),{class:"text-muted-foreground h-3 w-3"})]),_:1},8,["onClick"])):createCommentVNode("",!0),te.role==="assistant"&&te.done&&Y===unref(x).length-1?(openBlock(),createBlock(unref(_sfc_main$1O),{key:2,variant:"ghost",size:"icon",class:"ml-1 h-5 w-5 p-1","aria-label":"重新生成",onClick:oe},{default:withCtx(()=>[createVNode(unref(RefreshCcw),{class:"text-muted-foreground h-3 w-3"})]),_:1})):createCommentVNode("",!0)],2)],2)],2))),128))])),unref(b)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_6$3,[createBaseVNode("div",_hoisted_7$2,[createVNode(unref(_sfc_main$1D),{modelValue:unref(f),"onUpdate:modelValue":Z[4]||(Z[4]=te=>isRef(f)?f.value=te:null),placeholder:"说些什么… (Enter 发送，Shift+Enter 换行)",rows:"2",class:"custom-scroll min-h-16 w-full resize-none border-none bg-transparent p-0 focus-visible:outline-hidden focus:outline-hidden focus-visible:ring-0 focus:ring-0 focus-visible:ring-offset-0 focus:ring-offset-0 focus-visible:ring-transparent focus:ring-transparent",onKeydown:ee},null,8,["modelValue"]),createVNode(unref(_sfc_main$1O),{size:"sm",variant:"outline",class:normalizeClass(["h-8 flex items-center gap-1 rounded-md px-3 font-medium transition-colors duration-150",[unref(g)?"bg-primary text-white border-primary dark:bg-white dark:text-black dark:border-white":"bg-background text-muted-foreground border-border hover:text-foreground hover:border-foreground dark:bg-muted dark:text-gray-400 dark:hover:text-white dark:hover:border-white/60"]]),"aria-label":"引用全文",onClick:L},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(g)?unref(Check):unref(Copy)),{class:"h-4 w-4"})),Z[9]||(Z[9]=createBaseVNode("span",{class:"text-xs"},"引用全文",-1))]),_:1},8,["class"]),createVNode(unref(_sfc_main$1O),{disabled:!unref(f).trim()&&!unref(h),size:"icon",class:normalizeClass(["absolute bottom-3 right-3 rounded-full disabled:opacity-40","bg-primary hover:bg-primary/90 text-primary-foreground"]),"aria-label":unref(h)?"暂停":"发送",onClick:Z[5]||(Z[5]=te=>unref(h)?re():S())},{default:withCtx(()=>[unref(h)?(openBlock(),createBlock(unref(Pause),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Send),{key:1,class:"h-4 w-4"}))]),_:1},8,["disabled","aria-label"])])]))]),_:1})]),_:1},8,["open"])}}}),AIAssistantPanel=_export_sfc(_sfc_main$7,[["__scopeId","data-v-323cb3d2"]]),_hoisted_1$4={class:"space-x-1 flex items-center"},_hoisted_2$3={key:1,class:"custom-scroll space-y-4 flex-1 overflow-y-auto px-4 pb-4 pt-3 sm:px-6"},_hoisted_3$3={class:"border-border custom-scroll bg-muted/20 text-muted-foreground max-h-32 overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},_hoisted_4$3={key:0},_hoisted_5$2={class:"custom-scroll border-border max-h-24 min-h-[40px] flex flex-wrap gap-2 overflow-y-auto border rounded px-2 py-1"},_hoisted_6$2=["onClick"],_hoisted_7$1={key:1,class:"min-h-[24px] flex items-center text-[12px] text-red-500"},_hoisted_8$1={key:2},_hoisted_9$1={key:2,class:"border-border flex justify-end gap-2 border-t px-4 py-3 sm:px-6"},_sfc_main$6=defineComponent({__name:"ToolBoxPopover",props:{open:{type:Boolean},selectedText:{},isMobile:{type:Boolean}},emits:["update:open"],setup(t,{expose:e,emit:o}){const a=t,n=o,s=ref(!1),l=ref(a.open),i=ref(""),d=ref(!1),f=ref(null),u=ref([]),p=ref(!1),b=ref("optimize"),h=ref(""),_=ref(""),C=useEditorStore(),g=ref(null);watch(()=>a.open,U=>{l.value=U,U&&a.selectedText.trim()&&(h.value=a.selectedText,V())}),watch(l,U=>n("update:open",U));const w=useAIConfigStore(),{apiKey:x,endpoint:m,model:G,temperature:N,maxToken:T,type:M}=storeToRefs(w),E=[{value:"optimize",label:"优化文本",defaultPrompt:"请优化文本，使其更通顺易读。"},{value:"summarize",label:"文章总结",defaultPrompt:"请对文本进行摘要，输出主要观点和结论。"},{value:"spellcheck",label:"错别字纠正",defaultPrompt:"请找出并纠正文本中的错别字、标点和语法错误。"},{value:"translate-zh",label:"翻译为中文",defaultPrompt:"请将文本翻译为地道的中文。"},{value:"translate-en",label:"翻译为英文",defaultPrompt:"请将文本翻译为自然流畅的英文。"},{value:"custom",label:"自定义",defaultPrompt:""}];watch(i,async()=>{await nextTick(),g.value?.scrollTo({top:g.value.scrollHeight})}),watch(b,U=>{U!=="custom"&&(u.value=[])}),watch(()=>a.selectedText,U=>{l.value&&(h.value=U,V())});function Q(U){const j=U.target,ue=j.value.trim();ue&&!u.value.includes(ue)&&u.value.push(ue),j.value=""}function K(U){u.value.splice(U,1)}function V(){i.value="",d.value=!1,p.value=!1,_.value="",f.value?.abort(),f.value=null}async function y(){const U=h.value.trim();if(!U||d.value)return;V(),d.value=!0,f.value=new AbortController;const j="你是一名专业的多语言文本助手，请根据用户的指令处理下列内容。在输出时，不要输出任何额外的信息，只输出处理后的文本。",ue=E.find(I=>I.value===b.value),re=[];ue.defaultPrompt&&re.push(ue.defaultPrompt),u.value.length&&re.push(`请同时满足以下要求：${u.value.join("、")}。`),re.length||re.push("请根据最佳实践优化文本。");const J=re.join(" "),L=[{role:"system",content:j},{role:"user",content:`${J}

待处理文本：
${U}`}],oe={model:G.value,messages:L,temperature:N.value,max_tokens:T.value,stream:!0},S={"Content-Type":"application/json"};x.value&&M.value!=="default"&&(S.Authorization=`Bearer ${x.value}`);try{const I=new URL(m.value);I.pathname.endsWith("/chat/completions")||(I.pathname=I.pathname.replace(/\/?$/,"/chat/completions"));const Z=await window.fetch(I.toString(),{method:"POST",headers:S,body:JSON.stringify(oe),signal:f.value.signal});if(!Z.ok||!Z.body)throw new Error(`响应错误：${Z.status}`);const me=Z.body.getReader(),ie=new TextDecoder("utf-8");let te="";for(;;){const{value:Y,done:R}=await me.read();if(R)break;te+=ie.decode(Y,{stream:!0});const W=te.split(`
`);te=W.pop()||"";for(const se of W)if(!(!se.trim()||se.trim()==="data: [DONE]"))try{const ne=JSON.parse(se.replace(/^data: /,"")).choices?.[0]?.delta?.content;ne?.trim()&&(i.value+=ne,p.value=!0)}catch{}}}catch(I){I.name==="AbortError"?console.log("Request aborted by user."):(console.error("请求失败：",I),_.value=I.message||"请求失败")}finally{d.value=!1}}function A(){d.value&&f.value&&(f.value.abort(),d.value=!1)}function H(){const U=toRaw(C.editor),j=U.state.selection.main;U.dispatch(U.state.replaceSelection(i.value));const ue=U.state.selection.main;U.dispatch({selection:{anchor:j.from,head:ue.head}}),U.focus(),h.value=i.value,V()}function ae(){l.value=!0}function ee(){l.value=!1,u.value=[],b.value="optimize",V()}return e({dialogVisible:l,runAIAction:y,replaceText:H,show:ae,close:ee,stopAI:A}),(U,j)=>{const ue=__unplugin_components_0;return openBlock(),createBlock(unref(_sfc_main$1I),{open:unref(l),"onUpdate:open":j[3]||(j[3]=re=>isRef(l)?l.value=re:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1H),{class:"bg-card text-card-foreground flex flex-col w-[95vw] max-h-[90vh] sm:max-h-[85vh] sm:max-w-2xl overflow-y-auto"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1A),{class:"space-y-1 flex flex-col items-start"},{default:withCtx(()=>[createBaseVNode("div",_hoisted_1$4,[createVNode(unref(_sfc_main$1z),null,{default:withCtx(()=>[...j[4]||(j[4]=[createTextVNode("AI 工具箱",-1)])]),_:1}),createVNode(unref(_sfc_main$1O),{title:unref(s)?"AI 工具箱":"配置参数","aria-label":unref(s)?"AI 工具箱":"配置参数",variant:"ghost",size:"icon",onClick:j[0]||(j[0]=re=>s.value=!unref(s))},{default:withCtx(()=>[unref(s)?(openBlock(),createBlock(unref(WandSparkles),{key:0,class:"h-4 w-4"})):(openBlock(),createBlock(unref(Settings),{key:1,class:"h-4 w-4"}))]),_:1},8,["title","aria-label"])])]),_:1}),unref(s)?(openBlock(),createBlock(ue,{key:0,class:"border-border mb-4 w-full border rounded-md p-4",onSaved:j[1]||(j[1]=()=>s.value=!1)})):(openBlock(),createElementBlock("div",_hoisted_2$3,[createBaseVNode("div",null,[j[5]||(j[5]=createBaseVNode("div",{class:"mb-1 text-sm font-semibold"}," 选择操作 ",-1)),createVNode(unref(_sfc_main$1l),{modelValue:unref(b),"onUpdate:modelValue":j[2]||(j[2]=re=>isRef(b)?b.value=re:null)},{default:withCtx(()=>[createVNode(unref(_sfc_main$1g),{class:"w-full"},{default:withCtx(()=>[createVNode(unref(_sfc_main$1f),{placeholder:"请选择要执行的操作"})]),_:1}),createVNode(unref(_sfc_main$1e),null,{default:withCtx(()=>[createVNode(unref(_sfc_main$1k),null,{default:withCtx(()=>[(openBlock(),createElementBlock(Fragment,null,renderList(E,re=>createVNode(unref(_sfc_main$1j),{key:re.value,value:re.value},{default:withCtx(()=>[createTextVNode(toDisplayString(re.label),1)]),_:2},1032,["value"])),64))]),_:1})]),_:1})]),_:1},8,["modelValue"])]),createBaseVNode("div",null,[j[6]||(j[6]=createBaseVNode("div",{class:"mb-1 text-sm font-semibold"}," 原文 ",-1)),createBaseVNode("div",_hoisted_3$3,toDisplayString(unref(h)),1)]),unref(b)==="custom"?(openBlock(),createElementBlock("div",_hoisted_4$3,[j[7]||(j[7]=createBaseVNode("div",{class:"mb-1 text-sm font-semibold"}," 自定义提示词（可选） ",-1)),createBaseVNode("div",_hoisted_5$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(unref(u),(re,J)=>(openBlock(),createElementBlock("div",{key:J,class:"text-muted-foreground bg-muted flex items-center gap-1 rounded-full px-2 py-1 text-sm"},[createBaseVNode("span",null,toDisplayString(re),1),createBaseVNode("button",{class:"hover:bg-muted/60 h-4 w-4 flex items-center justify-center rounded-full",onClick:L=>K(J)},[createVNode(unref(X),{class:"h-3 w-3"})],8,_hoisted_6$2)]))),128)),createBaseVNode("input",{class:"min-w-[100px] flex-1 bg-transparent py-1 text-sm focus:outline-hidden",placeholder:"输入提示词后按回车",onKeydown:withKeys(Q,["enter"])},null,32)])])):createCommentVNode("",!0),unref(_)?(openBlock(),createElementBlock("div",_hoisted_7$1,toDisplayString(unref(_)),1)):createCommentVNode("",!0),unref(i)?(openBlock(),createElementBlock("div",_hoisted_8$1,[j[8]||(j[8]=createBaseVNode("div",{class:"mb-1 text-sm font-semibold"}," 处理结果 ",-1)),createBaseVNode("div",{ref_key:"resultContainer",ref:g,class:"custom-scroll border-border bg-background max-h-40 min-h-[60px] overflow-y-auto whitespace-pre-line border rounded px-3 py-2 text-sm"},toDisplayString(unref(i)),513)])):createCommentVNode("",!0)])),unref(s)?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$1,[unref(d)?(openBlock(),createBlock(unref(_sfc_main$1O),{key:0,variant:"secondary",onClick:A},{default:withCtx(()=>[createVNode(unref(Pause),{class:"mr-1 h-4 w-4"}),j[9]||(j[9]=createTextVNode(" 终止 ",-1))]),_:1})):createCommentVNode("",!0),unref(p)&&!unref(d)?(openBlock(),createBlock(unref(_sfc_main$1O),{key:1,variant:"default",onClick:H},{default:withCtx(()=>[...j[10]||(j[10]=[createTextVNode(" 接受 ",-1)])]),_:1})):createCommentVNode("",!0),unref(d)?createCommentVNode("",!0):(openBlock(),createBlock(unref(_sfc_main$1O),{key:2,variant:"outline",disabled:!unref(p)&&!!unref(i),onClick:y},{default:withCtx(()=>[createTextVNode(toDisplayString(unref(p)?"重试":"AI 处理"),1)]),_:1},8,["disabled"]))]))]),_:1})]),_:1},8,["open"])}}}),AIPolishPopover=_export_sfc(_sfc_main$6,[["__scopeId","data-v-0c6bbc3d"]]),_hoisted_1$3={key:0,class:"editor-ai-toolbar absolute top-1/2 -translate-y-1/2 right-0 z-30 transition-all duration-300 ease-out"},_hoisted_2$2={key:0,class:"hint-bubble absolute right-full mr-3 px-4 py-2 bg-gradient-to-r from-blue-500 to-purple-500 text-white text-sm font-medium rounded-lg shadow-xl whitespace-nowrap pointer-events-none animate-bounce-gentle z-50",style:{top:"50%",transform:"translateY(-50%)"}},_hoisted_3$2={class:"relative flex items-center gap-2"},_hoisted_4$2={key:1,class:"bg-white/95 dark:bg-gray-900/95 backdrop-blur-lg border-l border-gray-200/50 dark:border-gray-700/50 shadow-lg overflow-hidden transition-all duration-300 w-12 rounded-l-md",style:{height:"auto"}},_hoisted_5$1={class:"flex flex-col py-2 gap-2"},_hoisted_6$1={class:"flex flex-col items-center gap-1 px-1"},_hoisted_7={class:"flex flex-col items-center gap-1 px-1"},_hoisted_8={key:0,class:"mx-1.5"},_hoisted_9={key:1,class:"flex flex-col items-center gap-1 px-1"},_sfc_main$5=defineComponent({__name:"SidebarAIToolbar",props:{isMobile:{type:Boolean},showEditor:{type:Boolean}},setup(t){const e=useUIStore(),{aiDialogVisible:o,aiImageDialogVisible:a}=storeToRefs(e),{toggleAIDialog:n,toggleAIImageDialog:s}=e,l=useEditorStore(),{editor:i}=storeToRefs(l),{hasShownAIToolboxHint:d}=storeToRefs(e),f=ref(!1),u=ref(!1),p=ref(!1);let b=null,h=null,_="";function C(){try{if(!i.value)return"";const M=i.value.state.selection.main;return i.value.state.doc.sliceString(M.from,M.to).trim()}catch{return""}}function g(){if(d.value)return;const M=C();M!==_&&(_=M,b&&(clearTimeout(b),b=null),M&&!f.value?(p.value=!0,d.value=!0,b=setTimeout(()=>{p.value=!1},3e3)):p.value=!1)}const w=computed(()=>!i.value||!f.value?!1:C().length>0),x=computed(()=>u.value?C():"");function m(){f.value=!f.value,f.value&&(p.value=!1,b&&(clearTimeout(b),b=null))}function G(){n(!0)}function N(){s(!0)}function T(){u.value=!0}return onMounted(()=>{h=setInterval(()=>{g()},300);const M=E=>{if(!f.value)return;const Q=E.target;if(!Q)return;const K=document.querySelector(".editor-ai-toolbar");if(K&&K.contains(Q))return;["dialog",".popover",".modal",'[role="dialog"]',"nav",".menu",".dropdown",".tooltip",".floating",".ai-assistant-panel",".ai-image-generator-panel"].some(A=>Q.closest(A))||(f.value=!1)};document.addEventListener("click",M,!0),document.addEventListener("touchstart",M,!0),onUnmounted(()=>{document.removeEventListener("click",M,!0),document.removeEventListener("touchstart",M,!0),b&&(clearTimeout(b),b=null),h&&(clearInterval(h),h=null)})}),(M,E)=>!t.isMobile||t.isMobile&&t.showEditor?(openBlock(),createElementBlock("div",_hoisted_1$3,[unref(f)?(openBlock(),createElementBlock("div",_hoisted_4$2,[createBaseVNode("div",_hoisted_5$1,[createBaseVNode("div",_hoisted_6$1,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI助手",onClick:G},[createVNode(unref(Bot),{class:"h-4 w-4"})]),E[5]||(E[5]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 助手 ",-1))]),E[9]||(E[9]=createBaseVNode("div",{class:"mx-1.5"},[createBaseVNode("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"})],-1)),createBaseVNode("div",_hoisted_7,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI文生图",onClick:N},[createVNode(unref(Image),{class:"h-4 w-4"})]),E[6]||(E[6]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 文生图 ",-1))]),unref(w)&&unref(f)?(openBlock(),createElementBlock("div",_hoisted_8,[...E[7]||(E[7]=[createBaseVNode("div",{class:"h-px bg-gray-200/50 dark:bg-gray-700/50"},null,-1)])])):createCommentVNode("",!0),unref(w)&&unref(f)?(openBlock(),createElementBlock("div",_hoisted_9,[createBaseVNode("button",{class:"group relative w-7 h-7 rounded-lg bg-gradient-to-br from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white shadow-md hover:shadow-lg transform hover:scale-105 active:scale-95 transition-all duration-200 flex items-center justify-center utools-ai-button",title:"AI工具箱",onClick:T},[createVNode(unref(WandSparkles),{class:"h-4 w-4"})]),E[8]||(E[8]=createBaseVNode("span",{class:"text-[9px] text-gray-500 dark:text-gray-400 font-medium text-center leading-tight"}," 工具箱 ",-1))])):createCommentVNode("",!0)])])):(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["w-5 h-16 bg-gradient-to-b from-blue-500/90 to-purple-500/90 hover:from-blue-600/95 hover:to-purple-600/95 dark:from-blue-400/90 dark:to-purple-400/90 dark:hover:from-blue-500/95 dark:hover:to-purple-500/95 backdrop-blur-lg border-l border-y border-blue-300/50 dark:border-blue-600/50 cursor-pointer transition-all duration-200 flex items-center justify-center rounded-l-lg shadow-lg group utools-sidebar-edge",{"animate-pulse-hint":unref(p)}]),title:"展开AI工具栏",onClick:m},[createVNode(unref(Settings2),{class:"h-4 w-4 text-white drop-shadow-sm group-hover:scale-110 transition-transform duration-200"}),createVNode(Transition,{name:"hint-fade"},{default:withCtx(()=>[unref(p)?(openBlock(),createElementBlock("div",_hoisted_2$2,[createBaseVNode("div",_hoisted_3$2,[createVNode(unref(WandSparkles),{class:"h-4 w-4"}),E[3]||(E[3]=createBaseVNode("span",null,"点击打开 AI 工具箱",-1)),E[4]||(E[4]=createBaseVNode("div",{class:"hint-arrow absolute top-1/2 -right-2 -translate-y-1/2 w-0 h-0 border-t-[6px] border-b-[6px] border-l-[6px] border-transparent border-l-purple-500"},null,-1))])])):createCommentVNode("",!0)]),_:1})],2)),createVNode(AIAssistantPanel,{open:unref(o),"onUpdate:open":E[0]||(E[0]=Q=>isRef(o)?o.value=Q:null)},null,8,["open"]),createVNode(AIImageGeneratorPanel,{open:unref(a),"onUpdate:open":E[1]||(E[1]=Q=>isRef(a)?a.value=Q:null)},null,8,["open"]),createVNode(unref(AIPolishPopover),{open:unref(u),"onUpdate:open":E[2]||(E[2]=Q=>isRef(u)?u.value=Q:null),"selected-text":unref(x),"is-mobile":t.isMobile},null,8,["open","selected-text","is-mobile"])])):createCommentVNode("",!0)}}),SidebarAIToolbar=_export_sfc(_sfc_main$5,[["__scopeId","data-v-53b4625d"]]),_hoisted_1$2={key:0,class:"bg-border z-10 h-4 w-3 flex items-center justify-center border rounded-sm"},_sfc_main$4=defineComponent({__name:"ResizableHandle",props:{id:{},hitAreaMargins:{},tabindex:{},disabled:{type:Boolean},nonce:{},asChild:{type:Boolean},as:{},class:{},withHandle:{type:Boolean}},emits:["dragging"],setup(t,{emit:e}){const o=t,a=e,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(l,i)=>(openBlock(),createBlock(unref(SplitterResizeHandle_default),mergeProps(unref(s),{class:unref(cn)("relative flex w-px items-center justify-center bg-border after:absolute after:inset-y-0 after:left-1/2 after:w-1 after:-translate-x-1/2 focus-visible:outline-hidden focus-visible:ring-1 focus-visible:ring-ring focus-visible:ring-offset-1 data-[orientation=vertical]:h-px data-[orientation=vertical]:w-full data-[orientation=vertical]:after:left-0 data-[orientation=vertical]:after:h-1 data-[orientation=vertical]:after:w-full data-[orientation=vertical]:after:-translate-y-1/2 data-[orientation=vertical]:after:translate-x-0 [&[data-orientation=vertical]>div]:rotate-90",o.class)}),{default:withCtx(()=>[o.withHandle?(openBlock(),createElementBlock("div",_hoisted_1$2,[createVNode(unref(GripVertical),{class:"h-2.5 w-2.5"})])):createCommentVNode("",!0)]),_:1},16,["class"]))}}),_sfc_main$3=defineComponent({__name:"ResizablePanelGroup",props:{id:{},autoSaveId:{},direction:{},keyboardResizeBy:{},storage:{},asChild:{type:Boolean},as:{},class:{}},emits:["layout"],setup(t,{emit:e}){const o=t,a=e,n=reactiveOmit(o,"class"),s=useForwardPropsEmits(n,a);return(l,i)=>(openBlock(),createBlock(unref(SplitterGroup_default),mergeProps(unref(s),{class:unref(cn)("flex h-full w-full data-[panel-group-direction=vertical]:flex-col",o.class)}),{default:withCtx(()=>[renderSlot(l.$slots,"default")]),_:3},16,["class"]))}}),_hoisted_1$1={class:"flex flex-col gap-0.5"},_hoisted_2$1={class:"flex items-center gap-1"},_hoisted_3$1={class:"w-10 select-none text-center text-xs"},_hoisted_4$1={key:0,class:"flex items-center gap-1"},_sfc_main$2=defineComponent({__name:"SearchTab",props:{editorView:{}},setup(t,{expose:e}){const o=t,a=ref(!1),n=ref(null),s=ref(""),l=ref(0),i=ref(!1),d=ref(""),f=ref([]),u=computed(()=>f.value.length),p=computed(()=>K()?f.value[l.value]:null),b=StateEffect.define(),h=StateField.define({create(){return Decoration.none},update(V,y){for(const A of y.effects)if(A.is(b))return A.value;return V},provide:V=>EditorView.decorations.from(V)});onMounted(()=>{o.editorView.state.field(h,!1)||o.editorView.dispatch({effects:StateEffect.appendConfig.of(h)})}),watch(s,()=>{useDebounceFn(()=>{f.value=[],s.value===""?_():(l.value=0,g())},300)()}),watch([l,f],()=>{C()}),watch(a,async()=>{a.value?(C(),await nextTick(),n.value?.focus(),n.value?.select()):_()});function _(){o.editorView.dispatch({effects:b.of(Decoration.none)})}function C(){const V=[];f.value.forEach((A,H)=>{const ae=A[0],ee=A[1],U=o.editorView.state.doc.line(ae.line+1),j=o.editorView.state.doc.line(ee.line+1),ue=U.from+ae.ch,re=j.from+ee.ch,J=H===l.value,L=Decoration.mark({class:J?"cm-searchMatch-selected":"cm-searchMatch"});V.push(L.range(ue,re))});const y=Decoration.set(V,!0);if(o.editorView.dispatch({effects:b.of(y)}),f.value[l.value]?.[0]){const A=f.value[l.value][0],ae=o.editorView.state.doc.line(A.line+1).from+A.ch;o.editorView.dispatch({selection:{anchor:ae,head:ae},scrollIntoView:!0})}}function g(){if(!s.value||!a.value)return;const V=o.editorView.state.doc.toString(),y=s.value,A=[];y&&V.split(`
`).forEach((ae,ee)=>{let U=0,j=ae.toLowerCase().indexOf(y.toLowerCase(),U);for(;j!==-1;)A.push([{line:ee,ch:j},{line:ee,ch:j+y.length}]),U=j+1,j=ae.toLowerCase().indexOf(y.toLowerCase(),U)}),f.value=A,f.value.length>0&&l.value>=f.value.length&&(l.value=f.value.length-1)}function w(){K()&&(l.value=(l.value+1)%u.value)}function x(){K()&&(l.value=(l.value-1+u.value)%u.value)}function m(){i.value=!i.value}function G(){a.value=!1}function N(V){switch(V.key){case"Enter":w(),V.preventDefault()}}function T(V){switch(V.key){case"Enter":M(),V.preventDefault()}}function M(){if(!K()||!p.value)return;const V=p.value[0],y=p.value[1],A=o.editorView.state.doc.line(V.line+1),H=o.editorView.state.doc.line(y.line+1),ae=A.from+V.ch,ee=H.from+y.ch;o.editorView.dispatch({changes:{from:ae,to:ee,insert:d.value},selection:{anchor:ae+d.value.length}}),g()}function E(){if(!K()||!p.value)return;const y=[...f.value].sort((A,H)=>A[0].line!==H[0].line?H[0].line-A[0].line:H[0].ch-A[0].ch).map(A=>{const H=A[0],ae=A[1],ee=o.editorView.state.doc.line(H.line+1),U=o.editorView.state.doc.line(ae.line+1),j=ee.from+H.ch,ue=U.from+ae.ch;return{from:j,to:ue,insert:d.value}});o.editorView.dispatch({changes:y}),g()}function Q(V){s.value=V,a.value?nextTick(()=>{n.value?.focus(),n.value?.select()}):a.value=!0}onUnmounted(()=>{_()});function K(){return u.value>0}return e({showSearchTab:a,searchWord:s,setSearchWord:Q}),(V,y)=>{const A=_sfc_main$1O,H=_sfc_main$1B;return openBlock(),createBlock(Transition,{name:"slide-down"},{default:withCtx(()=>[unref(a)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["bg-background absolute right-0 top-0 z-50 min-w-[300px] w-fit flex gap-1 border rounded-lg px-2 py-1 shadow-md transition-all",unref(i)?"items-start":"items-center"])},[createVNode(A,{variant:"ghost",title:"切换替换","aria-label":"切换替换",class:"h-7 w-5 flex items-center justify-center p-0",onClick:m},{default:withCtx(()=>[(openBlock(),createBlock(resolveDynamicComponent(unref(i)?unref(ChevronDown):unref(ChevronRight)),{class:"h-3.5 w-3.5"}))]),_:1}),createBaseVNode("div",_hoisted_1$1,[createBaseVNode("div",_hoisted_2$1,[createVNode(H,{ref_key:"searchInputRef",ref:n,modelValue:unref(s),"onUpdate:modelValue":y[0]||(y[0]=ae=>isRef(s)?s.value=ae:null),placeholder:"查找",class:"h-7 w-40 text-sm",onKeydown:N},null,8,["modelValue"]),createBaseVNode("span",_hoisted_3$1,toDisplayString(unref(u)?unref(l)+1:0)+"/"+toDisplayString(unref(u)),1),createVNode(A,{variant:"ghost",size:"xs",title:"上一处","aria-label":"上一处",class:"h-6 w-6 p-0",onClick:x},{default:withCtx(()=>[createVNode(unref(ChevronUp),{class:"h-3 w-3"})]),_:1}),createVNode(A,{variant:"ghost",size:"xs",title:"下一处","aria-label":"下一处",class:"h-6 w-6 p-0",onClick:w},{default:withCtx(()=>[createVNode(unref(ChevronDown),{class:"h-3 w-3"})]),_:1}),createVNode(A,{variant:"ghost",size:"xs",title:"关闭","aria-label":"关闭",class:"h-6 w-6 p-0",onClick:G},{default:withCtx(()=>[createVNode(unref(X),{class:"h-3 w-3"})]),_:1})]),unref(i)?(openBlock(),createElementBlock("div",_hoisted_4$1,[createVNode(H,{modelValue:unref(d),"onUpdate:modelValue":y[1]||(y[1]=ae=>isRef(d)?d.value=ae:null),placeholder:"替换",class:"h-7 w-40 text-sm",onKeydown:T},null,8,["modelValue"]),createVNode(A,{variant:"ghost",size:"xs",title:"替换","aria-label":"替换",class:"h-6 w-6 p-0",onClick:M},{default:withCtx(()=>[createVNode(unref(Replace),{class:"h-3 w-3"})]),_:1}),createVNode(A,{variant:"ghost",size:"xs",title:"全部替换","aria-label":"全部替换",class:"h-6 w-6 p-0",onClick:E},{default:withCtx(()=>[createVNode(unref(ReplaceAll),{class:"h-3 w-3"})]),_:1})])):createCommentVNode("",!0)])],2)):createCommentVNode("",!0)]),_:1})}}}),SearchTab=_export_sfc(_sfc_main$2,[["__scopeId","data-v-8222ccb5"]]);async function getConfig(t,e){if(t){const n=e==="github"?githubConfig:giteeConfig,{username:s,repoList:l,branch:i,accessTokenList:d}=n,f=Math.floor(Math.random()*d.length),u=d[f].replace("doocsmd",""),p=Math.floor(Math.random()*l.length),b=l[p];return{username:s,repo:b,branch:i,accessToken:u}}const o=await store.getJSON(`${e}Config`,{})||{},a=o.repo.replace(`https://${e}.com/`,"").replace(`http://${e}.com/`,"").replace(`${e}.com/`,"").split("/");return{username:a[0],repo:a[1],branch:o.branch||"master",accessToken:o.accessToken}}function getDir(){const t=new Date,e=t.getFullYear(),o=(t.getMonth()+1).toString().padStart(2,"0"),a=t.getDate().toString().padStart(2,"0");return`${e}/${o}/${a}`}function getDateFilename(t){const e=new Date().getTime(),o=t.split(".").pop();return`${e}-${v4()}.${o}`}async function ghFileUpload(t,e){const o=await store.get("imgHost")==="default",{username:a,repo:n,branch:s,accessToken:l}=await getConfig(o,"github"),i=getDir(),d=`https://api.github.com/repos/${a}/${n}/contents/${i}/`,f=getDateFilename(e),u=await service({url:d+f,method:"put",headers:{Authorization:`token ${l}`},data:{content:t,branch:s,message:`Upload by ${window.location.href}`}}),p=`raw.githubusercontent.com/${a}/${n}/${s}/`,b=`fastly.jsdelivr.net/gh/${a}/${n}@${s}/`;return u.content=u.data?.content||u.content,o?u.content.download_url.replace(p,b):u.content.download_url}async function giteeUpload(t,e){const o=await store.get("imgHost")==="default",{username:a,repo:n,branch:s,accessToken:l}=await getConfig(o,"gitee"),i=getDir(),d=getDateFilename(e),f=`https://gitee.com/api/v5/repos/${a}/${n}/contents/${i}/${d}`,u=await service({url:f,method:"POST",data:{content:t,branch:s,access_token:l,message:`Upload by ${window.location.href}`}});return u.content=u.data?.content||u.content,encodeURI(u.content.download_url)}function getQiniuToken(t,e,o){const a=JSON.stringify(o),n=base64encode(utf16to8(a)),l=CryptoJS.HmacSHA1(n,e).toString(CryptoJS.enc.Base64);return`${t}:${safe64(l)}:${n}`}async function qiniuUpload(t){const e=await store.get("qiniuConfig"),{accessKey:o,secretKey:a,bucket:n,region:s,path:l,domain:i}=JSON.parse(e),d=getQiniuToken(o,a,{scope:n,deadline:Math.trunc(new Date().getTime()/1e3)+3600}),u=(l?`${l}/`:"")+getDateFilename(t.name),p=upload(t,u,d,{},{region:s});return new Promise((b,h)=>{p.subscribe({next:_=>{console.log(_)},error:_=>{h(_.message)},complete:_=>{b(`${i}/${_.key}`)}})})}async function aliOSSFileUpload(t){const e=getDateFilename(t.name),o=await store.getJSON("aliOSSConfig",{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""}),{region:a,bucket:n,accessKeyId:s,accessKeySecret:l,useSSL:i,cdnHost:d,path:f}=o||{region:"",bucket:"",accessKeyId:"",accessKeySecret:"",useSSL:!0,cdnHost:"",path:""},u=f?`${f}/${e}`:e,p=i===void 0||i,b=p?"https":"http",h=new OSS({region:a,bucket:n,accessKeyId:s,accessKeySecret:l,secure:p});try{return await h.put(u,t),d?`${d}/${u}`:`${b}://${n}.${a}.aliyuncs.com/${u}`}catch(_){return Promise.reject(_)}}async function txCOSFileUpload(t){const e=getDateFilename(t.name),o=await store.get("txCOSConfig"),{secretId:a,secretKey:n,bucket:s,region:l,path:i,cdnHost:d}=JSON.parse(o),f=new COS({SecretId:a,SecretKey:n});return new Promise((u,p)=>{f.putObject({Bucket:s,Region:l,Key:`${i}/${e}`,Body:t},(b,h)=>{b?p(b):u(d?i===""?`${d}/${e}`:`${d}/${i}/${e}`:`https://${h.Location}`)})})}async function minioFileUpload(t){const e=getDateFilename(t.name),o=await store.get("minioConfig"),{endpoint:a,port:n,useSSL:s,bucket:l,accessKey:i,secretKey:d}=JSON.parse(o),f=new S3Client({endpoint:`${s?"https":"http"}://${a}${n?`:${n}`:""}`,credentials:{accessKeyId:i,secretAccessKey:d},region:"auto",forcePathStyle:!0}),u=new PutObjectCommand({Bucket:l,Key:e,ContentType:t.type}),p=await getSignedUrl(f,u,{expiresIn:300});return await service(p,{method:"PUT",headers:{"Content-Type":t.type},data:t}).catch(b=>{console.log(b)}),`${s?"https":"http"}://${a}${n?`:${n}`:""}/${l}/${e}`}async function getMpToken(t,e,o){const a=await store.get(`mpToken:${t}`);if(a){const i=JSON.parse(a);if(i.expire&&i.expire>new Date().getTime())return i.access_token}const n={method:"POST",data:{grant_type:"client_credential",appid:t,secret:e}};let s="https://api.weixin.qq.com/cgi-bin/stable_token";o&&(s=`${o}/cgi-bin/stable_token`);const l=await service(s,n);if(l.access_token){const i={...l,expire:new Date().getTime()+l.expires_in*1e3};return await store.setJSON(`mpToken:${t}`,i),l.access_token}return""}async function mpFileUpload(t){const e=await store.get("mpConfig");let{appID:o,appsecret:a,proxyOrigin:n}=JSON.parse(e);const s=await getMpToken(o,a,n);if(!s)throw new Error("获取 access_token 失败");const l=new FormData;l.append("media",t,t.name);const i={method:"POST",data:l};let d=`https://api.weixin.qq.com/cgi-bin/material/add_material?access_token=${s}&type=image`;const f=t.size/(1024*1024),u=t.type.toLowerCase();f<1&&(u==="image/jpeg"||u==="image/png")&&(d=`https://api.weixin.qq.com/cgi-bin/media/uploadimg?access_token=${s}`),n&&(d=d.replace("https://api.weixin.qq.com",n));const p=await service(d,i);if(!p.url)throw new Error("上传失败，未获取到URL");let b=p.url;return n&&window.location.href.startsWith("http")&&(b=`https://wsrv.nl?url=${encodeURIComponent(b)}`),b}async function r2Upload(t){const e=await store.get("r2Config"),{accountId:o,accessKey:a,secretKey:n,bucket:s,path:l,domain:i}=JSON.parse(e),f=(l?`${l}/`:"")+getDateFilename(t.name),u=new S3Client({region:"auto",endpoint:`https://${o}.r2.cloudflarestorage.com`,credentials:{accessKeyId:a,secretAccessKey:n}}),p=await getSignedUrl(u,new PutObjectCommand({Bucket:s,Key:f,ContentType:t.type}),{expiresIn:300});return await service(p,{method:"PUT",headers:{"Content-Type":t.type},data:t}).catch(b=>{console.log(b)}),`${i}/${f}`}async function upyunUpload(t){const e=await store.get("upyunConfig"),{bucket:o,operator:a,password:n,path:s,domain:l}=JSON.parse(e),i=`${s}/${getDateFilename(t.name)}`,d=`/${o}/${i}`,f=await t.arrayBuffer(),u=new Date().toUTCString(),b=["PUT",d,u].join("&"),h=CryptoJS.MD5(n).toString(),_=CryptoJS.HmacSHA1(b,h).toString(CryptoJS.enc.Base64),C=`UPYUN ${a}:${_}`,g=`https://v0.api.upyun.com${d}`,w=await window.fetch(g,{method:"PUT",headers:{Authorization:C,"X-Date":u,"Content-Type":t.type},body:f});if(!w.ok)throw new Error(`上传失败: ${await w.text()}`);return`${l}/${i}`}async function telegramUpload(t){const e=await store.getJSON("telegramConfig",{token:"",chatId:""}),{token:o,chatId:a}=e||{token:"",chatId:""},n=new FormData;n.append("chat_id",a),n.append("photo",t,t.name);const s=await service({url:`https://api.telegram.org/bot${o}/sendPhoto`,method:"POST",data:n});if(!s.ok||!s.result.photo.length)throw new Error("Telegram sendPhoto 失败");const l=s.result.photo[s.result.photo.length-1].file_id,i=await service({url:`https://api.telegram.org/bot${o}/getFile?file_id=${l}`,method:"GET"});if(!i.ok)throw new Error("Telegram getFile 失败");const d=i.result.file_path;return`https://api.telegram.org/file/bot${o}/${d}`}async function cloudinaryUpload(t){const e=await store.getJSON("cloudinaryConfig",{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""}),{cloudName:o,apiKey:a,apiSecret:n,uploadPreset:s,folder:l="",domain:i}=e||{cloudName:"",apiKey:"",apiSecret:"",uploadPreset:"",folder:"",domain:""};if(!o||!a)throw new Error("Cloudinary 配置缺少 cloudName / apiKey");const d=Math.floor(Date.now()/1e3),f=new FormData;if(f.append("file",t),f.append("api_key",a),f.append("timestamp",`${d}`),n){const h=[];l&&h.push(`folder=${l}`),s&&h.push(`upload_preset=${s}`),h.push(`timestamp=${d}`);const _=h.sort().join("&"),C=CryptoJS.SHA1(_+n).toString();f.append("signature",C)}else if(s)f.append("upload_preset",s);else throw new Error("未配置 apiSecret 时必须提供 uploadPreset");l&&f.append("folder",l);const u=`https://api.cloudinary.com/v1_1/${o}/image/upload`,p=await service(u,{method:"POST",data:f}),b=p.secure_url||p.url;if(!b)throw new Error("Cloudinary 返回缺少 url 字段");if(i){const{pathname:h,search:_}=new URL(b);return`${i}${h}${_}`}return b}async function formCustomUpload(content,file){const customConfig=await store.get("formCustomConfig"),str=`
    async (CUSTOM_ARG) => {
      ${customConfig}
    }
  `;return new Promise((resolve,reject)=>{const exportObj={content,file,util:{axios:service,CryptoJS,OSS,COS,Buffer,uuidv4:v4,qiniu,tokenTools,getDir,getDateFilename},okCb:resolve,errCb:reject};eval(str)(exportObj).catch(t=>{console.error(t),reject(t)})})}async function fileUpload(t,e){const o=await store.get("imgHost");switch(o||await store.set("imgHost","default"),o){case"aliOSS":return aliOSSFileUpload(e);case"minio":return minioFileUpload(e);case"txCOS":return txCOSFileUpload(e);case"qiniu":return qiniuUpload(e);case"gitee":return giteeUpload(t,e.name);case"github":return ghFileUpload(t,e.name);case"mp":return mpFileUpload(e);case"r2":return r2Upload(e);case"upyun":return upyunUpload(e);case"telegram":return telegramUpload(e);case"cloudinary":return cloudinaryUpload(e);case"formCustom":return formCustomUpload(t,e);default:return ghFileUpload(t,e.name)}}const _hoisted_1={class:"container flex flex-col"},_hoisted_2={class:"container-main flex flex-1 flex-col"},_hoisted_3={class:"container-main-section border-radius-10 relative flex flex-1 overflow-hidden border"},_hoisted_4=["innerHTML"],_hoisted_5={key:0,class:"loading-mask"},_hoisted_6={key:0,class:"fixed bottom-16 right-6 z-50 flex flex-col gap-2"},_sfc_main$1=defineComponent({__name:"CodemirrorEditor",setup(t){const e=useEditorStore(),o=usePostStore(),a=useRenderStore(),n=useThemeStore(),s=useUIStore(),l=useCssEditorStore(),{editor:i}=storeToRefs(e),{output:d}=storeToRefs(a),{isDark:f}=storeToRefs(s),{posts:u,currentPostIndex:p}=storeToRefs(o),{previewWidth:b}=storeToRefs(n),{isMobile:h,isEditOnLeft:_,isOpenPostSlider:C,isOpenRightSlider:g,isOpenConfirmDialog:w}=storeToRefs(s),{toggleShowUploadImgDialog:x}=s;function m(){n.updateCodeTheme();const P=e.getContent();a.render(P,{isCiteStatus:n.isCiteStatus,legend:n.legend,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,isCountStatus:n.isCountStatus,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber})}function G(){n.resetStyle(),l.resetCssConfig(),a.updateCss(l.getCurrentTabContent()),m(),toast.success("样式已重置")}watch(d,()=>{nextTick(()=>{const P=document.getElementById("output");P&&highlightPendingBlocks(HighlightJS,P)})});const N=ref(!1),T=ref(!1);function M(){return document.querySelector(".cm-scroller")||document.querySelector(".CodeMirror-scroll")}function E(){N.value=!0,T.value=!0}function Q(){N.value=!1,setTimeout(()=>{T.value=!1},800)}const K=ref(!0);function V(){K.value=!K.value}const y=useTemplateRef("previewRef"),A=ref(),H=ref(null),ae=new Compartment;function ee(){const P=pe=>{let ce,he;if(clearTimeout(A.value),pe==="preview"){if(ce=y.value,he=M(),!he){console.warn("Cannot find CodeMirror scroll container");return}const Ce=M();Ce&&(Ce.removeEventListener("scroll",D),A.value=setTimeout(()=>{Ce.addEventListener("scroll",D)},300))}else{if(ce=M(),he=y.value,!ce){console.warn("Cannot find CodeMirror scroll container");return}he.removeEventListener("scroll",$,!1),A.value=setTimeout(()=>{he.addEventListener("scroll",$,!1)},300)}if(!ce||!he)return;const _e=ce.scrollHeight-ce.offsetHeight,we=he.scrollHeight-he.offsetHeight;if(_e<=0||we<=0)return;const xe=ce.scrollTop/_e*we;he.scrollTo(0,xe)};function D(){P("editor")}function $(){P("preview")}y.value&&y.value.addEventListener("scroll",$,!1);const le=M();le&&le.addEventListener("scroll",D)}onMounted(()=>{setTimeout(()=>{ee()},300)});const U=useTemplateRef("searchTabRef"),j=ref(null);function ue(P){const D=P.state.selection.main,$=P.state.doc.sliceString(D.from,D.to).trim();U.value?$?U.value.setSearchWord($):U.value.showSearchTab=!0:j.value={selected:$}}watch(U,P=>{if(P&&j.value){const{selected:D}=j.value;D?P.setSearchWord(D):P.showSearchTab=!0,j.value=null}});function re(P){const D=H.value;P.key==="Escape"&&U.value?.showSearchTab&&(U.value.showSearchTab=!1,P.preventDefault(),D?.focus())}onMounted(()=>{document.addEventListener("keydown",re,{passive:!1,capture:!1})});async function J(P){const D=checkImage(P);if(!D.ok)return toast.error(D.msg),!1;const $=await store.get("imgHost")||"default";await store.set("imgHost",$);const le=await store.get(`${$}Config`);return $==="default"||le?!0:(toast.error(`请先配置 ${$} 图床参数`),!1)}function L(P){if(!P){toast.error("上传图片未知异常");return}setTimeout(()=>{x(!1)},1e3);const D=`![](${P})`;H.value&&H.value.dispatch(H.value.state.replaceSelection(`
${D}
`)),toast.success("图片上传成功")}const oe=ref(!1);async function S(P){return await imageCompression(P,{maxSizeMB:1,maxWidthOrHeight:1920,useWebWorker:!0})}async function I(P,D,$){try{oe.value=!0,await store.get("useCompression")==="true"&&(P=await S(P));const pe=await toBase64(P),ce=await fileUpload(pe,P);if(D?D(ce,pe):L(ce),$)return L(ce)}catch(le){toast.error(le.message)}finally{oe.value=!1}}async function Z({list:P}){return new Promise(D=>{const{path:$,file:le}=P.find(ce=>ce.path.match(/\.md$/)),pe=new FileReader;pe.readAsText(le,"UTF-8"),pe.onload=ce=>{D({str:ce.target.result,file:le,path:$})}})}async function me(P){const D=[];let $="";try{const le=[P];for(const pe of le){$+=`${pe.name}/`;for await(const[,ce]of pe)ce.kind==="file"?D.push({path:$+ce.name,file:await ce.getFile()}):(D.push({path:`${$+ce.name}/`}),le.push(ce))}}catch(le){console.error(le)}return D}async function ie({md:P,list:D}){const $=[...P.str.matchAll(/!\[(.*?)\]\((.*?)\)/g)||[]].filter(ce=>ce),le=P.path.match(/.+?\//)[0];(await Promise.all($.map(ce=>new Promise(he=>{let[,,_e]=ce;_e=_e.replace(/^.\//,"");const{file:we}=D.find(ve=>ve.path===`${le}${_e}`)||{};I(we,ve=>he({matchStr:_e,url:ve}))})))).forEach(ce=>{P.str=P.str.replace(`](./${ce.matchStr})`,`](${ce.url})`).replace(`](${ce.matchStr})`,`](${ce.url})`)}),H.value&&H.value.dispatch({changes:{from:0,to:H.value.state.doc.length,insert:P.str}})}const te=useTemplateRef("codeMirrorWrapper");function Y(){const P=te.value;P.ondragover=D=>D.preventDefault(),P.ondrop=async D=>{if(D.preventDefault(),!(D.dataTransfer==null||!Array.isArray(D.dataTransfer.items)))for(const $ of D.dataTransfer.items.filter(le=>le.kind==="file"))$.getAsFileSystemHandle().then(async le=>{if(le.kind==="directory"){const pe=await me(le),ce=await Z({list:pe});ie({md:ce,list:pe})}else{const pe=await le.getFile();console.log("file",pe),await J(pe)&&I(pe)}})}}const R=ref(),W=useTemplateRef("editorRef"),se=ref(0);function fe(P){const D=EditorState.create({doc:u.value[p.value].content,extensions:[markdownSetup({onSearch:ue}),ae.of(theme(f.value)),EditorView.updateListener.of(le=>{if(le.docChanged){const pe=le.state.doc.toString();clearTimeout(R.value),R.value=setTimeout(()=>{m();const ce=u.value[p.value];pe!==ce.content&&(ce.updateDatetime=new Date,ce.content=pe)},300)}})]}),$=new EditorView({state:D,parent:P});return H.value=$,$.dom.addEventListener("paste",async le=>{if(!le.clipboardData?.items||oe.value)return;const ce=(await Promise.all([...le.clipboardData.items].map(we=>we.getAsFile()).filter(we=>we!=null).map(async we=>await J(we)?we:null))).filter(we=>we!=null);if(ce.length===0)return;const he=setInterval(()=>{const we=se.value+1;we>=100||(se.value=we)},100);for(const we of ce)le.preventDefault(),await I(we);(()=>{clearInterval(he),se.value=100,setTimeout(()=>{se.value=0},1e3)})()}),$}onMounted(()=>{const P=W.value;if(P==null)return;const D=l.getCurrentTabContent();a.initRendererInstance(D,themeMap[n.theme],n.fontFamily,n.fontSize,{primaryColor:n.primaryColor,isUseIndent:n.isUseIndent,isUseJustify:n.isUseJustify,isMacCodeBlock:n.isMacCodeBlock,isShowLineNumber:n.isShowLineNumber}),nextTick(()=>{const $=fe(P);i.value=$,m(),Y()})}),watch(f,()=>{H.value&&H.value.dispatch({effects:ae.reconfigure(theme(f.value))})}),watch(p,()=>{if(!H.value)return;const P=u.value[p.value];if(!P)return;H.value.state.doc.toString()!==P.content&&(H.value.dispatch({changes:{from:0,to:H.value.state.doc.length,insert:P.content}}),m())});const ne=ref();return onMounted(()=>{ne.value=setInterval(()=>{const P=u.value[p.value];(P.history||[])[0]?.content!==P.content&&(P.history??=[],P.history.unshift({content:P.content,datetime:new Date().toLocaleString("zh-CN")}),P.history.length=Math.min(P.history.length,10))},30*1e3)}),onUnmounted(()=>{clearTimeout(ne.value),clearTimeout(A.value),clearTimeout(R.value),document.removeEventListener("keydown",re)}),(P,D)=>{const $=_sfc_main$1n,le=__unplugin_components_1,pe=__unplugin_components_2,ce=_sfc_main$$,he=_sfc_main$16,_e=_sfc_main$17,we=__unplugin_components_6,ve=__unplugin_components_7,xe=_sfc_main$1b,Ce=_sfc_main$1r,ye=_sfc_main$1y,Ne=_sfc_main$1J,ke=_sfc_main$1K,be=_sfc_main$1L,de=_sfc_main$1M,F=_sfc_main$1N,ge=_sfc_main$1P,Ee=_sfc_main$1Q,Be=_sfc_main$1R,Te=_sfc_main$1S;return openBlock(),createElementBlock("div",_hoisted_1,[createVNode($,{modelValue:unref(se),"onUpdate:modelValue":D[0]||(D[0]=Ve=>isRef(se)?se.value=Ve:null),class:"absolute left-0 right-0 rounded-none",style:{height:"2px"}},null,8,["modelValue"]),createVNode(le,{onStartCopy:E,onEndCopy:Q}),createBaseVNode("main",_hoisted_2,[createBaseVNode("div",_hoisted_3,[createVNode(unref(_sfc_main$3),{direction:"horizontal"},{default:withCtx(()=>[createVNode(unref(SplitterPanel_default),{"default-size":15,"max-size":unref(C)?30:0,"min-size":unref(C)?10:0},{default:withCtx(()=>[createVNode(pe)]),_:1},8,["max-size","min-size"]),createVNode(unref(_sfc_main$4),{class:"hidden md:block"}),createVNode(unref(SplitterPanel_default),{class:"flex"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{ref_key:"codeMirrorWrapper",ref:te,class:normalizeClass(["codeMirror-wrapper relative flex-1",{"order-1 border-l":!unref(_),"border-r":unref(_)}])},[unref(H)?(openBlock(),createBlock(unref(SearchTab),{key:0,ref_key:"searchTabRef",ref:U,"editor-view":unref(H)},null,8,["editor-view"])):createCommentVNode("",!0),createVNode(unref(SidebarAIToolbar),{"is-mobile":unref(h),"show-editor":unref(K)},null,8,["is-mobile","show-editor"]),createVNode(ce,null,{default:withCtx(()=>[createBaseVNode("div",{id:"editor",ref_key:"editorRef",ref:W,class:"codemirror-container"},null,512)]),_:1})],2),[[vShow,!unref(h)||unref(h)&&unref(K)]]),withDirectives(createBaseVNode("div",{class:normalizeClass(["relative flex-1 overflow-x-hidden transition-width",[unref(g)?"w-0":"w-100"]])},[createBaseVNode("div",{id:"preview",ref_key:"previewRef",ref:y,class:"preview-wrapper w-full p-5"},[createBaseVNode("div",{id:"output-wrapper",class:normalizeClass(["w-full",{output_night:!unref(N)}])},[createBaseVNode("div",{class:normalizeClass(["preview border-x shadow-xl",[unref(h)?"w-[100%]":unref(b)]])},[createBaseVNode("section",{id:"output",class:"w-full",innerHTML:unref(d)},null,8,_hoisted_4),unref(T)?(openBlock(),createElementBlock("div",_hoisted_5,[...D[2]||(D[2]=[createBaseVNode("div",{class:"loading-mask-box"},[createBaseVNode("div",{class:"loading__img"}),createBaseVNode("span",null,"正在生成")],-1)])])):createCommentVNode("",!0)],2)],2),createVNode(he,{target:"preview",right:unref(h)?24:20,bottom:unref(h)?90:20},null,8,["right","bottom"])],512),createVNode(_e)],2),[[vShow,!unref(h)||unref(h)&&!unref(K)]]),createVNode(we),createVNode(ve)]),_:1})]),_:1})]),unref(h)?(openBlock(),createElementBlock("div",_hoisted_6,[createBaseVNode("button",{class:"bg-primary flex items-center justify-center rounded-full p-3 text-white shadow-lg transition active:scale-95 hover:scale-105 dark:bg-gray-700 dark:text-white dark:ring-2 dark:ring-white/30","aria-label":"切换编辑/预览",onClick:V},[(openBlock(),createBlock(resolveDynamicComponent(unref(K)?unref(Eye):unref(Pen)),{class:"h-5 w-5"}))])])):createCommentVNode("",!0),createVNode(xe,{onUploadImage:I}),createVNode(Ce),createVNode(ye),createVNode(Be,{open:unref(w),"onUpdate:open":D[1]||(D[1]=Ve=>isRef(w)?w.value=Ve:null)},{default:withCtx(()=>[createVNode(Ee,null,{default:withCtx(()=>[createVNode(be,null,{default:withCtx(()=>[createVNode(Ne,null,{default:withCtx(()=>[...D[3]||(D[3]=[createTextVNode("提示",-1)])]),_:1}),createVNode(ke,null,{default:withCtx(()=>[...D[4]||(D[4]=[createTextVNode(" 此操作将丢失本地自定义样式，是否继续？ ",-1)])]),_:1})]),_:1}),createVNode(ge,null,{default:withCtx(()=>[createVNode(de,null,{default:withCtx(()=>[...D[5]||(D[5]=[createTextVNode("取消",-1)])]),_:1}),createVNode(F,{onClick:G},{default:withCtx(()=>[...D[6]||(D[6]=[createTextVNode(" 确认 ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"])]),createVNode(Te)])}}}),CodemirrorEditor=_export_sfc(_sfc_main$1,[["__scopeId","data-v-427288f5"]]),_sfc_main=defineComponent({__name:"App",setup(t){const e=useUIStore(),{isDark:o}=storeToRefs(e),a=ref(!1);return onMounted(()=>{a.value=!!window.__MD_UTOOLS__,a.value&&document.documentElement.classList.add("is-utools")}),(n,s)=>{const l=__unplugin_components_0$1;return openBlock(),createElementBlock(Fragment,null,[createVNode(l),createVNode(CodemirrorEditor),createVNode(unref(_sfc_main$1T),{"rich-colors":"",position:"top-center",theme:unref(o)?"dark":"light"},null,8,["theme"])],64)}}});class MpCommonProfile extends HTMLElement{constructor(){super(),this.attachShadow({mode:"open"})}connectedCallback(){const e=this.dataset.nickname||"",o=this.dataset.headimg||"",a=this.dataset.signature||"",n=this.dataset.service_type||"1",s=this.dataset.verify_status||"0";this.shadowRoot.innerHTML=`
      <style>
        :host {
          all: initial;
          -webkit-text-size-adjust: inherit;

        }
      </style>
      <style>@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root,body,page{--weui-BTN-HEIGHT:48;--weui-BTN-HEIGHT-MEDIUM:40;--weui-BTN-HEIGHT-SMALL:32}.wx-root,body{--weui-BTN-ACTIVE-MASK:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-ACTIVE-MASK:hsla(0,0%,100%,0.1)}}.wx-root,body{--weui-BTN-DEFAULT-ACTIVE-BG:#e6e6e6}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BTN-DEFAULT-ACTIVE-BG:hsla(0,0%,100%,0.126)}}.wx-root,body{--weui-DIALOG-LINE-COLOR:rgba(0,0,0,0.1)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-DIALOG-LINE-COLOR:hsla(0,0%,100%,0.1)}}.weui-flex{display:flex}.weui-flex__item{flex:1}.wx-root,body{--weui-BG-COLOR-ACTIVE:#ececec}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-COLOR-ACTIVE:#373737}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-COLOR-ACTIVE:#373737}}[class*=" weui-icon-"][class*=" weui-icon-"],[class*=" weui-icon-"][class^=weui-icon-],[class^=weui-icon-][class*=" weui-icon-"],[class^=weui-icon-][class^=weui-icon-]{display:inline-block;vertical-align:middle;font-size:10px;width:2.4em;height:2.4em;-webkit-mask-position:50% 50%;mask-position:50% 50%;-webkit-mask-repeat:no-repeat;mask-repeat:no-repeat;-webkit-mask-size:100%;mask-size:100%;background-color:currentColor}.weui-icon-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='1000' height='1000' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M500 916.667C269.881 916.667 83.333 730.119 83.333 500 83.333 269.881 269.881 83.333 500 83.333c230.119 0 416.667 186.548 416.667 416.667 0 230.119-186.548 416.667-416.667 416.667zm0-50c202.504 0 366.667-164.163 366.667-366.667 0-202.504-164.163-366.667-366.667-366.667-202.504 0-366.667 164.163-366.667 366.667 0 202.504 164.163 366.667 366.667 366.667z' fill-rule='evenodd' fill-opacity='.9'/%3E%3C/svg%3E")}.weui-icon-download{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M11.25 12.04l-1.72-1.72-1.06 1.06 2.828 2.83a1 1 0 001.414-.001l2.828-2.828-1.06-1.061-1.73 1.73V7h-1.5v5.04zm0-5.04V2h1.5v5h6.251c.55 0 .999.446.999.996v13.008a.998.998 0 01-.996.996H4.996A.998.998 0 014 21.004V7.996A1 1 0 014.999 7h6.251z'/%3E%3C/svg%3E")}.weui-icon-info{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.75-12v7h1.5v-7h-1.5zM12 9a1 1 0 100-2 1 1 0 000 2z'/%3E%3C/svg%3E")}.weui-icon-safe-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.6C315.5 46.7 180.4 93.1 57.6 132c0 129.3.2 231.7.2 339.7 0 304.2 248.3 471.6 443.1 523.7C695.7 943.3 944 775.9 944 471.7c0-108 .2-210.4.2-339.7C821.4 93.1 686.3 46.7 500.9 4.6zm248.3 349.1l-299.7 295c-2.1 2-5.3 2-7.4-.1L304.4 506.1c-2-2.1-2.3-5.7-.6-8l18.3-24.9c1.7-2.3 5-2.8 7.2-1l112.2 86c2.3 1.8 6 1.7 8.1-.1l274.7-228.9c2.2-1.8 5.7-1.7 7.7.3l17 16.8c2.2 2.1 2.2 5.3.2 7.4z' fill-rule='evenodd' clip-rule='evenodd' fill='%23070202'/%3E%3C/svg%3E")}.weui-icon-safe-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 1000 1000'%3E%3Cpath d='M500.9 4.5c-185.4 42-320.4 88.4-443.2 127.3 0 129.3.2 231.7.2 339.6 0 304.1 248.2 471.4 443 523.6 194.7-52.2 443-219.5 443-523.6 0-107.9.2-210.3.2-339.6C821.3 92.9 686.2 46.5 500.9 4.5zm-26.1 271.1h52.1c5.8 0 10.3 4.7 10.1 10.4l-11.6 313.8c-.1 2.8-2.5 5.2-5.4 5.2h-38.2c-2.9 0-5.3-2.3-5.4-5.2L464.8 286c-.2-5.8 4.3-10.4 10-10.4zm26.1 448.3c-20.2 0-36.5-16.3-36.5-36.5s16.3-36.5 36.5-36.5 36.5 16.3 36.5 36.5-16.4 36.5-36.5 36.5z' fill-rule='evenodd' clip-rule='evenodd' fill='%23020202'/%3E%3C/svg%3E")}.weui-icon-success{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-1.177-7.86l-2.765-2.767L7 12.431l3.119 3.121a1 1 0 001.414 0l5.952-5.95-1.062-1.062-5.6 5.6z'/%3E%3C/svg%3E")}.weui-icon-success-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm-1.172-6.242l5.809-5.808.848.849-5.95 5.95a1 1 0 01-1.414 0L7 12.426l.849-.849 2.98 2.98z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.657 18.435L3 12.778l1.414-1.414 4.95 4.95L20.678 5l1.414 1.414-12.02 12.021a1 1 0 01-1.415 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.75 11.38V6h-1.5v6l4.243 4.243 1.06-1.06-3.803-3.804zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-waiting-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.6 11.503l3.891 3.891-.848.849L11.4 12V6h1.2v5.503zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z'/%3E%3C/svg%3E")}.weui-icon-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm-.763-15.864l.11 7.596h1.305l.11-7.596h-1.525zm.759 10.967c.512 0 .902-.383.902-.882 0-.5-.39-.882-.902-.882a.878.878 0 00-.896.882c0 .499.396.882.896.882z'/%3E%3C/svg%3E")}.weui-icon-outlined-warn{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M2 12c0 5.523 4.477 10 10 10s10-4.477 10-10S17.523 2 12 2 2 6.477 2 12zm18.8 0a8.8 8.8 0 11-17.6 0 8.8 8.8 0 0117.6 0zm-8.14-5.569l-.089 7.06H11.43l-.088-7.06h1.318zm-1.495 9.807c0 .469.366.835.835.835a.82.82 0 00.835-.835.817.817 0 00-.835-.835.821.821 0 00-.835.835z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-info-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zM11.4 10h1.2v7h-1.2v-7zm.6-1a1 1 0 110-2 1 1 0 010 2z'/%3E%3C/svg%3E")}.weui-icon-cancel{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cg fill-rule='evenodd'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6z' fill-rule='nonzero'/%3E%3Cpath d='M12.849 12l3.11 3.111-.848.849L12 12.849l-3.111 3.11-.849-.848L11.151 12l-3.11-3.111.848-.849L12 11.151l3.111-3.11.849.848L12.849 12z'/%3E%3C/g%3E%3C/svg%3E")}.weui-icon-search{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M16.31 15.561l4.114 4.115-.848.848-4.123-4.123a7 7 0 11.857-.84zM16.8 11a5.8 5.8 0 10-11.6 0 5.8 5.8 0 0011.6 0z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-clear{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M13.06 12l3.006-3.005-1.06-1.06L12 10.938 8.995 7.934l-1.06 1.06L10.938 12l-3.005 3.005 1.06 1.06L12 13.062l3.005 3.005 1.06-1.06L13.062 12zM12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10z'/%3E%3C/svg%3E")}.weui-icon-back{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm1.999-6.563L10.68 12 14 8.562 12.953 7.5 9.29 11.277a1.045 1.045 0 000 1.446l3.663 3.777L14 15.437z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-delete{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M6.774 6.4l.812 13.648a.8.8 0 00.798.752h7.232a.8.8 0 00.798-.752L17.226 6.4H6.774zm11.655 0l-.817 13.719A2 2 0 0115.616 22H8.384a2 2 0 01-1.996-1.881L5.571 6.4H3.5v-.7a.5.5 0 01.5-.5h16a.5.5 0 01.5.5v.7h-2.071zM14 3a.5.5 0 01.5.5v.7h-5v-.7A.5.5 0 0110 3h4zM9.5 9h1.2l.5 9H10l-.5-9zm3.8 0h1.2l-.5 9h-1.2l.5-9z'/%3E%3C/svg%3E")}.weui-icon-success-no-circle-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M8.864 16.617l-5.303-5.303-1.061 1.06 5.657 5.657a1 1 0 001.414 0L21.238 6.364l-1.06-1.06L8.864 16.616z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M2.454 6.58l1.06-1.06 5.78 5.779a.996.996 0 010 1.413l-5.78 5.779-1.06-1.061 5.425-5.425-5.425-5.424z' fill='%23B2B2B2' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-arrow-bold{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg height='24' width='12' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10.157 12.711L4.5 18.368l-1.414-1.414 4.95-4.95-4.95-4.95L4.5 5.64l5.657 5.657a1 1 0 010 1.414z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M3.343 12l7.071 7.071L9 20.485l-7.778-7.778a1 1 0 010-1.414L9 3.515l1.414 1.414L3.344 12z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-arrow-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='12' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M10 19.438L8.955 20.5l-7.666-7.79a1.02 1.02 0 010-1.42L8.955 3.5 10 4.563 2.682 12 10 19.438z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-close{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' fill='none' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath fill-rule='evenodd' clip-rule='evenodd' d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5l-6.193 6.193z' fill='%23000'/%3E%3C/svg%3E")}.weui-icon-close-thin{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12.25 10.693L6.057 4.5 5 5.557l6.193 6.193L5 17.943 6.057 19l6.193-6.193L18.443 19l1.057-1.057-6.193-6.193L19.5 5.557 18.443 4.5z' fill-rule='evenodd'/%3E%3C/svg%3E")}.weui-icon-back-circle{-webkit-mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E");mask-image:url("data:image/svg+xml;charset=utf-8,%3Csvg width='24' height='24' xmlns='http://www.w3.org/2000/svg'%3E%3Cpath d='M12 22C6.477 22 2 17.523 2 12S6.477 2 12 2s10 4.477 10 10-4.477 10-10 10zm0-1.2a8.8 8.8 0 100-17.6 8.8 8.8 0 000 17.6zm1.999-5.363L12.953 16.5 9.29 12.723a1.045 1.045 0 010-1.446L12.953 7.5 14 8.563 10.68 12 14 15.438z'/%3E%3C/svg%3E")}.weui-icon-success{color:var(--weui-BRAND)}.weui-icon-waiting{color:var(--weui-BLUE)}.weui-icon-warn{color:var(--weui-RED)}.weui-icon-info{color:var(--weui-BLUE)}.weui-icon-success-circle,.weui-icon-success-no-circle,.weui-icon-success-no-circle-thin{color:var(--weui-BRAND)}.weui-icon-waiting-circle{color:var(--weui-BLUE)}.weui-icon-circle{color:var(--weui-FG-2)}.weui-icon-download{color:var(--weui-BRAND)}.weui-icon-info-circle{color:var(--weui-FG-2)}.weui-icon-safe-success{color:var(--weui-BRAND)}.weui-icon-safe-warn{color:var(--weui-YELLOW)}.weui-icon-cancel{color:var(--weui-RED)}.weui-icon-search{color:var(--weui-FG-1)}.weui-icon-clear{color:var(--weui-FG-2)}.weui-icon-clear:active{color:var(--weui-FG-1)}.weui-icon-delete.weui-icon_gallery-delete{color:var(--weui-WHITE)}.weui-icon-arrow-bold.weui-icon-arrow,.weui-icon-arrow-bold.weui-icon-arrow-bold,.weui-icon-arrow-bold.weui-icon-back-arrow,.weui-icon-arrow-bold.weui-icon-back-arrow-thin,.weui-icon-arrow.weui-icon-arrow,.weui-icon-arrow.weui-icon-arrow-bold,.weui-icon-arrow.weui-icon-back-arrow,.weui-icon-arrow.weui-icon-back-arrow-thin,.weui-icon-back-arrow-thin.weui-icon-arrow,.weui-icon-back-arrow-thin.weui-icon-arrow-bold,.weui-icon-back-arrow-thin.weui-icon-back-arrow,.weui-icon-back-arrow-thin.weui-icon-back-arrow-thin,.weui-icon-back-arrow.weui-icon-arrow,.weui-icon-back-arrow.weui-icon-arrow-bold,.weui-icon-back-arrow.weui-icon-back-arrow,.weui-icon-back-arrow.weui-icon-back-arrow-thin{width:1.2em}.weui-icon-arrow,.weui-icon-arrow-bold{color:var(--weui-FG-2)}.weui-icon-back,.weui-icon-back-arrow,.weui-icon-back-arrow-thin,.weui-icon-back-circle{color:var(--weui-FG-0)}.weui-icon_msg.weui-icon_msg{width:6.4em;height:6.4em}.weui-icon_msg.weui-icon_msg.weui-icon-warn{color:var(--weui-RED)}.weui-icon_msg.weui-icon_msg.weui-icon-info-circle{color:var(--weui-BLUE)}.weui-icon_msg-primary.weui-icon_msg-primary{width:6.4em;height:6.4em}.weui-icon_msg-primary.weui-icon_msg-primary.weui-icon-warn{color:var(--weui-YELLOW)}.wx-root,body{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#07c160;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:rgba(0,0,0,0.9);--weui-FG-0_5:rgba(0,0,0,0.9);--weui-FG-1:rgba(0,0,0,0.55);--weui-FG-2:rgba(0,0,0,0.3);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:rgba(0,0,0,0.9);--weui-GLYPH-1:rgba(0,0,0,0.55);--weui-GLYPH-2:rgba(0,0,0,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#91d300;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#1485ee;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#95ec69;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#fa9d3b;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6467f0;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#fa5151;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.05);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#ffc300;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:rgba(0,0,0,0.9);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#fa9d3b;--weui-YELLOW:#ffc300;--weui-GREEN:#91d300;--weui-LIGHTGREEN:#95ec69;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1485ee;--weui-PURPLE:#6467f0;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#fa9d3b;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#10aeff;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.8);--weui-FG-0_5:hsla(0,0%,100%,0.6);--weui-FG-1:hsla(0,0%,100%,0.5);--weui-FG-2:hsla(0,0%,100%,0.3);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.8);--weui-GLYPH-1:hsla(0,0%,100%,0.5);--weui-GLYPH-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.8);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.5);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.3);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:rgba(95,95,95,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.1);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.6);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5);--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG:#fff;--weui-BG:#000;--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6)}.wx-root[data-weui-mode=care],body[data-weui-mode=care]{--weui-BG-0:#ededed;--weui-BG-1:#f7f7f7;--weui-BG-2:#fff;--weui-BG-3:#f7f7f7;--weui-BG-4:#4c4c4c;--weui-BG-5:#fff;--weui-BLUE-100:#007dbb;--weui-BLUE-120:#3fbeff;--weui-BLUE-170:#b7e6ff;--weui-BLUE-80:#0c8bcc;--weui-BLUE-90:#0e9ce6;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#5aafe4;--weui-BLUE-BG-130:#7fc0ea;--weui-BLUE-BG-90:#4095cb;--weui-BRAND-100:#018942;--weui-BRAND-120:#38cd7f;--weui-BRAND-170:#b4ecce;--weui-BRAND-80:#059a4c;--weui-BRAND-90:#06ae56;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#3eb575;--weui-BRAND-BG-130:#69c694;--weui-BRAND-BG-90:#259c5c;--weui-FG-0:#000;--weui-FG-0_5:#000;--weui-FG-1:rgba(0,0,0,0.6);--weui-FG-2:rgba(0,0,0,0.42);--weui-FG-3:rgba(0,0,0,0.1);--weui-FG-4:rgba(0,0,0,0.15);--weui-GLYPH-0:#000;--weui-GLYPH-1:rgba(0,0,0,0.6);--weui-GLYPH-2:rgba(0,0,0,0.42);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#4f8400;--weui-GREEN-120:#a7db33;--weui-GREEN-170:#def1b3;--weui-GREEN-80:#74a800;--weui-GREEN-90:#82bd00;--weui-GREEN-BG-100:#96be40;--weui-GREEN-BG-110:#a0c452;--weui-GREEN-BG-130:#b5d179;--weui-GREEN-BG-90:#86aa39;--weui-INDIGO-100:#0075e2;--weui-INDIGO-120:#439df1;--weui-INDIGO-170:#b8daf9;--weui-INDIGO-80:#106abe;--weui-INDIGO-90:#1277d6;--weui-INDIGO-BG-100:#2b77bf;--weui-INDIGO-BG-110:#3f84c5;--weui-INDIGO-BG-130:#6ba0d2;--weui-INDIGO-BG-90:#266aab;--weui-LIGHTGREEN-100:#2e8800;--weui-LIGHTGREEN-120:#aaef87;--weui-LIGHTGREEN-170:#def9d1;--weui-LIGHTGREEN-80:#77bc54;--weui-LIGHTGREEN-90:#85d35e;--weui-LIGHTGREEN-BG-100:#72cf60;--weui-LIGHTGREEN-BG-110:#80d370;--weui-LIGHTGREEN-BG-130:#9cdd90;--weui-LIGHTGREEN-BG-90:#66b956;--weui-LINK-100:#576b95;--weui-LINK-120:#7888aa;--weui-LINK-170:#ccd2de;--weui-LINK-80:#455577;--weui-LINK-90:#4e6085;--weui-LINKFINDER-100:#002666;--weui-MATERIAL-ATTACHMENTCOLUMN:hsla(0,0%,96.1%,0.95);--weui-MATERIAL-NAVIGATIONBAR:hsla(0,0%,92.9%,0.94);--weui-MATERIAL-REGULAR:hsla(0,0%,96.9%,0.3);--weui-MATERIAL-THICK:hsla(0,0%,96.9%,0.8);--weui-MATERIAL-THIN:hsla(0,0%,100%,0.2);--weui-MATERIAL-TOOLBAR:hsla(0,0%,96.5%,0.82);--weui-ORANGE-100:#e17719;--weui-ORANGE-120:#fbb062;--weui-ORANGE-170:#fde1c3;--weui-ORANGE-80:#c87d2f;--weui-ORANGE-90:#e08c34;--weui-ORANGE-BG-100:#ea7800;--weui-ORANGE-BG-110:#ec8519;--weui-ORANGE-BG-130:#f0a04d;--weui-ORANGE-BG-90:#d26b00;--weui-ORANGERED-100:#d14730;--weui-OVERLAY:rgba(0,0,0,0.5);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#6265f1;--weui-PURPLE-120:#8385f3;--weui-PURPLE-170:#d0d1fa;--weui-PURPLE-80:#5052c0;--weui-PURPLE-90:#595cd7;--weui-PURPLE-BG-100:#6769ba;--weui-PURPLE-BG-110:#7678c1;--weui-PURPLE-BG-130:#9496ce;--weui-PURPLE-BG-90:#5c5ea7;--weui-RED-100:#dc3636;--weui-RED-120:#fb7373;--weui-RED-170:#fdcaca;--weui-RED-80:#c84040;--weui-RED-90:#e14949;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#d3625a;--weui-RED-BG-130:#dd847e;--weui-RED-BG-90:#b94840;--weui-SECONDARY-BG:rgba(0,0,0,0.1);--weui-SEPARATOR-0:rgba(0,0,0,0.1);--weui-SEPARATOR-1:rgba(0,0,0,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:rgba(0,0,0,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:rgba(0,0,0,0.2);--weui-YELLOW-100:#bb8e00;--weui-YELLOW-120:#ffcf33;--weui-YELLOW-170:#ffecb2;--weui-YELLOW-80:#cc9c00;--weui-YELLOW-90:#e6af00;--weui-YELLOW-BG-100:#efb600;--weui-YELLOW-BG-110:#f0bd19;--weui-YELLOW-BG-130:#f3cc4d;--weui-YELLOW-BG-90:#d7a400;--weui-FG-HALF:#000;--weui-RED:#dc3636;--weui-ORANGERED:#d14730;--weui-ORANGE:#e17719;--weui-YELLOW:#bb8e00;--weui-GREEN:#4f8400;--weui-LIGHTGREEN:#2e8800;--weui-TEXTGREEN:#06ae56;--weui-BRAND:#018942;--weui-BLUE:#007dbb;--weui-INDIGO:#0075e2;--weui-PURPLE:#6265f1;--weui-LINK:#576b95;--weui-TAG-TEXT-ORANGE:#e17719;--weui-TAG-TEXT-GREEN:#06ae56;--weui-TAG-TEXT-BLUE:#007dbb;--weui-REDORANGE:#d14730;--weui-TAG-TEXT-BLACK:rgba(0,0,0,0.5);--weui-WHITE:#fff;--weui-BG:#fff;--weui-FG:#000;--weui-FG-5:rgba(0,0,0,0.05);--weui-TAG-BACKGROUND-ORANGE:rgba(225,119,25,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(0,125,187,0.1);--weui-TAG-BACKGROUND-BLACK:rgba(0,0,0,0.05)}@media (prefers-color-scheme:dark){.wx-root[data-weui-mode=care]:not([data-weui-theme=light]),body[data-weui-mode=care]:not([data-weui-theme=light]){--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}}.wx-root[data-weui-mode=care][data-weui-theme=dark],body[data-weui-mode=care][data-weui-theme=dark]{--weui-BG-0:#111;--weui-BG-1:#1e1e1e;--weui-BG-2:#191919;--weui-BG-3:#202020;--weui-BG-4:#404040;--weui-BG-5:#2c2c2c;--weui-BLUE-100:#10aeff;--weui-BLUE-120:#0c8bcc;--weui-BLUE-170:#04344d;--weui-BLUE-80:#3fbeff;--weui-BLUE-90:#28b6ff;--weui-BLUE-BG-100:#48a6e2;--weui-BLUE-BG-110:#4095cb;--weui-BLUE-BG-130:#32749e;--weui-BLUE-BG-90:#5aafe4;--weui-BRAND-100:#07c160;--weui-BRAND-120:#059a4c;--weui-BRAND-170:#023a1c;--weui-BRAND-80:#38cd7f;--weui-BRAND-90:#20c770;--weui-BRAND-BG-100:#2aae67;--weui-BRAND-BG-110:#259c5c;--weui-BRAND-BG-130:#1d7a48;--weui-BRAND-BG-90:#3eb575;--weui-FG-0:hsla(0,0%,100%,0.85);--weui-FG-0_5:hsla(0,0%,100%,0.65);--weui-FG-1:hsla(0,0%,100%,0.55);--weui-FG-2:hsla(0,0%,100%,0.35);--weui-FG-3:hsla(0,0%,100%,0.1);--weui-FG-4:hsla(0,0%,100%,0.15);--weui-GLYPH-0:hsla(0,0%,100%,0.85);--weui-GLYPH-1:hsla(0,0%,100%,0.55);--weui-GLYPH-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-0:hsla(0,0%,100%,0.85);--weui-GLYPH-WHITE-1:hsla(0,0%,100%,0.55);--weui-GLYPH-WHITE-2:hsla(0,0%,100%,0.35);--weui-GLYPH-WHITE-3:#fff;--weui-GREEN-100:#74a800;--weui-GREEN-120:#5c8600;--weui-GREEN-170:#233200;--weui-GREEN-80:#8fb933;--weui-GREEN-90:#82b01a;--weui-GREEN-BG-100:#789833;--weui-GREEN-BG-110:#6b882d;--weui-GREEN-BG-130:#65802b;--weui-GREEN-BG-90:#85a247;--weui-INDIGO-100:#1196ff;--weui-INDIGO-120:#0d78cc;--weui-INDIGO-170:#052d4d;--weui-INDIGO-80:#40abff;--weui-INDIGO-90:#28a0ff;--weui-INDIGO-BG-100:#0d78cc;--weui-INDIGO-BG-110:#0b6bb7;--weui-INDIGO-BG-130:#09548f;--weui-INDIGO-BG-90:#2585d1;--weui-LIGHTGREEN-100:#3eb575;--weui-LIGHTGREEN-120:#31905d;--weui-LIGHTGREEN-170:#123522;--weui-LIGHTGREEN-80:#64c390;--weui-LIGHTGREEN-90:#51bc83;--weui-LIGHTGREEN-BG-100:#31905d;--weui-LIGHTGREEN-BG-110:#2c8153;--weui-LIGHTGREEN-BG-130:#226541;--weui-LIGHTGREEN-BG-90:#31905d;--weui-LINK-100:#7d90a9;--weui-LINK-120:#647387;--weui-LINK-170:#252a32;--weui-LINK-80:#97a6ba;--weui-LINK-90:#899ab1;--weui-LINKFINDER-100:#dee9ff;--weui-MATERIAL-ATTACHMENTCOLUMN:rgba(32,32,32,0.93);--weui-MATERIAL-NAVIGATIONBAR:rgba(18,18,18,0.9);--weui-MATERIAL-REGULAR:rgba(37,37,37,0.6);--weui-MATERIAL-THICK:rgba(34,34,34,0.9);--weui-MATERIAL-THIN:hsla(0,0%,96.1%,0.4);--weui-MATERIAL-TOOLBAR:rgba(35,35,35,0.93);--weui-ORANGE-100:#c87d2f;--weui-ORANGE-120:#a06425;--weui-ORANGE-170:#3b250e;--weui-ORANGE-80:#d39758;--weui-ORANGE-90:#cd8943;--weui-ORANGE-BG-100:#bb6000;--weui-ORANGE-BG-110:#a85600;--weui-ORANGE-BG-130:#824300;--weui-ORANGE-BG-90:#c1701a;--weui-ORANGERED-100:#ff6146;--weui-OVERLAY:rgba(0,0,0,0.8);--weui-OVERLAY-WHITE:hsla(0,0%,94.9%,0.8);--weui-PURPLE-100:#8183ff;--weui-PURPLE-120:#6768cc;--weui-PURPLE-170:#26274c;--weui-PURPLE-80:#9a9bff;--weui-PURPLE-90:#8d8fff;--weui-PURPLE-BG-100:#6768cc;--weui-PURPLE-BG-110:#5c5db7;--weui-PURPLE-BG-130:#48498f;--weui-PURPLE-BG-90:#7677d1;--weui-RED-100:#fa5151;--weui-RED-120:#c84040;--weui-RED-170:#4b1818;--weui-RED-80:#fb7373;--weui-RED-90:#fa6262;--weui-RED-BG-100:#cf5148;--weui-RED-BG-110:#ba4940;--weui-RED-BG-130:#913832;--weui-RED-BG-90:#d3625a;--weui-SECONDARY-BG:hsla(0,0%,100%,0.15);--weui-SEPARATOR-0:hsla(0,0%,100%,0.05);--weui-SEPARATOR-1:hsla(0,0%,100%,0.15);--weui-STATELAYER-HOVERED:rgba(0,0,0,0.02);--weui-STATELAYER-PRESSED:hsla(0,0%,100%,0.1);--weui-STATELAYER-PRESSEDSTRENGTHENED:hsla(0,0%,100%,0.2);--weui-YELLOW-100:#cc9c00;--weui-YELLOW-120:#a37c00;--weui-YELLOW-170:#3d2f00;--weui-YELLOW-80:#d6af33;--weui-YELLOW-90:#d1a519;--weui-YELLOW-BG-100:#bf9100;--weui-YELLOW-BG-110:#ab8200;--weui-YELLOW-BG-130:#866500;--weui-YELLOW-BG-90:#c59c1a;--weui-FG-HALF:hsla(0,0%,100%,0.65);--weui-RED:#fa5151;--weui-ORANGERED:#ff6146;--weui-ORANGE:#c87d2f;--weui-YELLOW:#cc9c00;--weui-GREEN:#74a800;--weui-LIGHTGREEN:#3eb575;--weui-TEXTGREEN:#259c5c;--weui-BRAND:#07c160;--weui-BLUE:#10aeff;--weui-INDIGO:#1196ff;--weui-PURPLE:#8183ff;--weui-LINK:#7d90a9;--weui-REDORANGE:#ff6146;--weui-TAG-BACKGROUND-BLACK:hsla(0,0%,100%,0.05);--weui-FG:#fff;--weui-WHITE:hsla(0,0%,100%,0.8);--weui-FG-5:hsla(0,0%,100%,0.1);--weui-TAG-BACKGROUND-ORANGE:rgba(250,157,59,0.1);--weui-TAG-BACKGROUND-GREEN:rgba(6,174,86,0.1);--weui-TAG-TEXT-RED:rgba(250,81,81,0.6);--weui-TAG-BACKGROUND-RED:rgba(250,81,81,0.1);--weui-TAG-BACKGROUND-BLUE:rgba(16,174,255,0.1);--weui-TAG-TEXT-ORANGE:rgba(250,157,59,0.6);--weui-BG:#000;--weui-TAG-TEXT-GREEN:rgba(6,174,86,0.6);--weui-TAG-TEXT-BLUE:rgba(16,174,255,0.6);--weui-TAG-TEXT-BLACK:hsla(0,0%,100%,0.5)}.wx-root{pointer-events:auto;font-family:system-ui,-apple-system,BlinkMacSystemFont,Helvetica Neue,PingFang SC,Hiragino Sans GB,Microsoft YaHei UI,Microsoft YaHei,Arial,sans-serif}.wx-root,.wx_card_root{position:relative}.wxw_hide{display:none!important}.wx_uninteractive{pointer-events:none}.wx-root,body{--APPMSGCARD-BG:#fafafa}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-BG:#1e1e1e}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-BG:#1e1e1e}}.wx-root,body{--APPMSGCARD-LINE-BG:rgba(0,0,0,0.07)}.wx-root[data-weui-theme=dark],body[data-weui-theme=dark]{--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}@media (prefers-color-scheme:dark){.wx-root:not([data-weui-theme=light]),body:not([data-weui-theme=light]){--APPMSGCARD-LINE-BG:hsla(0,0%,100%,0.07)}}.appmsg_card_context{position:relative;background-color:var(--APPMSGCARD-BG);border-radius:8px;-webkit-user-select:none;-moz-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}:host(.wx_tap_highlight_active) .wx_tap_link{opacity:.5}:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#f3f3f3}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:rgba(0,0,0,.05)}@media (prefers-color-scheme:dark){:host(.wx_tap_highlight_active) .wx_tap_card{background-color:#252525}:host(.wx_tap_highlight_active) .wx_tap_cell{background-color:hsla(0,0%,100%,.1)}}.wx_css_active :active{opacity:.5}.weui-flex__item{min-width:0}.weui-flex_align-center{align-items:center}[tabindex]{outline:0}.wx_hover_card:before{border-radius:8px;border:1px solid rgba(7,193,96,.3)}.wx_hover_card:before,.wx_selected_card:before{content:" ";position:absolute;top:0;left:0;right:0;bottom:0;box-sizing:border-box;pointer-events:none;z-index:9}.wx_selected_card:before{border-radius:8px;border:1.5px solid #07c160;background:rgba(7,193,96,.1)}img{pointer-events:none}.wx_profile_card{line-height:1.4;text-align:left;text-decoration:none;clear:both;position:relative}.wx_profile_card_ft{padding:8px 16px;align-items:center;position:relative;color:var(--weui-FG-2);font-size:14px}.wx_profile_card_ft:before{content:"";content:" ";position:absolute;left:0;top:0;right:0;height:1px;border-top:1px solid var(--APPMSGCARD-LINE-BG);color:var(--APPMSGCARD-LINE-BG);transform-origin:0 0;transform:scaleY(.5);left:16px;right:16px}.wx_profile_msg{position:absolute;top:0;left:0;width:100%;height:100%;display:flex;align-items:center;justify-content:center;z-index:1;background:hsla(0,0%,100%,.5);font-size:14px;font-weight:400}.common-web{margin:0 auto;max-width:350px}.wx_card_disabled .wx_profile_card_bd{filter:blur(2px)}.wx_profile{padding:20px 16px}.wx_profile .weui-icon-arrow{width:1em;height:2em}.wx_profile_hd{display:flex;padding-right:10px}.wx_profile_hd .wx_profile_avatar{width:44px;height:44px!important;border-radius:100%}.wx_profile_ft{padding-left:10px}.wx_profile_bd{align-items:center}.wx_profile_bd>.weui-flex__item{padding-right:16px}.wx_profile_nickname{display:inline-block;flex-shrink:1;color:var(--weui-FG-0);font-weight:500}.wx_profile_desc{width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal}.wx_profile_desc,.wx_profile_tips{color:var(--weui-FG-1);font-size:14px;margin-top:4px}.wx_profile_tips{display:flex;min-height:1.4em}.wx_profile_tips:empty{display:none}.wx_profile_nickname_wrp{position:relative;display:flex;flex-direction:row;align-items:center;width:auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;word-wrap:normal;font-size:17px;line-height:1.2;font-weight:500}.wx_follow_verify{flex-shrink:0;height:14px;width:14px;margin-left:2px;background-size:cover;background-position:50%;background-repeat:no-repeat}.wx_follow_verify.show-verify-personal{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNuddJ2beY0iOs-D3h-7MPQeIIoXE5kLrgfPY_Vr_hrKamxAjISc12pBthrd7Ja4S4w)}.wx_follow_verify.show-verify-company{display:block;background-image:url(https://res.wx.qq.com/op_res/nLnAiLrrETuU96Aym1ZDNjhMga6Fe1hiYp332DlZsT_u4THJyu8XegVlG723G5FblhAwxLO31iFVMkzq62jS3w)}.wx_follow_verify.show-verify-media{display:block;background-image:url(https://res.wx.qq.com/op_res/n1-Xym4hWn0AbVImOFGmT9sRdHV1rjoe3lnMHwxRdfbguJjDQH16CE7AIfDZy1KVMHWCPJIoAC4jrMEFqmqR4A)}</style>
      <div role="option" tabindex="0"
           aria-labelledby="js_a11y_wx_profile_nickname js_a11y_comma js_a11y_wx_profile_desc js_a11y_comma0 js_a11y_wx_profile_tips js_a11y_comma1 js_a11y_wx_profile_logo"
           class="appmsg_card_context wx_profile_card wx-root wx_tap_card wx_card_root common-web"
           data-weui-theme="light">
        <div class="wx_profile_card_inner">
          <div class="wx_profile_card_bd" aria-hidden="true">
            <div class="wx_profile weui-flex">
              <div class="wx_profile_hd">
                <img src="${o}" alt="" class="wx_profile_avatar">
              </div>
              <div class="wx_profile_bd weui-flex weui-flex__item">
                <div class="weui-flex__item">
                  <div class="wx_profile_nickname_wrp">
                    <strong id="js_a11y_wx_profile_nickname" class="wx_profile_nickname">${e}</strong>
                    <span class="wx_follow_verify ${s==="1"?"show-verify-personal":s==="2"?"show-verify-company":""}"></span>
                  </div>
                  <div id="js_a11y_wx_profile_desc" class="wx_profile_desc">${a}</div>
                </div>
                <i class="weui-icon-arrow"></i>
              </div>
            </div>
          </div>
          <div id="js_a11y_wx_profile_logo" aria-hidden="true" class="wx_profile_card_ft">
            ${n==="1"?"公众号":"服务号"}
          </div>
        </div>
        <span aria-hidden="true" id="js_a11y_comma" class="weui-a11y_ref" style="display: none;">，</span>
      </div>
    `}}function setupComponents(){customElements.define("mp-common-profile",MpCommonProfile)}initializeMermaid().catch(console.error);setupComponents();const app=createApp(_sfc_main);app.use(createPinia());app.mount("#app");const isInExtension=typeof chrome<"u"&&chrome.runtime&&chrome.runtime.id;async function getCurrentTab(){const t={active:!0,lastFocusedWindow:!0};if(typeof browser<"u"&&browser.tabs&&browser.tabs.query){const[o]=await browser.tabs.query(t);return o}const[e]=await chrome.tabs.query(t);return e}window.addEventListener("copyToMp",t=>{const e=t;isInExtension&&getCurrentTab().then(o=>{chrome.tabs.sendMessage(o.id,{type:"copyToMp",content:e.detail.content})})});
