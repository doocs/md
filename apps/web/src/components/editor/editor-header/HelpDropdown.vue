<script setup lang="ts">
const props = withDefaults(defineProps<{
  asSub?: boolean
}>(), {
  asSub: false,
})

const emit = defineEmits([`openAbout`, `openFund`, `openAiImage`])

const { asSub } = toRefs(props)

function openAboutDialog() {
  emit(`openAbout`)
}

function openFundDialog() {
  emit(`openFund`)
}

function openAIImageDialog() {
  console.log(`ğŸš€ HelpDropdown: openAIImageDialog è¢«è°ƒç”¨`)
  emit(`openAiImage`)
  console.log(`ğŸ“¤ HelpDropdown: å‘é€ openAiImage äº‹ä»¶`)
}
</script>

<template>
  <!-- ä½œä¸º MenubarSub ä½¿ç”¨ -->
  <MenubarSub v-if="asSub">
    <MenubarSubTrigger>
      å¸®åŠ©
    </MenubarSubTrigger>
    <MenubarSubContent align="start">
      <MenubarCheckboxItem @click="openAIImageDialog()">
        AI æ–‡ç”Ÿå›¾
      </MenubarCheckboxItem>
      <MenubarSeparator />
      <MenubarCheckboxItem @click="openAboutDialog()">
        å…³äº
      </MenubarCheckboxItem>
      <MenubarCheckboxItem @click="openFundDialog()">
        èµèµ
      </MenubarCheckboxItem>
    </MenubarSubContent>
  </MenubarSub>

  <!-- ä½œä¸º MenubarMenu ä½¿ç”¨ï¼ˆé»˜è®¤ï¼‰ -->
  <MenubarMenu v-else>
    <MenubarTrigger>å¸®åŠ©</MenubarTrigger>
    <MenubarContent align="start">
      <MenubarCheckboxItem @click="openAIImageDialog()">
        <span>AI æ–‡ç”Ÿå›¾</span>
      </MenubarCheckboxItem>
      <MenubarSeparator />
      <MenubarCheckboxItem @click="openAboutDialog()">
        <span>å…³äº</span>
      </MenubarCheckboxItem>
      <MenubarCheckboxItem @click="openFundDialog()">
        <span>èµèµ</span>
      </MenubarCheckboxItem>
    </MenubarContent>
  </MenubarMenu>
</template>
